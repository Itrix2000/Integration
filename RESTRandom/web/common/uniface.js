(function(h){function g(a,d,b){switch(arguments.length){case 2:return null!=a?a:d;case 3:return null!=a?a:null!=d?d:b;default:throw Error("Implement me");}}function f(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function m(a){!1===q.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+a)}function k(a,b){var e=!0;return d(function(){e&&
(m(a),e=!1);return b.apply(this,arguments)},b)}function c(a,d){return function(b){return r(a.call(this,b),d)}}function a(a,d){return function(b){return this.localeData().ordinal(a.call(this,b),d)}}function b(){}function e(a,d){!1!==d&&G(a);n(this,a);this._d=new Date(+a._d);!1===la&&(la=!0,q.updateOffset(this),la=!1)}function l(a){a=x(a);var d=a.year||0,b=a.quarter||0,e=a.month||0,n=a.week||0,l=a.day||0;this._milliseconds=+(a.millisecond||0)+1E3*(a.second||0)+6E4*(a.minute||0)+36E5*(a.hour||0);this._days=
+l+7*n;this._months=+e+3*b+12*d;this._data={};this._locale=q.localeData();this._bubble()}function d(a,d){for(var b in d)T.call(d,b)&&(a[b]=d[b]);T.call(d,"toString")&&(a.toString=d.toString);T.call(d,"valueOf")&&(a.valueOf=d.valueOf);return a}function n(a,d){var b,e,n;"undefined"!==typeof d._isAMomentObject&&(a._isAMomentObject=d._isAMomentObject);"undefined"!==typeof d._i&&(a._i=d._i);"undefined"!==typeof d._f&&(a._f=d._f);"undefined"!==typeof d._l&&(a._l=d._l);"undefined"!==typeof d._strict&&(a._strict=
d._strict);"undefined"!==typeof d._tzm&&(a._tzm=d._tzm);"undefined"!==typeof d._isUTC&&(a._isUTC=d._isUTC);"undefined"!==typeof d._offset&&(a._offset=d._offset);"undefined"!==typeof d._pf&&(a._pf=d._pf);"undefined"!==typeof d._locale&&(a._locale=d._locale);if(0<ga.length)for(b in ga)e=ga[b],n=d[e],"undefined"!==typeof n&&(a[e]=n);return a}function p(a){return 0>a?Math.ceil(a):Math.floor(a)}function r(a,d,b){for(var e=""+Math.abs(a);e.length<d;)e="0"+e;return(0<=a?b?"+":"":"-")+e}function z(a,d){var b=
{milliseconds:0,months:0};b.months=d.month()-a.month()+12*(d.year()-a.year());a.clone().add(b.months,"M").isAfter(d)&&--b.months;b.milliseconds=+d-+a.clone().add(b.months,"M");return b}function A(a,d){var b;d=ea(d,a);a.isBefore(d)?b=z(a,d):(b=z(d,a),b.milliseconds=-b.milliseconds,b.months=-b.months);return b}function s(a,d){return function(b,e){var n;null===e||isNaN(+e)||(ua[d]||(m("moment()."+d+"(period, number) is deprecated. Please use moment()."+d+"(number, period)."),ua[d]=!0),n=b,b=e,e=n);n=
q.duration("string"===typeof b?+b:b,e);v(this,n,a);return this}}function v(a,d,b,e){var n=d._milliseconds,l=d._days;d=d._months;e=null==e?!0:e;n&&a._d.setTime(+a._d+n*b);l&&va(a,"Date",ma(a,"Date")+l*b);d&&wa(a,ma(a,"Month")+d*b);e&&q.updateOffset(a,l||d)}function w(a){return"[object Array]"===Object.prototype.toString.call(a)}function C(a){return"[object Date]"===Object.prototype.toString.call(a)||a instanceof Date}function B(a,d,b){var e=Math.min(a.length,d.length),n=Math.abs(a.length-d.length),
l=0,c;for(c=0;c<e;c++)(b&&a[c]!==d[c]||!b&&t(a[c])!==t(d[c]))&&l++;return l+n}function y(a){if(a){var d=a.toLowerCase().replace(/(.)s$/,"$1");a=La[a]||Ma[d]||d}return a}function x(a){var d={},b,e;for(e in a)T.call(a,e)&&(b=y(e))&&(d[b]=a[e]);return d}function E(a){var d,b;if(0===a.indexOf("week"))d=7,b="day";else if(0===a.indexOf("month"))d=12,b="month";else return;q[a]=function(e,n){var l,c,p=q._locale[a],f=[];"number"===typeof e&&(n=e,e=h);c=function(a){a=q().utc().set(b,a);return p.call(q._locale,
a,e||"")};if(null!=n)return c(n);for(l=0;l<d;l++)f.push(c(l));return f}}function t(a){a=+a;var d=0;0!==a&&isFinite(a)&&(d=0<=a?Math.floor(a):Math.ceil(a));return d}function D(a,d){return(new Date(Date.UTC(a,d+1,0))).getUTCDate()}function U(a,d,b){return V(q([a,11,31+d-b]),d,b).week}function I(a){return 0===a%4&&0!==a%100||0===a%400}function G(a){var d;a._a&&-2===a._pf.overflow&&(d=0>a._a[N]||11<a._a[N]?N:1>a._a[L]||a._a[L]>D(a._a[O],a._a[N])?L:0>a._a[J]||24<a._a[J]||24===a._a[J]&&(0!==a._a[W]||0!==
a._a[X]||0!==a._a[Y])?J:0>a._a[W]||59<a._a[W]?W:0>a._a[X]||59<a._a[X]?X:0>a._a[Y]||999<a._a[Y]?Y:-1,a._pf._overflowDayOfYear&&(d<O||d>L)&&(d=L),a._pf.overflow=d)}function ha(a){null==a._isValid&&(a._isValid=!isNaN(a._d.getTime())&&0>a._pf.overflow&&!a._pf.empty&&!a._pf.invalidMonth&&!a._pf.nullInput&&!a._pf.invalidFormat&&!a._pf.userInvalidated,a._strict&&(a._isValid=a._isValid&&0===a._pf.charsLeftOver&&0===a._pf.unusedTokens.length&&a._pf.bigHour===h));return a._isValid}function R(a){var d=null;
if(!Z[a]&&xa)try{d=q.locale(),require("./locale/"+a),q.locale(d)}catch(b){}return Z[a]}function ea(a,d){var b,e;return d._isUTC?(b=d.clone(),e=(q.isMoment(a)||C(a)?+a:+q(a))-+b,b._d.setTime(+b._d+e),q.updateOffset(b,!1),b):q(a).local()}function K(a){var d=a.match(ya),b,e;b=0;for(e=d.length;b<e;b++)d[b]=P[d[b]]?P[d[b]]:d[b].match(/\[[\s\S]/)?d[b].replace(/^\[|\]$/g,""):d[b].replace(/\\/g,"");return function(n){var l="";for(b=0;b<e;b++)l+=d[b]instanceof Function?d[b].call(n,a):d[b];return l}}function aa(a,
d){if(!a.isValid())return a.localeData().invalidDate();d=ba(d,a.localeData());na[d]||(na[d]=K(d));return na[d](a)}function ba(a,d){function b(a){return d.longDateFormat(a)||a}var e=5;for(ia.lastIndex=0;0<=e&&ia.test(a);)a=a.replace(ia,b),ia.lastIndex=0,e-=1;return a}function oa(a,d){var b=d._strict;switch(a){case "Q":return za;case "DDDD":return Aa;case "YYYY":case "GGGG":case "gggg":return b?Na:Oa;case "Y":case "G":case "g":return Pa;case "YYYYYY":case "YYYYY":case "GGGGG":case "ggggg":return b?
Qa:Ra;case "S":if(b)return za;case "SS":if(b)return Ba;case "SSS":if(b)return Aa;case "DDD":return Sa;case "MMM":case "MMMM":case "dd":case "ddd":case "dddd":return Ta;case "a":case "A":return d._locale._meridiemParse;case "x":return Ua;case "X":return Va;case "Z":case "ZZ":return pa;case "T":return Wa;case "SSSS":return Xa;case "MM":case "DD":case "YY":case "GG":case "gg":case "HH":case "hh":case "mm":case "ss":case "ww":case "WW":return b?Ba:Ca;case "M":case "D":case "d":case "H":case "h":case "m":case "s":case "w":case "W":case "e":case "E":return Ca;
case "Do":return b?d._locale._ordinalParse:d._locale._ordinalParseLenient;default:var b=RegExp,e;e=M(a.replace("\\","")).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");return new b(e)}}function fa(a){a=(a||"").match(pa)||[];a=((a[a.length-1]||[])+"").match(Ya)||["-",0,0];var d=+(60*a[1])+t(a[2]);return"+"===a[0]?d:-d}function u(a){var d,b,e=[],n;if(!a._d){n=new Date;n=a._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()];if(a._w&&null==a._a[L]&&null==a._a[N]){var l,
c,p;l=a._w;null!=l.GG||null!=l.W||null!=l.E?(d=1,p=4,b=g(l.GG,a._a[O],V(q(),1,4).year),c=g(l.W,1),l=g(l.E,1)):(d=a._locale._week.dow,p=a._locale._week.doy,b=g(l.gg,a._a[O],V(q(),d,p).year),c=g(l.w,1),null!=l.d?(l=l.d,l<d&&++c):l=null!=l.e?l.e+d:d);var f=qa(b,0,1).getUTCDay(),f=0===f?7:f;p=7*(c-1)+((null!=l?l:d)-d)+(d-f+(f>p?7:0)-(f<d?7:0))+1;d=0<p?b:b-1;b=0<p?p:(I(b-1)?366:365)+p;a._a[O]=d;a._dayOfYear=b}a._dayOfYear&&(b=g(a._a[O],n[O]),a._dayOfYear>(I(b)?366:365)&&(a._pf._overflowDayOfYear=!0),b=
qa(b,0,a._dayOfYear),a._a[N]=b.getUTCMonth(),a._a[L]=b.getUTCDate());for(b=0;3>b&&null==a._a[b];++b)a._a[b]=e[b]=n[b];for(;7>b;b++)a._a[b]=e[b]=null==a._a[b]?2===b?1:0:a._a[b];24===a._a[J]&&0===a._a[W]&&0===a._a[X]&&0===a._a[Y]&&(a._nextDay=!0,a._a[J]=0);a._d=(a._useUTC?qa:Za).apply(null,e);null!=a._tzm&&a._d.setUTCMinutes(a._d.getUTCMinutes()-a._tzm);a._nextDay&&(a._a[J]=24)}}function ca(a){var d;a._d||(d=x(a._i),a._a=[d.year,d.month,d.day||d.date,d.hour,d.minute,d.second,d.millisecond],u(a))}function F(a){if(a._f===
q.ISO_8601)da(a);else{a._a=[];a._pf.empty=!0;var d=""+a._i,b,e,n,l,c,p=d.length,f=0;n=ba(a._f,a._locale).match(ya)||[];for(b=0;b<n.length;b++){l=n[b];if(e=(d.match(oa(l,a))||[])[0])c=d.substr(0,d.indexOf(e)),0<c.length&&a._pf.unusedInput.push(c),d=d.slice(d.indexOf(e)+e.length),f+=e.length;if(P[l]){e?a._pf.empty=!1:a._pf.unusedTokens.push(l);c=a;var k=void 0,g=c._a;switch(l){case "Q":null!=e&&(g[N]=3*(t(e)-1));break;case "M":case "MM":null!=e&&(g[N]=t(e)-1);break;case "MMM":case "MMMM":k=c._locale.monthsParse(e,
l,c._strict);null!=k?g[N]=k:c._pf.invalidMonth=e;break;case "D":case "DD":null!=e&&(g[L]=t(e));break;case "Do":null!=e&&(g[L]=t(parseInt(e.match(/\d{1,2}/)[0],10)));break;case "DDD":case "DDDD":null!=e&&(c._dayOfYear=t(e));break;case "YY":g[O]=q.parseTwoDigitYear(e);break;case "YYYY":case "YYYYY":case "YYYYYY":g[O]=t(e);break;case "a":case "A":c._meridiem=e;break;case "h":case "hh":c._pf.bigHour=!0;case "H":case "HH":g[J]=t(e);break;case "m":case "mm":g[W]=t(e);break;case "s":case "ss":g[X]=t(e);
break;case "S":case "SS":case "SSS":case "SSSS":g[Y]=t(1E3*("0."+e));break;case "x":c._d=new Date(t(e));break;case "X":c._d=new Date(1E3*parseFloat(e));break;case "Z":case "ZZ":c._useUTC=!0;c._tzm=fa(e);break;case "dd":case "ddd":case "dddd":k=c._locale.weekdaysParse(e);null!=k?(c._w=c._w||{},c._w.d=k):c._pf.invalidWeekday=e;break;case "w":case "ww":case "W":case "WW":case "d":case "e":case "E":l=l.substr(0,1);case "gggg":case "GGGG":case "GGGGG":l=l.substr(0,2);e&&(c._w=c._w||{},c._w[l]=t(e));break;
case "gg":case "GG":c._w=c._w||{},c._w[l]=q.parseTwoDigitYear(e)}}else a._strict&&!e&&a._pf.unusedTokens.push(l)}a._pf.charsLeftOver=p-f;0<d.length&&a._pf.unusedInput.push(d);!0===a._pf.bigHour&&12>=a._a[J]&&(a._pf.bigHour=h);d=a._a;b=J;p=a._locale;n=a._a[J];f=a._meridiem;null!=f&&(null!=p.meridiemHour?n=p.meridiemHour(n,f):null!=p.isPM&&((p=p.isPM(f))&&12>n&&(n+=12),p||12!==n||(n=0)));d[b]=n;u(a);G(a)}}function M(a){return a.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(a,d,b,e,n){return d||
b||e||n})}function da(a){var d,b,e=a._i,n=$a.exec(e);if(n){a._pf.iso=!0;d=0;for(b=ra.length;d<b;d++)if(ra[d][1].exec(e)){a._f=ra[d][0]+(n[6]||" ");break}d=0;for(b=sa.length;d<b;d++)if(sa[d][1].exec(e)){a._f+=sa[d][0];break}e.match(pa)&&(a._f+="Z");F(a)}else a._isValid=!1}function ja(a){da(a);!1===a._isValid&&(delete a._isValid,q.createFromInputFallback(a))}function ka(a,d){var b=[],e;for(e=0;e<a.length;++e)b.push(d(a[e],e));return b}function ab(a){var d=a._i,b;d===h?a._d=new Date:C(d)?a._d=new Date(+d):
null!==(b=bb.exec(d))?a._d=new Date(+b[1]):"string"===typeof d?ja(a):w(d)?(a._a=ka(d.slice(0),function(a){return parseInt(a,10)}),u(a)):"object"===typeof d?ca(a):"number"===typeof d?a._d=new Date(d):q.createFromInputFallback(a)}function Za(a,d,b,e,n,l,c){d=new Date(a,d,b,e,n,l,c);1970>a&&d.setFullYear(a);return d}function qa(a){var d=new Date(Date.UTC.apply(null,arguments));1970>a&&d.setUTCFullYear(a);return d}function cb(a,d,b,e,n){return n.relativeTime(d||1,!!b,a,e)}function V(a,d,b){d=b-d;b-=a.day();
b>d&&(b-=7);b<d-7&&(b+=7);a=q(a).add(b,"d");return{week:Math.ceil(a.dayOfYear()/7),year:a.year()}}function Da(a){var b=a._i,l=a._f;a._locale=a._locale||q.localeData(a._l);if(null===b||l===h&&""===b)return q.invalid({nullInput:!0});"string"===typeof b&&(a._i=b=a._locale.preparse(b));if(q.isMoment(b))return new e(b,!0);if(l)if(w(l)){var c,p,g;if(0===a._f.length)a._pf.invalidFormat=!0,a._d=new Date(NaN);else{for(b=0;b<a._f.length;b++)if(l=0,c=n({},a),null!=a._useUTC&&(c._useUTC=a._useUTC),c._pf=f(),
c._f=a._f[b],F(c),ha(c)&&(l+=c._pf.charsLeftOver,l+=10*c._pf.unusedTokens.length,c._pf.score=l,null==g||l<g))g=l,p=c;d(a,p||c)}}else F(a);else ab(a);a=new e(a);a._nextDay&&(a.add(1,"d"),a._nextDay=h);return a}function Ea(a,d){var b,e;1===d.length&&w(d[0])&&(d=d[0]);if(!d.length)return q();b=d[0];for(e=1;e<d.length;++e)d[e][a](b)&&(b=d[e]);return b}function wa(a,d){var b;if("string"===typeof d&&(d=a.localeData().monthsParse(d),"number"!==typeof d))return a;b=Math.min(a.date(),D(a.year(),d));a._d["set"+
(a._isUTC?"UTC":"")+"Month"](d,b);return a}function ma(a,d){return a._d["get"+(a._isUTC?"UTC":"")+d]()}function va(a,d,b){return"Month"===d?wa(a,b):a._d["set"+(a._isUTC?"UTC":"")+d](b)}function Q(a,d){return function(b){return null!=b?(va(this,a,b),q.updateOffset(this,d),this):ma(this,a)}}function db(a){q.duration.fn[a]=function(){return this._data[a]}}function Fa(a){"undefined"===typeof ender&&(Ga=ta.moment,ta.moment=a?k("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",
q):q)}for(var q,ta="undefined"===typeof global||"undefined"!==typeof window&&window!==global.window?this:global,Ga,$=Math.round,T=Object.prototype.hasOwnProperty,H,O=0,N=1,L=2,J=3,W=4,X=5,Y=6,Z={},ga=[],xa="undefined"!==typeof module&&module&&module.exports,bb=/^\/?Date\((\-?\d+)/i,eb=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,fb=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,ya=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,
ia=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ca=/\d\d?/,Sa=/\d{1,3}/,Oa=/\d{1,4}/,Ra=/[+\-]?\d{1,6}/,Xa=/\d+/,Ta=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,pa=/Z|[\+\-]\d\d:?\d\d/gi,Wa=/T/i,Ua=/[\+\-]?\d+/,Va=/[\+\-]?\d+(\.\d{1,3})?/,za=/\d/,Ba=/\d\d/,Aa=/\d{3}/,Na=/\d{4}/,Qa=/[+-]?\d{6}/,Pa=/[+-]?\d+/,$a=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
ra=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],sa=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],Ya=/([\+\-]|\d\d)/gi,Ha={Milliseconds:1,Seconds:1E3,Minutes:6E4,Hours:36E5,Days:864E5,Months:2592E6,Years:31536E6},La={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",
M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Ma={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},na={},S={s:45,m:45,h:22,d:26,M:11},Ia="DDD w W M D d".split(" "),Ja="MDHhmswW".split(""),P={M:function(){return this.month()+1},MMM:function(a){return this.localeData().monthsShort(this,a)},MMMM:function(a){return this.localeData().months(this,a)},D:function(){return this.date()},
DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(a){return this.localeData().weekdaysMin(this,a)},ddd:function(a){return this.localeData().weekdaysShort(this,a)},dddd:function(a){return this.localeData().weekdays(this,a)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return r(this.year()%100,2)},YYYY:function(){return r(this.year(),4)},YYYYY:function(){return r(this.year(),5)},YYYYYY:function(){var a=this.year();return(0<=a?"+":
"-")+r(Math.abs(a),6)},gg:function(){return r(this.weekYear()%100,2)},gggg:function(){return r(this.weekYear(),4)},ggggg:function(){return r(this.weekYear(),5)},GG:function(){return r(this.isoWeekYear()%100,2)},GGGG:function(){return r(this.isoWeekYear(),4)},GGGGG:function(){return r(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),
this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return t(this.milliseconds()/100)},SS:function(){return r(t(this.milliseconds()/10),2)},SSS:function(){return r(this.milliseconds(),3)},SSSS:function(){return r(this.milliseconds(),3)},Z:function(){var a=this.utcOffset(),d="+";0>a&&(a=-a,d="-");return d+r(t(a/60),2)+":"+r(t(a)%60,2)},ZZ:function(){var a=this.utcOffset(),
d="+";0>a&&(a=-a,d="-");return d+r(t(a/60),2)+r(t(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},ua={},Ka=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],la=!1;Ia.length;)H=Ia.pop(),P[H+"o"]=a(P[H],H);for(;Ja.length;)H=Ja.pop(),P[H+H]=c(P[H],2);P.DDDD=c(P.DDD,3);d(b.prototype,{set:function(a){var d,b;for(b in a)d=a[b],"function"===typeof d?
this[b]=d:this["_"+b]=d;this._ordinalParseLenient=RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January February March April May June July August September October November December".split(" "),months:function(a){return this._months[a.month()]},_monthsShort:"Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),monthsShort:function(a){return this._monthsShort[a.month()]},monthsParse:function(a,d,b){var e,n;this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],
this._shortMonthsParse=[]);for(e=0;12>e;e++)if(n=q.utc([2E3,e]),b&&!this._longMonthsParse[e]&&(this._longMonthsParse[e]=RegExp("^"+this.months(n,"").replace(".","")+"$","i"),this._shortMonthsParse[e]=RegExp("^"+this.monthsShort(n,"").replace(".","")+"$","i")),b||this._monthsParse[e]||(n="^"+this.months(n,"")+"|^"+this.monthsShort(n,""),this._monthsParse[e]=RegExp(n.replace(".",""),"i")),b&&"MMMM"===d&&this._longMonthsParse[e].test(a)||b&&"MMM"===d&&this._shortMonthsParse[e].test(a)||!b&&this._monthsParse[e].test(a))return e},
_weekdays:"Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),weekdays:function(a){return this._weekdays[a.day()]},_weekdaysShort:"Sun Mon Tue Wed Thu Fri Sat".split(" "),weekdaysShort:function(a){return this._weekdaysShort[a.day()]},_weekdaysMin:"Su Mo Tu We Th Fr Sa".split(" "),weekdaysMin:function(a){return this._weekdaysMin[a.day()]},weekdaysParse:function(a){var d,b;this._weekdaysParse||(this._weekdaysParse=[]);for(d=0;7>d;d++)if(this._weekdaysParse[d]||(b=q([2E3,1]).day(d),
b="^"+this.weekdays(b,"")+"|^"+this.weekdaysShort(b,"")+"|^"+this.weekdaysMin(b,""),this._weekdaysParse[d]=RegExp(b.replace(".",""),"i")),this._weekdaysParse[d].test(a))return d},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(a){var d=this._longDateFormat[a];!d&&this._longDateFormat[a.toUpperCase()]&&(d=this._longDateFormat[a.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(a){return a.slice(1)}),
this._longDateFormat[a]=d);return d},isPM:function(a){return"p"===(a+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(a,d,b){return 11<a?b?"pm":"PM":b?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(a,d,b){a=this._calendar[a];return"function"===typeof a?a.apply(d,[b]):a},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",
m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(a,d,b,e){var n=this._relativeTime[b];return"function"===typeof n?n(a,d,b,e):n.replace(/%d/i,a)},pastFuture:function(a,d){var b=this._relativeTime[0<a?"future":"past"];return"function"===typeof b?b(d):b.replace(/%s/i,d)},ordinal:function(a){return this._ordinal.replace("%d",a)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(a){return a},postformat:function(a){return a},
week:function(a){return V(a,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}});q=function(a,d,b,e){var n;"boolean"===typeof b&&(e=b,b=h);n={_isAMomentObject:!0};n._i=a;n._f=d;n._l=b;n._strict=e;n._isUTC=!1;n._pf=f();return Da(n)};q.suppressDeprecationWarnings=!1;q.createFromInputFallback=k("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",
function(a){a._d=new Date(a._i+(a._useUTC?" UTC":""))});q.min=function(){var a=[].slice.call(arguments,0);return Ea("isBefore",a)};q.max=function(){var a=[].slice.call(arguments,0);return Ea("isAfter",a)};q.utc=function(a,d,b,e){var n;"boolean"===typeof b&&(e=b,b=h);n={_isAMomentObject:!0,_useUTC:!0,_isUTC:!0};n._l=b;n._i=a;n._f=d;n._strict=e;n._pf=f();return Da(n).utc()};q.unix=function(a){return q(1E3*a)};q.duration=function(a,d){var b=a,e=null,n;q.isDuration(a)?b={ms:a._milliseconds,d:a._days,
M:a._months}:"number"===typeof a?(b={},d?b[d]=a:b.milliseconds=a):(e=eb.exec(a))?(n="-"===e[1]?-1:1,b={y:0,d:t(e[L])*n,h:t(e[J])*n,m:t(e[W])*n,s:t(e[X])*n,ms:t(e[Y])*n}):(e=fb.exec(a))?(n="-"===e[1]?-1:1,b=function(a){a=a&&parseFloat(a.replace(",","."));return(isNaN(a)?0:a)*n},b={y:b(e[2]),M:b(e[3]),d:b(e[4]),h:b(e[5]),m:b(e[6]),s:b(e[7]),w:b(e[8])}):null==b?b={}:"object"===typeof b&&("from"in b||"to"in b)&&(e=A(q(b.from),q(b.to)),b={},b.ms=e.milliseconds,b.M=e.months);b=new l(b);q.isDuration(a)&&
T.call(a,"_locale")&&(b._locale=a._locale);return b};q.version="2.9.0";q.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";q.ISO_8601=function(){};q.momentProperties=ga;q.updateOffset=function(){};q.relativeTimeThreshold=function(a,d){if(S[a]===h)return!1;if(d===h)return S[a];S[a]=d;return!0};q.lang=k("moment.lang is deprecated. Use moment.locale instead.",function(a,d){return q.locale(a,d)});q.locale=function(a,d){var b;a&&(b="undefined"!==typeof d?q.defineLocale(a,d):q.localeData(a))&&(q.duration._locale=q._locale=
b);return q._locale._abbr};q.defineLocale=function(a,d){if(null!==d)return d.abbr=a,Z[a]||(Z[a]=new b),Z[a].set(d),q.locale(a),Z[a];delete Z[a];return null};q.langData=k("moment.langData is deprecated. Use moment.localeData instead.",function(a){return q.localeData(a)});q.localeData=function(a){var d;a&&a._locale&&a._locale._abbr&&(a=a._locale._abbr);if(!a)return q._locale;if(!w(a)){if(d=R(a))return d;a=[a]}a:{d=0;for(var b,e,n,l;d<a.length;){l=(a[d]?a[d].toLowerCase().replace("_","-"):a[d]).split("-");
b=l.length;for(e=(e=a[d+1]?a[d+1].toLowerCase().replace("_","-"):a[d+1])?e.split("-"):null;0<b;){if(n=R(l.slice(0,b).join("-"))){a=n;break a}if(e&&e.length>=b&&B(l,e,!0)>=b-1)break;b--}d++}a=null}return a};q.isMoment=function(a){return a instanceof e||null!=a&&T.call(a,"_isAMomentObject")};q.isDuration=function(a){return a instanceof l};for(H=Ka.length-1;0<=H;--H)E(Ka[H]);q.normalizeUnits=function(a){return y(a)};q.invalid=function(a){var b=q.utc(NaN);null!=a?d(b._pf,a):b._pf.userInvalidated=!0;return b};
q.parseZone=function(){return q.apply(null,arguments).parseZone()};q.parseTwoDigitYear=function(a){return t(a)+(68<t(a)?1900:2E3)};q.isDate=C;d(q.fn=e.prototype,{clone:function(){return q(this)},valueOf:function(){return+this._d-6E4*(this._offset||0)},unix:function(){return Math.floor(+this/1E3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var a=q(this).utc();
return 0<a.year()&&9999>=a.year()?"function"===typeof Date.prototype.toISOString?this.toDate().toISOString():aa(a,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):aa(a,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){return[this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds(),this.milliseconds()]},isValid:function(){return ha(this)},isDSTShifted:function(){return this._a?this.isValid()&&0<B(this._a,(this._isUTC?q.utc(this._a):q(this._a)).toArray()):!1},parsingFlags:function(){return d({},
this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(a){return this.utcOffset(0,a)},local:function(a){this._isUTC&&(this.utcOffset(0,a),this._isUTC=!1,a&&this.subtract(this._dateUtcOffset(),"m"));return this},format:function(a){a=aa(this,a||q.defaultFormat);return this.localeData().postformat(a)},add:s(1,"add"),subtract:s(-1,"subtract"),diff:function(a,d,b){a=ea(a,this);var e=6E4*(a.utcOffset()-this.utcOffset());d=y(d);if("year"===d||"month"===d||"quarter"===d){var e=12*(a.year()-
this.year())+(a.month()-this.month()),n=this.clone().add(e,"months"),l;0>a-n?(l=this.clone().add(e-1,"months"),a=(a-n)/(n-l)):(l=this.clone().add(e+1,"months"),a=(a-n)/(l-n));a=-(e+a);"quarter"===d?a/=3:"year"===d&&(a/=12)}else a=this-a,a="second"===d?a/1E3:"minute"===d?a/6E4:"hour"===d?a/36E5:"day"===d?(a-e)/864E5:"week"===d?(a-e)/6048E5:a;return b?a:p(a)},from:function(a,d){return q.duration({to:this,from:a}).locale(this.locale()).humanize(!d)},fromNow:function(a){return this.from(q(),a)},calendar:function(a){a=
a||q();var d=ea(a,this).startOf("day"),d=this.diff(d,"days",!0),d=-6>d?"sameElse":-1>d?"lastWeek":0>d?"lastDay":1>d?"sameDay":2>d?"nextDay":7>d?"nextWeek":"sameElse";return this.format(this.localeData().calendar(d,this,q(a)))},isLeapYear:function(){return I(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(a){var d=this._isUTC?this._d.getUTCDay():this._d.getDay();if(null!=a){a:{var b=this.localeData();
if("string"===typeof a)if(isNaN(a)){if(a=b.weekdaysParse(a),"number"!==typeof a){a=null;break a}}else a=parseInt(a,10)}return this.add(a-d,"d")}return d},month:Q("Month",!0),startOf:function(a){a=y(a);switch(a){case "year":this.month(0);case "quarter":case "month":this.date(1);case "week":case "isoWeek":case "day":this.hours(0);case "hour":this.minutes(0);case "minute":this.seconds(0);case "second":this.milliseconds(0)}"week"===a?this.weekday(0):"isoWeek"===a&&this.isoWeekday(1);"quarter"===a&&this.month(3*
Math.floor(this.month()/3));return this},endOf:function(a){a=y(a);return a===h||"millisecond"===a?this:this.startOf(a).add(1,"isoWeek"===a?"week":a).subtract(1,"ms")},isAfter:function(a,d){d=y("undefined"!==typeof d?d:"millisecond");return"millisecond"===d?(a=q.isMoment(a)?a:q(a),+this>+a):(q.isMoment(a)?+a:+q(a))<+this.clone().startOf(d)},isBefore:function(a,d){var b;d=y("undefined"!==typeof d?d:"millisecond");if("millisecond"===d)return a=q.isMoment(a)?a:q(a),+this<+a;b=q.isMoment(a)?+a:+q(a);return+this.clone().endOf(d)<
b},isBetween:function(a,d,b){return this.isAfter(a,b)&&this.isBefore(d,b)},isSame:function(a,d){var b;d=y(d||"millisecond");if("millisecond"===d)return a=q.isMoment(a)?a:q(a),+this===+a;b=+q(a);return+this.clone().startOf(d)<=b&&b<=+this.clone().endOf(d)},min:k("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(a){a=q.apply(null,arguments);return a<this?this:a}),max:k("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",
function(a){a=q.apply(null,arguments);return a>this?this:a}),zone:k("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(a,d){return null!=a?("string"!==typeof a&&(a=-a),this.utcOffset(a,d),this):-this.utcOffset()}),utcOffset:function(a,d){var b=this._offset||0,e;return null!=a?("string"===typeof a&&(a=fa(a)),16>Math.abs(a)&&(a*=60),!this._isUTC&&d&&(e=this._dateUtcOffset()),this._offset=a,this._isUTC=!0,null!=e&&this.add(e,"m"),b!==
a&&(!d||this._changeInProgress?v(this,q.duration(a-b,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,q.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?b:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){this._tzm?
this.utcOffset(this._tzm):"string"===typeof this._i&&this.utcOffset(fa(this._i));return this},hasAlignedHourOffset:function(a){a=a?q(a).utcOffset():0;return 0===(this.utcOffset()-a)%60},daysInMonth:function(){return D(this.year(),this.month())},dayOfYear:function(a){var d=$((q(this).startOf("day")-q(this).startOf("year"))/864E5)+1;return null==a?d:this.add(a-d,"d")},quarter:function(a){return null==a?Math.ceil((this.month()+1)/3):this.month(3*(a-1)+this.month()%3)},weekYear:function(a){var d=V(this,
this.localeData()._week.dow,this.localeData()._week.doy).year;return null==a?d:this.add(a-d,"y")},isoWeekYear:function(a){var d=V(this,1,4).year;return null==a?d:this.add(a-d,"y")},week:function(a){var d=this.localeData().week(this);return null==a?d:this.add(7*(a-d),"d")},isoWeek:function(a){var d=V(this,1,4).week;return null==a?d:this.add(7*(a-d),"d")},weekday:function(a){var d=(this.day()+7-this.localeData()._week.dow)%7;return null==a?d:this.add(a-d,"d")},isoWeekday:function(a){return null==a?
this.day()||7:this.day(this.day()%7?a:a-7)},isoWeeksInYear:function(){return U(this.year(),1,4)},weeksInYear:function(){var a=this.localeData()._week;return U(this.year(),a.dow,a.doy)},get:function(a){a=y(a);return this[a]()},set:function(a,d){var b;if("object"===typeof a)for(b in a)this.set(b,a[b]);else if(a=y(a),"function"===typeof this[a])this[a](d);return this},locale:function(a){if(a===h)return this._locale._abbr;a=q.localeData(a);null!=a&&(this._locale=a);return this},lang:k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",
function(a){return a===h?this.localeData():this.locale(a)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}});q.fn.millisecond=q.fn.milliseconds=Q("Milliseconds",!1);q.fn.second=q.fn.seconds=Q("Seconds",!1);q.fn.minute=q.fn.minutes=Q("Minutes",!1);q.fn.hour=q.fn.hours=Q("Hours",!0);q.fn.date=Q("Date",!0);q.fn.dates=k("dates accessor is deprecated. Use date instead.",Q("Date",!0));q.fn.year=Q("FullYear",!0);q.fn.years=k("years accessor is deprecated. Use year instead.",
Q("FullYear",!0));q.fn.days=q.fn.day;q.fn.months=q.fn.month;q.fn.weeks=q.fn.week;q.fn.isoWeeks=q.fn.isoWeek;q.fn.quarters=q.fn.quarter;q.fn.toJSON=q.fn.toISOString;q.fn.isUTC=q.fn.isUtc;d(q.duration.fn=l.prototype,{_bubble:function(){var a=this._milliseconds,d=this._days,b=this._months,e=this._data,n=0;e.milliseconds=a%1E3;a=p(a/1E3);e.seconds=a%60;a=p(a/60);e.minutes=a%60;a=p(a/60);e.hours=a%24;d+=p(a/24);n=p(400*d/146097);d-=p(146097*n/400);b+=p(d/30);d%=30;n+=p(b/12);e.days=d;e.months=b%12;e.years=
n},abs:function(){this._milliseconds=Math.abs(this._milliseconds);this._days=Math.abs(this._days);this._months=Math.abs(this._months);this._data.milliseconds=Math.abs(this._data.milliseconds);this._data.seconds=Math.abs(this._data.seconds);this._data.minutes=Math.abs(this._data.minutes);this._data.hours=Math.abs(this._data.hours);this._data.months=Math.abs(this._data.months);this._data.years=Math.abs(this._data.years);return this},weeks:function(){return p(this.days()/7)},valueOf:function(){return this._milliseconds+
864E5*this._days+this._months%12*2592E6+31536E6*t(this._months/12)},humanize:function(a){var d;d=!a;var b=this.localeData(),e=q.duration(this).abs(),n=$(e.as("s")),l=$(e.as("m")),c=$(e.as("h")),p=$(e.as("d")),f=$(e.as("M")),e=$(e.as("y")),n=n<S.s&&["s",n]||1===l&&["m"]||l<S.m&&["mm",l]||1===c&&["h"]||c<S.h&&["hh",c]||1===p&&["d"]||p<S.d&&["dd",p]||1===f&&["M"]||f<S.M&&["MM",f]||1===e&&["y"]||["yy",e];n[2]=d;n[3]=0<+this;n[4]=b;d=cb.apply({},n);a&&(d=this.localeData().pastFuture(+this,d));return this.localeData().postformat(d)},
add:function(a,d){var b=q.duration(a,d);this._milliseconds+=b._milliseconds;this._days+=b._days;this._months+=b._months;this._bubble();return this},subtract:function(a,d){var b=q.duration(a,d);this._milliseconds-=b._milliseconds;this._days-=b._days;this._months-=b._months;this._bubble();return this},get:function(a){a=y(a);return this[a.toLowerCase()+"s"]()},as:function(a){var d;a=y(a);if("month"===a||"year"===a)return d=this._days+this._milliseconds/864E5,d=this._months+400*d/146097*12,"month"===
a?d:d/12;d=this._days+Math.round(this._months/12*146097/400);switch(a){case "week":return d/7+this._milliseconds/6048E5;case "day":return d+this._milliseconds/864E5;case "hour":return 24*d+this._milliseconds/36E5;case "minute":return 1440*d+this._milliseconds/6E4;case "second":return 86400*d+this._milliseconds/1E3;case "millisecond":return Math.floor(864E5*d)+this._milliseconds;default:throw Error("Unknown unit "+a);}},lang:q.fn.lang,locale:q.fn.locale,toIsoString:k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",
function(){return this.toISOString()}),toISOString:function(){var a=Math.abs(this.years()),d=Math.abs(this.months()),b=Math.abs(this.days()),e=Math.abs(this.hours()),n=Math.abs(this.minutes()),l=Math.abs(this.seconds()+this.milliseconds()/1E3);return this.asSeconds()?(0>this.asSeconds()?"-":"")+"P"+(a?a+"Y":"")+(d?d+"M":"")+(b?b+"D":"")+(e||n||l?"T":"")+(e?e+"H":"")+(n?n+"M":"")+(l?l+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}});q.duration.fn.toString=
q.duration.fn.toISOString;for(H in Ha)T.call(Ha,H)&&db(H.toLowerCase());q.duration.fn.asMilliseconds=function(){return this.as("ms")};q.duration.fn.asSeconds=function(){return this.as("s")};q.duration.fn.asMinutes=function(){return this.as("m")};q.duration.fn.asHours=function(){return this.as("h")};q.duration.fn.asDays=function(){return this.as("d")};q.duration.fn.asWeeks=function(){return this.as("weeks")};q.duration.fn.asMonths=function(){return this.as("M")};q.duration.fn.asYears=function(){return this.as("y")};
q.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(a){var d=a%10,d=1===t(a%100/10)?"th":1===d?"st":2===d?"nd":3===d?"rd":"th";return a+d}});xa?module.exports=q:"function"===typeof define&&define.amd?(define("moment",["require","exports","module"],function(a,d,b){b.config&&b.config()&&!0===b.config().noGlobal&&(ta.moment=Ga);return q}),Fa(!0)):Fa()}).call(this);(function(){function h(a,b){function e(a){if(e[a]!==t)return e[a];var d;if("bug-string-char-index"==a)d="a"!="a"[0];else if("json"==a)d=e("json-stringify")&&e("json-parse");else{var f;if("json-stringify"==a){d=b.stringify;var g="function"==typeof d&&D;if(g){(f=function(){return 1}).toJSON=f;try{g="0"===d(0)&&"0"===d(new l)&&'""'==d(new c)&&d(y)===t&&d(t)===t&&d()===t&&"1"===d(f)&&"[1]"==d([f])&&"[null]"==d([t])&&"null"==d(null)&&"[null,null,null]"==d([t,y,null])&&'{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}'==
d({a:[f,!0,!1,null,"\x00\b\n\f\r\t"]})&&"1"===d(null,f)&&"[\n 1,\n 2\n]"==d([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==d(new m(-864E13))&&'"+275760-09-13T00:00:00.000Z"'==d(new m(864E13))&&'"-000001-01-01T00:00:00.000Z"'==d(new m(-621987552E5))&&'"1969-12-31T23:59:59.999Z"'==d(new m(-1))}catch(k){g=!1}}d=g}if("json-parse"==a){d=b.parse;if("function"==typeof d)try{if(0===d("0")&&!d(!1)){f=d('{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}');var h=5==f.a.length&&1===f.a[0];if(h){try{h=!d('"\t"')}catch(A){}if(h)try{h=
1!==d("01")}catch(v){}if(h)try{h=1!==d("1.")}catch(w){}}}}catch(C){h=!1}d=h}}return e[a]=!!d}a||(a=k.Object());b||(b=k.Object());var l=a.Number||k.Number,c=a.String||k.String,g=a.Object||k.Object,m=a.Date||k.Date,v=a.SyntaxError||k.SyntaxError,w=a.TypeError||k.TypeError,C=a.Math||k.Math,B=a.JSON||k.JSON;"object"==typeof B&&B&&(b.stringify=B.stringify,b.parse=B.parse);var g=g.prototype,y=g.toString,x,E,t,D=new m(-0xc782b5b800cec);try{D=-109252==D.getUTCFullYear()&&0===D.getUTCMonth()&&1===D.getUTCDate()&&
10==D.getUTCHours()&&37==D.getUTCMinutes()&&6==D.getUTCSeconds()&&708==D.getUTCMilliseconds()}catch(U){}if(!e("json")){var I=e("bug-string-char-index");if(!D)var G=C.floor,ha=[0,31,59,90,120,151,181,212,243,273,304,334],R=function(a,d){return ha[d]+365*(a-1970)+G((a-1969+(d=+(1<d)))/4)-G((a-1901+d)/100)+G((a-1601+d)/400)};(x=g.hasOwnProperty)||(x=function(a){var d={},b;(d.__proto__=null,d.__proto__={toString:1},d).toString!=y?x=function(a){var d=this.__proto__;a=a in(this.__proto__=null,this);this.__proto__=
d;return a}:(b=d.constructor,x=function(a){var d=(this.constructor||b).prototype;return a in this&&!(a in d&&this[a]===d[a])});d=null;return x.call(this,a)});E=function(a,d){var b=0,e,n,l;(e=function(){this.valueOf=0}).prototype.valueOf=0;n=new e;for(l in n)x.call(n,l)&&b++;e=n=null;b?E=2==b?function(a,d){var b={},e="[object Function]"==y.call(a),n;for(n in a)e&&"prototype"==n||x.call(b,n)||!(b[n]=1)||!x.call(a,n)||d(n)}:function(a,d){var b="[object Function]"==y.call(a),e,n;for(e in a)b&&"prototype"==
e||!x.call(a,e)||(n="constructor"===e)||d(e);(n||x.call(a,e="constructor"))&&d(e)}:(n="valueOf toString toLocaleString propertyIsEnumerable isPrototypeOf hasOwnProperty constructor".split(" "),E=function(a,d){var b="[object Function]"==y.call(a),e,l=!b&&"function"!=typeof a.constructor&&f[typeof a.hasOwnProperty]&&a.hasOwnProperty||x;for(e in a)b&&"prototype"==e||!l.call(a,e)||d(e);for(b=n.length;e=n[--b];l.call(a,e)&&d(e));});return E(a,d)};if(!e("json-stringify")){var ea={92:"\\\\",34:'\\"',8:"\\b",
12:"\\f",10:"\\n",13:"\\r",9:"\\t"},K=function(a,d){return("000000"+(d||0)).slice(-a)},aa=function(a){for(var d='"',b=0,e=a.length,n=!I||10<e,l=n&&(I?a.split(""):a);b<e;b++){var c=a.charCodeAt(b);switch(c){case 8:case 9:case 10:case 12:case 13:case 34:case 92:d+=ea[c];break;default:if(32>c){d+="\\u00"+K(2,c.toString(16));break}d+=n?l[b]:a.charAt(b)}}return d+'"'},ba=function(a,d,b,e,n,l,c){var p,f,g,k,h,r,z,m,s;try{p=d[a]}catch(A){}if("object"==typeof p&&p)if(f=y.call(p),"[object Date]"!=f||x.call(p,
"toJSON"))"function"==typeof p.toJSON&&("[object Number]"!=f&&"[object String]"!=f&&"[object Array]"!=f||x.call(p,"toJSON"))&&(p=p.toJSON(a));else if(p>-1/0&&p<1/0){if(R){k=G(p/864E5);for(f=G(k/365.2425)+1970-1;R(f+1,0)<=k;f++);for(g=G((k-R(f,0))/30.42);R(f,g+1)<=k;g++);k=1+k-R(f,g);h=(p%864E5+864E5)%864E5;r=G(h/36E5)%24;z=G(h/6E4)%60;m=G(h/1E3)%60;h%=1E3}else f=p.getUTCFullYear(),g=p.getUTCMonth(),k=p.getUTCDate(),r=p.getUTCHours(),z=p.getUTCMinutes(),m=p.getUTCSeconds(),h=p.getUTCMilliseconds();
p=(0>=f||1E4<=f?(0>f?"-":"+")+K(6,0>f?-f:f):K(4,f))+"-"+K(2,g+1)+"-"+K(2,k)+"T"+K(2,r)+":"+K(2,z)+":"+K(2,m)+"."+K(3,h)+"Z"}else p=null;b&&(p=b.call(d,a,p));if(null===p)return"null";f=y.call(p);if("[object Boolean]"==f)return""+p;if("[object Number]"==f)return p>-1/0&&p<1/0?""+p:"null";if("[object String]"==f)return aa(""+p);if("object"==typeof p){for(a=c.length;a--;)if(c[a]===p)throw w();c.push(p);s=[];d=l;l+=n;if("[object Array]"==f){g=0;for(a=p.length;g<a;g++)f=ba(g,p,b,e,n,l,c),s.push(f===t?"null":
f);a=s.length?n?"[\n"+l+s.join(",\n"+l)+"\n"+d+"]":"["+s.join(",")+"]":"[]"}else E(e||p,function(a){var d=ba(a,p,b,e,n,l,c);d!==t&&s.push(aa(a)+":"+(n?" ":"")+d)}),a=s.length?n?"{\n"+l+s.join(",\n"+l)+"\n"+d+"}":"{"+s.join(",")+"}":"{}";c.pop();return a}};b.stringify=function(a,d,b){var e,n,l,c;if(f[typeof d]&&d)if("[object Function]"==(c=y.call(d)))n=d;else if("[object Array]"==c){l={};for(var p=0,g=d.length,k;p<g;k=d[p++],(c=y.call(k),"[object String]"==c||"[object Number]"==c)&&(l[k]=1));}if(b)if("[object Number]"==
(c=y.call(b))){if(0<(b-=b%1))for(e="",10<b&&(b=10);e.length<b;e+=" ");}else"[object String]"==c&&(e=10>=b.length?b:b.slice(0,10));return ba("",(k={},k[""]=a,k),n,l,e,"",[])}}if(!e("json-parse")){var oa=c.fromCharCode,fa={92:"\\",34:'"',47:"/",98:"\b",116:"\t",110:"\n",102:"\f",114:"\r"},u,ca,F=function(){u=ca=null;throw v();},M=function(){for(var a=ca,d=a.length,b,e,n,l,c;u<d;)switch(c=a.charCodeAt(u),c){case 9:case 10:case 13:case 32:u++;break;case 123:case 125:case 91:case 93:case 58:case 44:return b=
I?a.charAt(u):a[u],u++,b;case 34:b="@";for(u++;u<d;)if(c=a.charCodeAt(u),32>c)F();else if(92==c)switch(c=a.charCodeAt(++u),c){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:b+=fa[c];u++;break;case 117:e=++u;for(n=u+4;u<n;u++)c=a.charCodeAt(u),48<=c&&57>=c||97<=c&&102>=c||65<=c&&70>=c||F();b+=oa("0x"+a.slice(e,u));break;default:F()}else{if(34==c)break;c=a.charCodeAt(u);for(e=u;32<=c&&92!=c&&34!=c;)c=a.charCodeAt(++u);b+=a.slice(e,u)}if(34==a.charCodeAt(u))return u++,b;F();default:e=
u;45==c&&(l=!0,c=a.charCodeAt(++u));if(48<=c&&57>=c){for(48==c&&(c=a.charCodeAt(u+1),48<=c&&57>=c)&&F();u<d&&(c=a.charCodeAt(u),48<=c&&57>=c);u++);if(46==a.charCodeAt(u)){for(n=++u;n<d&&(c=a.charCodeAt(n),48<=c&&57>=c);n++);n==u&&F();u=n}c=a.charCodeAt(u);if(101==c||69==c){c=a.charCodeAt(++u);43!=c&&45!=c||u++;for(n=u;n<d&&(c=a.charCodeAt(n),48<=c&&57>=c);n++);n==u&&F();u=n}return+a.slice(e,u)}l&&F();if("true"==a.slice(u,u+4))return u+=4,!0;if("false"==a.slice(u,u+5))return u+=5,!1;if("null"==a.slice(u,
u+4))return u+=4,null;F()}return"$"},da=function(a){var d,b;"$"==a&&F();if("string"==typeof a){if("@"==(I?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(d=[];;b||(b=!0)){a=M();if("]"==a)break;b&&(","==a?(a=M(),"]"==a&&F()):F());","==a&&F();d.push(da(a))}return d}if("{"==a){for(d={};;b||(b=!0)){a=M();if("}"==a)break;b&&(","==a?(a=M(),"}"==a&&F()):F());","!=a&&"string"==typeof a&&"@"==(I?a.charAt(0):a[0])&&":"==M()||F();d[a.slice(1)]=da(M())}return d}F()}return a},ja=function(a,d,b){b=ka(a,d,b);
b===t?delete a[d]:a[d]=b},ka=function(a,d,b){var e=a[d],n;if("object"==typeof e&&e)if("[object Array]"==y.call(e))for(n=e.length;n--;)ja(e,n,b);else E(e,function(a){ja(e,a,b)});return b.call(a,d,e)};b.parse=function(a,d){var b,e;u=0;ca=""+a;b=da(M());"$"!=M()&&F();u=ca=null;return d&&"[object Function]"==y.call(d)?ka((e={},e[""]=b,e),"",d):b}}}b.runInContext=h;return b}var g="function"===typeof define&&define.amd,f={"function":!0,object:!0},m=f[typeof exports]&&exports&&!exports.nodeType&&exports,
k=f[typeof window]&&window||this,c=m&&f[typeof module]&&module&&!module.nodeType&&"object"==typeof global&&global;!c||c.global!==c&&c.window!==c&&c.self!==c||(k=c);if(m&&!g)h(k,m);else{var a=k.JSON,b=k.JSON3,e=!1,l=h(k,k.JSON3={noConflict:function(){e||(e=!0,k.JSON=a,k.JSON3=b,a=b=null);return l}});k.JSON={parse:l.parse,stringify:l.stringify}}g&&define("json3",[],function(){return l})}).call(this);(function(h,g){function f(a){p[n]=m.apply(g,a);return n++}function m(a){var d=[].slice.call(arguments,1);return function(){"function"===typeof a?a.apply(g,d):(new Function(""+a))()}}function k(a){if(r)setTimeout(m(k,a),0);else{var d=p[a];if(d){r=!0;try{d()}finally{c(a),r=!1}}}}function c(a){delete p[a]}function a(){z=function(){var a=f(arguments);process.nextTick(m(k,a));return a}}function b(){if(h.postMessage&&!h.importScripts){var a=!0,d=h.onmessage;h.onmessage=function(){a=!1};h.postMessage("",
"*");h.onmessage=d;return a}}function e(){var a="setImmediate$"+Math.random()+"$",d=function(d){d.source===h&&"string"===typeof d.data&&0===d.data.indexOf(a)&&k(+d.data.slice(a.length))};h.addEventListener?h.addEventListener("message",d,!1):h.attachEvent("onmessage",d);z=function(){var d=f(arguments);h.postMessage(a+d,"*");return d}}function l(){var a=new MessageChannel;a.port1.onmessage=function(a){k(a.data)};z=function(){var d=f(arguments);a.port2.postMessage(d);return d}}function d(){z=function(){var a=
f(arguments);setTimeout(m(k,a),0);return a}}if(!h.setImmediate){var n=1,p={},r=!1,z,A=Object.getPrototypeOf&&Object.getPrototypeOf(h),A=A&&A.setTimeout?A:h;"[object process]"==={}.toString.call(h.process)?a():b()?e():h.MessageChannel?l():d();A.setImmediate=z;A.clearImmediate=c}})((new Function("return this"))());(function(h){function g(a,d){return function(){a.apply(d,arguments)}}function f(a){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof a)throw new TypeError("not a function");this._value=this._state=null;this._deferreds=[];e(a,g(k,this),g(c,this))}function m(a){var d=this;null===this._state?this._deferreds.push(a):l(function(){var b=d._state?a.onFulfilled:a.onRejected;if(null===b)(d._state?a.resolve:a.reject)(d._value);else{var e;try{e=b(d._value)}catch(l){a.reject(l);
return}a.resolve(e)}})}function k(d){try{if(d===this)throw new TypeError("A promise cannot be resolved with itself.");if(d&&("object"===typeof d||"function"===typeof d)){var b=d.then;if("function"===typeof b){e(g(b,d),g(k,this),g(c,this));return}}this._state=!0;this._value=d;a.call(this)}catch(l){c.call(this,l)}}function c(d){this._state=!1;this._value=d;a.call(this)}function a(){for(var a=0,d=this._deferreds.length;a<d;a++)m.call(this,this._deferreds[a]);this._deferreds=null}function b(a,d,b,e){this.onFulfilled=
"function"===typeof a?a:null;this.onRejected="function"===typeof d?d:null;this.resolve=b;this.reject=e}function e(a,d,b){var e=!1;try{a(function(a){e||(e=!0,d(a))},function(a){e||(e=!0,b(a))})}catch(l){e||(e=!0,b(l))}}"undefined"!==typeof module&&module.exports?module.exports=h.Promise?h.Promise:f:h.Promise||(h.Promise=f);var l=h.setImmediate||function(a){setTimeout(a,1)},d=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)};f.prototype["catch"]=function(a){return this.then(null,
a)};f.prototype.then=function(a,d){var e=this;return new f(function(l,c){m.call(e,new b(a,d,l,c))})};f.all=function(){var a=Array.prototype.slice.call(1===arguments.length&&d(arguments[0])?arguments[0]:arguments);return new f(function(d,b){function e(c,f){try{if(f&&("object"===typeof f||"function"===typeof f)){var g=f.then;if("function"===typeof g){g.call(f,function(a){e(c,a)},b);return}}a[c]=f;0===--l&&d(a)}catch(k){b(k)}}if(0===a.length)return d([]);for(var l=a.length,c=0;c<a.length;c++)e(c,a[c])})};
f.resolve=function(a){return a&&"object"===typeof a&&a.constructor===f?a:new f(function(d){d(a)})};f.reject=function(a){return new f(function(d,b){b(a)})};f.race=function(a){return new f(function(d,b){for(var e=0,l=a.length;e<l;e++)a[e].then(d,b)})}})(this);(function(h,g){var f={extend:function(a,b){for(var e in b)-1!=="browser cpu device engine os".indexOf(e)&&0===b[e].length%2&&(a[e]=b[e].concat(a[e]));return a},has:function(a,b){if("string"===typeof a)return-1!==b.toLowerCase().indexOf(a.toLowerCase())},lowerize:function(a){return a.toLowerCase()}},m=function(){for(var a,b=0,e,l,c,f,k,h=arguments;b<h.length;b+=2){k=h[b];var m=h[b+1];if("undefined"===typeof a)for(c in a={},m)e=m[c],"object"===typeof e?a[e[0]]=g:a[e]=g;for(e=l=0;e<k.length;e++)if(f=
k[e].exec(this.getUA())){for(c=0;c<m.length;c++)k=f[++l],e=m[c],"object"===typeof e&&0<e.length?2==e.length?a[e[0]]="function"==typeof e[1]?e[1].call(this,k):e[1]:3==e.length?a[e[0]]="function"!==typeof e[1]||e[1].exec&&e[1].test?k?k.replace(e[1],e[2]):g:k?e[1].call(this,k,e[2]):g:4==e.length&&(a[e[0]]=k?e[3].call(this,k.replace(e[1],e[2])):g):a[e]=k?k:g;break}if(f)break}return a},k=function(a,b){for(var e in b)if("object"===typeof b[e]&&0<b[e].length)for(var l=0;l<b[e].length;l++){if(f.has(b[e][l],
a))return"?"===e?g:e}else if(f.has(b[e],a))return"?"===e?g:e;return a},c={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2E3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",RT:"ARM"},a={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],["name","version","major"],[/\s(opr)\/((\d+)?[\w\.]+)/i],[["name","Opera"],"version","major"],[/(kindle)\/((\d+)?[\w\.]+)/i,
/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],["name","version","major"],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[["name","IE"],"version","major"],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[["name","Yandex"],"version","major"],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],
[["name",/_/g," "],"version","major"],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i,/(uc\s?browser|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i],["name","version","major"],[/(dolfin)\/((\d+)?[\w\.]+)/i],[["name","Dolphin"],"version","major"],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[["name","Chrome"],"version","major"],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],["version","major",["name","Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],["version",
"major","name"],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],["name",["major",k,{1:["/8","/1","/3"],2:"/4","?":"/"}],["version",k,{"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],["name","version","major"],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[["name","Netscape"],"version","major"],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,
/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],["name","version","major"]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",f.lowerize]],[/((?:i[346]|x)86)[;\)]/i],
[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",f.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/(ia64(?=;)|68k(?=\))|arm(?=v\d+;)|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",f.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],["model","vendor",["type","tablet"]],[/applecoremedia\/[\w\.]+ \((ipad)/],["model",["vendor","Apple"],["type","tablet"]],[/(apple\s{0,1}tv)/i],
[["model","Apple TV"],["vendor","Apple"]],[/(hp).+(touchpad)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],["vendor","model",["type","tablet"]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],["model",["vendor","Amazon"],["type","tablet"]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[["model",k,{"Fire Phone":["SD","KF"]}],["vendor","Amazon"],["type","mobile"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],["model","vendor",["type","mobile"]],[/\((ip[honed|\s\w*]+);/i],
["model",["vendor","Apple"],["type","mobile"]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],["vendor","model",["type","mobile"]],[/\((bb10);\s(\w+)/i],[["vendor","BlackBerry"],"model",["type","mobile"]],[/android.+((transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7))/i],[["vendor","Asus"],"model",["type","tablet"]],[/(sony)\s(tablet\s[ps])/i],["vendor","model",["type",
"tablet"]],[/(nintendo)\s([wids3u]+)/i],["vendor","model",["type","console"]],[/((playstation)\s[3portablevi]+)/i],[["vendor","Sony"],"model",["type","console"]],[/(sprint\s(\w+))/i],[["vendor",k,{HTC:"APA",Sprint:"Sprint"}],["model",k,{"Evo Shift 4G":"7373KT"}],["type","mobile"]],[/(Lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[["vendor","Lenovo"],"model",["type","tablet"]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],
["vendor",["model",/_/g," "],["type","mobile"]],[/\s((milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?))[\w\s]+build\//i,/(mot)[\s-]?(\w+)*/i],[["vendor","Motorola"],"model",["type","mobile"]],[/android.+\s((mz60\d|xoom[\s2]{0,2}))\sbuild\//i],[["vendor","Motorola"],"model",["type","tablet"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n8000|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[["vendor","Samsung"],"model",["type","tablet"]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-n900))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,
/sec-((sgh\w+))/i],[["vendor","Samsung"],"model",["type","mobile"]],[/(sie)-(\w+)*/i],[["vendor","Siemens"],"model",["type","mobile"]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[["vendor","Nokia"],"model",["type","mobile"]],[/android\s3\.[\s\w-;]{10}((a\d{3}))/i],[["vendor","Acer"],"model",["type","tablet"]],[/android\s3\.[\s\w-;]{10}(lg?)-([06cv9]{3,4})/i],[["vendor","LG"],"model",["type","tablet"]],[/(lg) netcast\.tv/i],["vendor",["type","smarttv"]],[/((nexus\s[45]))/i,/(lg)[e;\s\/-]+(\w+)*/i],
[["vendor","LG"],"model",["type","mobile"]],[/android.+((ideatab[a-z0-9\-\s]+))/i],[["vendor","Lenovo"],"model",["type","tablet"]],[/linux;.+((jolla));/i],["vendor","model",["type","mobile"]],[/(mobile|tablet);.+rv\:.+gecko\//i],[["type",f.lowerize],"vendor","model"]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],["name","version"],[/rv\:([\w\.]+).*(gecko)/i],["version","name"]],
os:[[/microsoft\s(windows)\s(vista|xp)/i],["name","version"],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],["name",["version",k,c]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[["name","Windows"],["version",k,c]],[/\((bb)(10);/i],[["name","BlackBerry"],"version"],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],["name","version"],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],
[["name","Symbian"],"version"],[/\((series40);/i],["name"],[/mozilla.+\(mobile;.+gecko.+firefox/i],[["name","Firefox OS"],"version"],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],["name","version"],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[["name","Chromium OS"],"version"],[/(sunos)\s?([\w\.]+\d)*/i],
[["name","Solaris"],"version"],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],["name","version"],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[["name","iOS"],["version",/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],["name",["version",/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],["name","version"]]},b=function(d,e){if(!(this instanceof b))return(new b(d,e)).getResult();
var l=d||(h&&h.navigator&&h.navigator.userAgent?h.navigator.userAgent:""),c=e?f.extend(a,e):a;this.getBrowser=function(){return m.apply(this,c.browser)};this.getCPU=function(){return m.apply(this,c.cpu)};this.getDevice=function(){return m.apply(this,c.device)};this.getEngine=function(){return m.apply(this,c.engine)};this.getOS=function(){return m.apply(this,c.os)};this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),
cpu:this.getCPU()}};this.getUA=function(){return l};this.setUA=function(a){l=a;return this};this.setUA(l)};b.VERSION="0.7.1";b.BROWSER={NAME:"name",MAJOR:"major",VERSION:"version"};b.CPU={ARCHITECTURE:"architecture"};b.DEVICE={MODEL:"model",VENDOR:"vendor",TYPE:"type",CONSOLE:"console",MOBILE:"mobile",SMARTTV:"smarttv",TABLET:"tablet"};b.ENGINE={NAME:"name",VERSION:"version"};b.OS={NAME:"name",VERSION:"version"};if("undefined"!==typeof exports)"undefined"!==typeof module&&module.exports&&(exports=
module.exports=b),exports.UAParser=b;else{h.UAParser=b;"function"===typeof define&&define.amd&&define(function(){return b});var e=h.jQuery||h.Zepto;if("undefined"!==typeof e){var l=new b;e.ua=l.getResult();e.ua.get=function(){return l.getUA()};e.ua.set=function(a){l.setUA(a);a=l.getResult();for(var b in a)e.ua[b]=a[b]}}}})(this);(function(h){if("undefined"===typeof console||"undefined"===typeof console.log)console={log:function(g){}};h.Object.keys||(Object.keys=function(g){if(g!==h.Object(g))throw new TypeError("Object.keys called on a non-object");var f=[],m;for(m in g)h.Object.prototype.hasOwnProperty.call(g,m)&&f.push(m);return f});(function(){if('""'!==h.JSON.stringify(document.createElement("input").value)){var g=h.JSON.stringify,f=function(f,k){return""===k?"":k};h.JSON.stringify=function(h,k,c){return g(h,k?k:f,c)}}})()})(this);
(function(h){_uf={ieVersion:function(){var g=void 0,f=navigator.userAgent.match(/(?:MSIE |Trident\/.*; rv:)(\d+)/);f&&(g=parseInt(f[1],10));return g},is_safari:function(){return-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome")},nop:function(){},nstr:function(){return""},namespace:function(){var g=arguments,f=this,h,k;for(h=0;h<g.length;h++){var c=g[h].split(".");for(k=0;k<c.length;k++)"undefined"===typeof f[c[k]]&&(f[c[k]]={extend:UNIFACE.extend}),f=f[c[k]]}return f},
Event:function(){var g=0,f={};this.clearListeners=function(){f={}};this.fire=function(){var g,k={},c=[];for(g in f)f.hasOwnProperty(g)&&(k[g]=f[g]);var a={keepListening:function(){f[g]=k[g]},stopListening:function(){f[g]&&delete f[g]}};for(g in k)k.hasOwnProperty(g)&&(k[g].keep||delete f[g],c.push(k[g].listener.apply(a,arguments)));return c};this.addListener=function(h,k){g++;var c=""+g;f[c]={listener:h,keep:k?k:!1};return c};this.removeListener=function(g){delete f[g]}},scope:["nodes","mergeprops",
"requestScope"]}})(this);
(function(h){var g={};h.Node&&h.Node.prototype&&!h.Node.prototype.contains&&(h.Node.prototype.contains=function(f){return!!(this.compareDocumentPosition(f)&16)});h.UNIFACE={extend:function(f,g){for(var k in f)!f.hasOwnProperty(k)||g&&!g(k)||(this[k]=f[k])},components:{},namespace:_uf.namespace,unbind:g,bind:function(f,h){var k=[].slice.call(arguments,0).slice(2);return function(c){if(c===g)k=f=h=null;else if(null!==f)return f.apply(h,k.concat([].slice.call(arguments,0)))}},throwException:function(f,
g){var k=f?f.toString():"<null>";void 0!==g&&!0!==g||UNIFACE.extension.popupWindow.showMessage(k,"OK","UNIFACE RIA Exception",0,0,"error");throw f;},getURLParam:function(f){f=h.location.href.match(RegExp("[\\?&]"+f+"=([^&#]*)"),"i");return null===f?"":f[1]}}})(this);
UNIFACE.extend(function(h){function g(a){var b;for(b=0;b<a.length;b++)a[b]()}function f(){g(k);g(c);_uf.commands.add({postload:null}).then(function(){g(b)});UNIFACE.loaded=!0}function m(){g(a)}var k=[],c=[],a=[],b=[];h.addEventListener?(h.addEventListener("load",f,!1),h.addEventListener("unload",m,!1)):h.attachEvent&&(h.attachEvent("onload",f),h.attachEvent("onunload",m));return{addPreLoadListener:function(a){k.push(a)},addOnLoadListener:function(a){c.push(a)},addOnUnloadListener:function(b){a.push(b)},
addPostLoadListener:function(a){b.push(a)}}}(this));
UNIFACE.extension=function(){var h=function(){return{requiredFunctions:["setBusySync","setBusyAsync"],setBusySync:function(f){void 0!=this.extension&&this.extension.setBusySync(f)},setBusyAsync:function(f){void 0!=this.extension&&this.extension.setBusyAsync(f)}}}(),g=function(){return{requiredFunctions:["showMessage","showFailure"],showMessage:function(f,g,k,c,a,b){void 0!=this.extension?this.extension.showMessage(k,f,g,c,a,b):alert(f)},showFailure:function(f,g,k,c){void 0!==this.extension?this.extension.showFailure(f,
g,k,c):alert("UNIFACE error: "+g)}}}();return{register:function(f,g){void 0!==UNIFACE.extension[f]&&"register"!=f||UNIFACE.throwException('UNIFACE does not accept an extension named "'+f+'".');var k=UNIFACE.extension[f].requiredFunctions,c,a;if(void 0!=g)for(a=k.length-1;0<=a;a-=1)c=k[a],"function"!=typeof g[c]&&UNIFACE.throwException("The "+f+" extension has no "+c+"function!");UNIFACE.extension[f].extension=g},busyIndicator:h,popupWindow:g}}();UNIFACE.trace=function(h){};
if("function"===typeof _uf_trace){var instance,instanceName;UNIFACE.isTracing=!0;UNIFACE.trace=function(h){var g=uniface.getInstance();g&&(instanceName=g.getName());instanceName||(instanceName="No-current-instance");_uf_trace(instanceName+"; "+h)}}
3==="b".split(/(b)/).length?UNIFACE.splitString=function(h,g){return h.split(g)}:UNIFACE.splitString=function(h,g){var f=[],m=0,k;for(g.global||(g=RegExp(g.source,"g"));null!==(k=g.exec(h));)0===k[0].length&&g.lastIndex>k.index&&(g.lastIndex=k.index),g.lastIndex>m&&(f=f.concat(h.slice(m,k.index),k.index===h.length?[]:k.slice(1)),m=g.lastIndex),0===k[0].length&&g.lastIndex++;return m===h.length?f.concat(""):f.concat(h.slice(m))};(function(){function h(){document.cookie=encodeURIComponent("unifaceapp")+"="+encodeURIComponent("true")}UNIFACE.addPreLoadListener(function(){window.cordova&&document.addEventListener("deviceready",h)})})();(function(){var h={"uent:":"","ufld:":"","ulbl:":"","uocc:":"","uoce:":"","uocs:":"","uflderror:":""};_uf.DOMNodeManager={_storage:{},add:function(g,f,h){this._storage[f]||(this._storage[f]={});this._storage[f][g]=h},fetch:function(g,f){if(this._storage[f])return this._storage[f][g]},parse:function(g,f){var m=UNIFACE.luv;if(g!==m.parkingPlace){var k="string"===typeof f?f.length:0;if(0!==k)for(m=m.constants.UINS_SEPARATOR+f,k++,g=g.firstChild;null!==g;g=g.nextSibling){var c=g;if(c.id&&null!=c.id&&
h.hasOwnProperty(c.id.substring(0,c.id.indexOf(":")+1).toLowerCase())){var a=c.id.length;a<k||c.id.substring(a-k,a)!==m?(this.add(c.id,f,c),c.id+=m):this.add(c.id.substring(0,a-k),f,c)}this.parse(g,f)}}}}})();UNIFACE.eventPhase={PRE_CLUSTERING:1,CAPTURING:2,BUBBLING:3};UNIFACE.addEventListener=function(h,g,f,m){var k;if(m==UNIFACE.eventPhase.PRE_CLUSTERING||m==UNIFACE.eventPhase.CAPTURING)k=!0;h.addEventListener?h.addEventListener(g.substring(2),f,k):h.attachEvent?h.attachEvent(g,f):h[g]=f};UNIFACE.addListener=function(h,g,f,m){"function"===typeof f&&(f.registered&&(f.listenerOf||(f.listenerOf=[]),f.listenerOf.push({src:h,evt:g})),UNIFACE.addEventListener(h,g,f,m))};
UNIFACE.removeListener=function(h,g,f){h.removeEventListener?h.removeEventListener(g.substring(2),f,!1):h.detachEvent?h.detachEvent(g,f):h[g]=_uf.nop};
UNIFACE.eventMapper=function(){function h(f){var h=g[f];if(h){var k,c,a;for(c=h.length-1;0<=c;c--)if(k=h[c],a=k.listener,a(UNIFACE.unbind),a.registered=!1,a.listenerOf)for(k=0;k<a.listenerOf.length;k++)UNIFACE.removeListener(a.listenerOf[k].src,a.listenerOf[k].evt,a);g[f]=null}}var g={};UNIFACE.addOnUnloadListener(function(){for(var f in g)g.hasOwnProperty(f)&&h(f);g={}});return{register:function(f,h,k){"function"===typeof k&&(g[f]||(g[f]=[]),g[f].push({evt:h,listener:k}),k.registered=!0)},clearForId:h}}();
(function(h,g){function f(a,d,b){this.cmd=a;this.data=d;this.req=b;var e=this,l=new h.Promise(function(a,d){e.resolve=a;e.reject=d});this.then=function(){return l.then.apply(l,arguments)}}function m(a,b){var e=new f(a,b);d.push(e);return e}function k(){for(;!n&&0<r.length;)r.shift().execute()}function c(a,d){var b=[];if("string"==typeof a)return c(JSON.parse(a),d);if("object"==typeof a&&a)if(a.constructor===Array){var e;for(e=0;e<a.length;e++)b.push(c(a[e],d))}else for(e in a)if(a.hasOwnProperty(e)){var l=
new f(e,a[e],d);b.push(l);r.push(l)}return h.Promise.all(b)}function a(){return!n&&0===r.length&&0===d.length}function b(){if(!s){s=!0;try{for(k();!n&&0<d.length;)d.shift().execute(),k();a()&&p.queueEmpty.fire()}finally{n||(s=!1,a()&&p.idle.fire())}}}function e(){setImmediate(b);b()}function l(){return s&&!n}var d=[],n=0,p={idle:new g,queueEmpty:new g},r=[],z={},A={};f.prototype={execute:function(){var a=this.cmd.toLowerCase(),d=[];void 0!==z[a]&&z[a].fire(a,this.data,this.req);UNIFACE.trace("Command: "+
a);switch(a){case "apptitle":document.title=this.data;break;case "callback":"function"===typeof this.data&&this.data();break;case "webmessage":UNIFACE.extension.popupWindow.showMessage(this.data.message,this.data.buttontext,this.data.title,parseInt(this.data.xsize,10),parseInt(this.data.ysize,10),this.data.type);break;case "macro":d.push(m("weboperation",this.data));break;default:p.hasOwnProperty(a)&&(d=p[a].fire(this.data,this.req))}void 0!==A[a]&&A[a].fire(a,this.data,this.req);var b=this;Promise.all(d).then(function(a){b.resolve(a)},
function(a){b.reject(a)})}};var s=!1,v=!1;_uf.commands={executeWithoutEvents:function(a){var d=v;v=!0;try{a()}finally{v=d}},run:e,isIdle:a,forceIdle:function(){if(s)return!1;r=[];d=[];return!0},freeze:function(){++n},thawe:function(){n&&(--n,n||(s=!1,setImmediate(_uf.commands.run)))},isProcessingServerResponse:l,isProcessing:function(){return l()||v},on:function(a,d){p.hasOwnProperty(a)||(p[a]=new g);p[a].addListener(d,!0)},preCommandEvent:function(a){void 0===z[a]&&(z[a]=new g);return z[a]},postCommandEvent:function(a){void 0===
A[a]&&(A[a]=new g);return A[a]},Command:f,add:c};UNIFACE.addPreLoadListener(e);UNIFACE.addOnLoadListener(e)})(this,_uf.Event);
(function(h,g){function f(a,b,d){d=d||document;d._loadedScript=d._loadedScript||{};var c="",p="";"object"===typeof a?"src"in a?c=a.src:"text"in a&&(p=a.text):c=a;a=d.createElement("script");if(c){a.src=c;g.freeze();var f=c.match(/\/dojo(\.xd)?\.js(\W|$)/i);f&&(c=c.substring(0,f.index)+"/",h.djConfig=h.djConfig||{},h.djConfig.baseUrl=c)}a.type="text/javascript";a.setAttribute("charset","UTF-8");p&&(p=d.createTextNode(p),a.appendChild(p));void 0!==b&&(a.readyState?a.onreadystatechange=function(){if("complete"==
this.readyState||"loaded"==this.readyState)this.onreadystatechange=null,b()}:(a.onload=b,a.onerror=b));d.getElementsByTagName("head")[0].appendChild(a);return a}function m(a,b,d){d=d||document;d._loadedScript=d._loadedScript||{};d._loading=d._loading||{};var c=d.getElementsByTagName("script"),p={},k;for(k=0;k<c.length;k++)"text/javascript"===c[k].type&&c[k].src&&(p[c[k].attributes.src.value]=!0,p[c[k].src]=!0);if(a in p||a in d._loadedScript)d._loading[a]?d._loading[a].push(b):"function"===typeof b&&
b();else return d._loadedScript[a]=!0,d._loading[a]=[b],f(a,function(){g.thawe();var b=d._loading[a];delete d._loading[a];var c;for(c=0;c<b.length;c++)if("function"===typeof b[c])b[c]()},d)}var k=document.getElementsByTagName("script"),c="",a;for(a=0;a<k.length;a++)if("text/javascript"===k[a].type&&k[a].src){var b=k[a].src.match(/(.*)ubase.js$/);if(b){c=b[1];break}}_uf.require=function(a,b,d){var n=b,p;Promise&&(p=new Promise(function(a,d){n=function(){b&&b.apply(this,arguments);a()}}));m(c+a,n,d);
return p};g.on("js",m);g.on("css",function(a){var b,d=document.getElementsByTagName("link"),c={};for(b=0;b<d.length;b++)"stylesheet"===d[b].rel&&"text/css"===d[b].type&&(c[d[b].attributes.href.value]=!0,c[d[b].href]=!0);for(b=0;b<a.length;b++)a[b]in c||(d=document.createElement("link"),d.href=a[b],d.rel="stylesheet",d.type="text/css",document.getElementsByTagName("head")[0].appendChild(d))})})(this,_uf.commands);UNIFACE.initialCommand=function(h){_uf.commands.add(h)};(function(h,g){"function"===typeof define&&define.amd?define("uniface.format",["moment"],function(f){return h._uf.format=g(f)}):h._uf.format=g(h.moment)})(this,function(h){function g(c,a){var b=c.match(/\$nls\(([^\)]*)\)/i);if(b&&b[1]){var e=b[1].match(/"([^"]*)"/);if(e)c=e[1]||"";else if((b=b[1].match(/ *(short|medium|long|full) *(, *(DATE|TIME|DATIM) *)$/i))&&b[1])switch(b[3]&&(a=b[3].toLowerCase()),b[1].toLowerCase()){case "short":switch(a){case "date":return"l";case "time":return"LT";default:return"l LT"}case "medium":switch(a){case "date":return"ll";
case "time":return"LTS";default:return"lll"}case "long":switch(a){case "date":return"LL";case "time":return"LTS";default:return"LLL"}case "full":switch(a){case "date":return"dddd, LL";case "time":return"LTS";default:return"LLLL"}}}for(var b=UNIFACE.splitString(c,/([dz]?d|aa[a\*]?|mmm\*?|[mz]?m|[wz]?w|xxxx|xx|yyyy|yy|[zh]?h|[zn]?n|[zs]?s)/gi),l="",e=0;e<b.length;++e)b[e]&&b[e].length&&(l+="["+b[e].replace("]","\\]")+"]"),++e,e<b.length&&b[e]&&(c=b[e],c=c.replace(/[zd]d/i,"DD"),c=c.replace(/d/i,"D"),
c=c.replace(/aaa/i,"ddd"),c=c.replace(/aa\*/i,"dddd"),c=c.replace(/aa/i,"dd"),c=c.replace(/MMM\*/,"MMMM"),c=c.replace(/[zm]M/i,"MM"),c=c.replace(/m/gi,"M"),c=c.replace(/[zw]w/i,"ww"),c=c.replace(/w/i,"w"),c=c.replace(/YYYY/i,"YYYY"),c=c.replace(/YY/i,"YY"),c=c.replace(/[zh]h/i,"HH"),c=c.replace(/h/i,"H"),c=c.replace(/[zn]n/i,"mm"),c=c.replace(/n/i,"m"),c=c.replace(/[zs]s/i,"ss"),c=c.replace(/s/i,"s"),l+=c);return l}function f(c,a,b){var e=g(a,b);this.format=function(a){return a?h(a,c).format(e):""};
this.deformat=function(a){if(a){var d=h(a,e);d.isValid()||(d=h(a));return d.format(c)}return""}}function m(){this._inArray=function(c,a){var b=a.length;c=c.toLowerCase();for(var e=0;e<b;e++)if(a[e].toLowerCase()===c)return!0;return!1};this.format=function(c){if("boolean"===typeof c)return c;if("string"===typeof c){c=c.toLowerCase();if(this._inArray(c,["1","t","true"]))return!0;this._inArray(c,["0","f","false"]);return!1}return"number"===typeof c?0!==c:!1};this.deformat=function(c){return c}}var k=
{format:function(c){return null===c?"":c},deformat:function(c){return c}};return{createFormatter:function(c,a){switch(a){case "date":return new f("YYYY-MM-DD",c,a);case "datetime":return new f(h.ISO_8601,c,a);case "time":return new f("HH:mm:ss.SS",c,a);case "checkbox":return new m;default:return k}},nullFormatter:k}});(function(h){h.ui=h.ui||{};h.ui.layout={init:function(){function g(){var a=document.createElement("meta");a.name="viewport";a.content="width=device-width, user-scalable=no, initial-scale=1";(document.head||document.getElementsByTagName("head")[0]).appendChild(a)}function f(d,b,e){function c(){b.style[e]=d.clientHeight+"px"}function l(){var a=g.firstElementChild,d=g.lastElementChild,b=a.firstElementChild;d.scrollLeft=d.scrollWidth;d.scrollTop=d.scrollHeight;b.style.width=a.offsetWidth+1+"px";b.style.height=
a.offsetHeight+1+"px";a.scrollLeft=a.scrollWidth;a.scrollTop=a.scrollHeight}function n(a){var d=this;l();f&&r(f);f=p(function(){if(d.offsetWidth!=k.width||d.offsetHeight!=k.height)k.width=d.offsetWidth,k.height=d.offsetHeight,c()})}c();var f,g,k={};a?d.attachEvent("onresize",c):(g=document.createElement("div"),g.className="-uf-resize-detector",g.innerHTML='<div class="-uf-expand-detector"><div></div></div><div class="-uf-contract-detector"></div>',d.appendChild(g),l(),d.addEventListener("scroll",
n,!0))}function m(){for(var a=0;a<arguments.length;a++){var d=arguments[a],c=b[d],l=document.createElement("div");l.className="-uf-"+d+" -uf-"+d+"-"+n;for(var f=0;f<c.length;f++)l.appendChild(c[f]);document.body.appendChild(l);e[d]=l}}var k=new UAParser,c=k.getResult().browser.version,a=document.attachEvent,b={header:[],footer:[],content:[]},e={},l="iOS"===k.getOS().name||"Android"===k.getOS().name||"Windows Phone"===k.getOS().name,d="iOS"===k.getOS().name,k="IE"===k.getBrowser().name,n=l?"fixed":
!k||k&&10<=c?"flex":"absolute",n=((c=window.location.search.match(/uf_layout_method=([a-zA-Z]*)/))?c[1]:"")||n;h.ui.body_scroller=window.document.documentElement;h.ui.bodyHeight=function(){return h.ui.body_scroller.clientHeight};var p=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(a){return window.setTimeout(a,20)},r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;l&&g();
(function(a){for(var d=document.body.firstChild;d;d=d.nextSibling)if(1===d.nodeType){var e=d.getAttribute(a);b.hasOwnProperty(e)?b[e].push(d):"SCRIPT"!==d.nodeName&&b.content.push(d)}else b.content.push(d)})("data-uniface-role");if(0<b.header.length||0<b.footer.length)"fixed"===n?(m("content","header","footer"),f(e.header,e.content,"paddingTop"),f(e.footer,e.content,"paddingBottom")):(m("header","content","footer"),h.ui.body_scroller=e.content,window.document.documentElement.style.height="100%"),
"absolute"===n&&(f(e.header,e.content,"top"),f(e.footer,e.content,"bottom")),document.body.className+=" -uf-body -uf-body-"+n;"fixed"===n&&d&&(0===b.footer.length&&(m("footer"),e.footer.style.visibility="hidden"),h.ui.bodyHeight=function(){return Math.round(e.footer.getBoundingClientRect().bottom)})}}})(this._uf);(function(){function h(a,d){for(var b in d)d.hasOwnProperty(b)&&(a[b]=d[b])}function g(){this.preStyle={};this.html={};this.att={};this.uniface={};this.className={};this.syntax={}}function f(a){var d,e,c=a.cssText.split(/; +/),l=[];d=0;for(e=c.length;d<e;d++)l.push(c[d].split(":")[0].toLowerCase());this.preStyle={};d=0;for(e=l.length;d<e;d++)(c=b["style:"+l[d]])&&(this.preStyle[c]=a[c])}function m(d){var e=d.toLowerCase(),l=b[e];if(null!=l)return{set:this.preStyle,name:l};if(void 0!==(l=c[e]))return{set:this.html,
name:l};var f;if(f=l=d.match(/^\s*html:([^\t\n\f \/>"'=]+)\s*/i))if(f=!a.hasOwnProperty(l[1]))if(f=!l[1].match(/^on/i))a:{try{document.createAttribute(l[1])}catch(g){f=!1;break a}f=!0}return f?{set:this.att,name:l[1]}:(l=d.match(/^\s*class:(\S*)\s*/i))?{set:this.className,name:l[1]}:{set:this.uniface,name:e}}function k(){var a,d,b=this.html.className?UNIFACE.splitString(this.html.className,/\s+/):[];this.classes={};for(d=0;d<b.length;++d)this.classes[b[d]]=!0;for(a in this.className)this.className.hasOwnProperty(a)&&
(this.classes[a]=/^(on|yes|y|true|t|1)$/i.test(this.className[a]))}var c={"html:accesskey":"accessKey","html:class":"className","html:disabled":"disabled","html:multiple":"multiple","html:readonly":"readOnly","html:size":"size","html:tabindex":"tabIndex","html:title":"title","html:rows":"rows","html:cols":"cols"},a={id:!0,style:!0},b={backcolor:"backgroundColor",forecolor:"color","style:background":"background","style:background-attachment":"backgroundAttachment","style:background-color":"backgroundColor",
"style:background-image":"backgroundImage","style:background-repeat":"backgroundRepeat","style:border":"border","style:border-bottom":"borderBottom","style:border-bottom-color":"borderBottomColor","style:border-bottom-style":"borderBottomStyle","style:border-bottom-width":"borderBottomWidth","style:border-collapse":"borderCollapse","style:border-color":"borderColor","style:border-left":"borderLeft","style:border-left-color":"borderLeftColor","style:border-left-style":"borderLeftStyle","style:border-left-width":"borderLeftWidth",
"style:border-right":"borderRight","style:border-right-color":"borderRightColor","style:border-right-style":"borderRightStyle","style:border-right-width":"borderRightWidth","style:border-style":"borderStyle","style:border-top":"borderTop","style:border-top-color":"borderTopColor","style:border-top-style":"borderTopStyle","style:border-top-width":"borderTopWidth","style:border-width":"borderWidth","style:bottom":"bottom","style:clear":"clear","style:color":"color","style:cursor":"cursor","style:direction":"direction",
"style:display":"display","style:float":"float","style:font":"font","style:font-family":"fontFamily","style:font-size":"fontSize","style:font-style":"fontStyle","style:font-variant":"fontVariant","style:font-weight":"fontWeight","style:height":"height","style:left":"left","style:letter-spacing":"letterSpacing","style:line-height":"lineHeight","style:list-style-image":"listStyleImage","style:list-style-position":"listStylePosition","style:list-style-type":"listStyleType","style:margin":"margin","style:margin-bottom":"marginBottom",
"style:margin-left":"marginLeft","style:margin-right":"marginRight","style:margin-top":"marginTop","style:max-height":"maxHeight","style:max-width":"maxWidth","style:min-height":"minHeight","style:min-width":"minWidth","style:overflow":"overflow","style:padding":"padding","style:padding-bottom":"paddingBottom","style:padding-left":"paddingLeft","style:padding-right":"paddingRight","style:padding-top":"paddingTop","style:position":"position","style:right":"right","style:table-layout":"tableLayout",
"style:text-align":"textAlign","style:text-decoration":"textDecoration","style:text-indent":"textIndent","style:text-transform":"textTransform","style:top":"top","style:unicode-bidi":"unicodeBidi","style:vertical-align":"verticalAlign","style:visibility":"visibility","style:white-space":"whiteSpace","style:width":"width","style:word-spacing":"wordSpacing","style:z-index":"zIndex"},e,l={};for(e in c)c.hasOwnProperty(e)&&c[e]&&(l[c[e]]=e);var d={};for(e in b)b.hasOwnProperty(e)&&(d[b[e]]=e);_uf.ui=
_uf.ui||{};UNIFACE.extend.call(_uf.ui,{getPropsFromDomNode:function(d){if(d){var b=new _uf.ui.Props;d.style&&""!==d.style.cssText&&f.call(b,d.style);null!=d.U_display&&(b.preStyle.display=d.U_display);var e=d.attributes,l,g;for(g=e.length-1;0<=g;g-=1){l=e[g];var k=l.name,h=c["html:"+k];"tabindex"===k&&(k="tabIndex");var m;m=d;var C=k,B=l,y=_uf.ieVersion();m=void 0!==y&&8>=y?B.specified:m.hasAttribute?m.hasAttribute(C):B.specified;m&&(h?b.html[h]=d[h].toString():a.hasOwnProperty(k)||k.match(/^on/)||
(b.att[k.toLowerCase()]=l.value))}return b}},Props:function(a,d){g.call(this);"object"===typeof a&&this.merge(a,d)},getStyleProperty:function(a){return b[a]},getHtmlProperty:function(a){return c[a]}});_uf.ui.Props.prototype={mergeClasses:function(a,d){if(this.classes===d)return a;var b,e,c=a?UNIFACE.splitString(a,/\s+/):[],l={};for(e=0;e<c.length;++e)l[c[e]]=!0;for(b in d)d.hasOwnProperty(b)&&d[b]&&delete l[b];for(b in this.classes)this.classes.hasOwnProperty(b)&&(this.classes[b]?l[b]=!0:delete l[b]);
return Object.keys(l).join(" ")},merge:function(a,d){var b,e,c;a&&a.hasOwnProperty("!")&&g.call(this);for(b in a)a.hasOwnProperty(b)&&("!"!==b.substring(0,1)?(e=a[b].toString?a[b].toString():a[b],c=m.call(this,b),c.set[c.name]=e):1<b.length&&(c=m.call(this,b.substring(1)),delete c.set[c.name]));d&&(this.syntax={},h(this.syntax,d),"true"===this.html.disabled?this.syntax.DIM=!0:"false"===this.html.disabled&&(this.syntax.DIM=void 0),"true"===this.html.readOnly?this.syntax.NED=!0:"false"===this.html.readOnly&&
(this.syntax.NED=void 0))},overlayWith:function(a){null!=a&&(h(this.preStyle,a.preStyle),h(this.html,a.html),h(this.att,a.att),h(this.uniface,a.uniface),h(this.syntax,a.syntax),h(this.className,a.className),k.apply(this))},get:function(a){a=m.call(this,a);return a.set[a.name]},getRawProps:function(){var a={},b;for(b in this.preStyle)this.preStyle.hasOwnProperty(b)&&(a[d[b]]=this.preStyle[b]);for(b in this.html)this.html.hasOwnProperty(b)&&(a[l[b]]=this.html[b]);for(b in this.att)this.att.hasOwnProperty(b)&&
(a["html:"+b]=this.att[b]);for(b in this.uniface)this.uniface.hasOwnProperty(b)&&(a[b]=this.uniface[b]);for(b in this.className)this.className.hasOwnProperty(b)&&(a["class:"+b]=this.className[b]);return a}}})();UNIFACE.assert=function(h,g){h||UNIFACE.throwException("INTERNAL ERROR: "+g)};var UENTITY_PREFIX="uent:",UFIELD_PREFIX="ufld:",ULABEL_PREFIX="ulbl:",UERRORLABEL_PREFIX="uflderror:";UNIFACE.namespace("luv.constants").extend({UINS_SEPARATOR:":",UOCCIND_SEPARATOR:"."});UNIFACE.luv=UNIFACE.luv||{};UNIFACE.luv.vsn="9.7/1";
UNIFACE.namespace("luv.util").extend(function(){return{uListToArray:function(h){return""===h?[]:h.split("\u001b")},arrayToUList:function(h){return h.join("\u001b")},normalizeValrep:function(h){h&&h.constructor===Array||UNIFACE.throwException(Error("ValRep format is incorrect!"));if(0===h.length||h[0].constructor===Array){var g=[{},[]],f;for(f=0;f<h.length;f++){var m=h[f][0],k=g[0],c=m,a=h[f][1],b=a.indexOf("\u0015");0<=b&&(a=a.substr(b+1));k[c]=a;g[1][f]=m}h=g}return h},assureValrep:function(h){return 0<
h[1].length?h:[{"":""},[""]]},isEmptyObject:function(h){for(var g in h)if(h.hasOwnProperty(g))return!1;return!0}}}());
function findPlaceholder(h,g,f){var m,k=f.instance;h+=g.nm;if(g=_uf.DOMNodeManager.fetch(h,k.instanceName)){for(var c=f;void 0===m&&0<c.nodes.length;){if(c.containsNode(g)){m=c;break}if(!c.entity||!c.entity.occ)break;c=c.entity.occ}f=void 0!==m?m.postfix:f.postfix;_uf.DOMNodeManager.add(h,k.instanceName,null);g.id=h+UNIFACE.luv.constants.UINS_SEPARATOR+k.instanceName+f;_uf.DOMNodeManager.add(h+f,k.instanceName,g)}return{el:g,contOcc:m,id:h}}
(function(h,g,f,m){h.realizeField=function(f,c,a,b,e,l){if(l||void 0===e.dirty||e.dirty){b.triggers||(b.triggers={});var d=f.getChild(a);if(d)d.allProperties(b,e),d.postRealize();else{var n=findPlaceholder(UFIELD_PREFIX,b,f);n.el?(d=new h.field(n.el?n.el.id:n.id,f,a,b),f==n.contOcc?f.children[a]=d:f.entity.fosterChildren[a]=d,d.widget=UNIFACE.widgetFactory.create(b.widget),d.widget.callBack=d.createCallBack(),d.createEvents(["onchange","onedit"]),b.declaredProps||(b.declaredProps=new m.Props(b.properties,
b.syntax?b.syntax:{}),b.declaredProps.overlayWith(m.getPropsFromDomNode(n.el))),(c=c[a].nm)||(c=a),b.label&&(e.label_r_o=h.realizeLabel(f,c,b.label,e,l)),d.errorLabel=h.realizeErrorLabel(f,c),d.allProperties(b,e),d.widget.render(n.el),d.postRealize()):g.data.field.getNormalizedProps(e)}return d}};h.realizeErrorLabel=function(f,c){var a=UERRORLABEL_PREFIX+c,b=g.DOMNodeManager.fetch(a,f.instance.instanceName);b&&(b.id=a+h.constants.UINS_SEPARATOR+f.instance.instanceName+f.postfix);return b};h.realizeLabel=
function(f,c,a,b){var e=ULABEL_PREFIX+c,l=null,d=f.instance,n=!1;a.triggers||(a.triggers={});l=f.children[e];if(!l){var p=g.DOMNodeManager.fetch(e,d.instanceName);p&&(g.DOMNodeManager.add(e,d.instanceName,null),p.id=e+h.constants.UINS_SEPARATOR+d.instanceName+f.postfix,g.DOMNodeManager.add(e+f.postfix,d.instanceName,p),l=new h.label(p.id,c,a,f.postfix),f.children[e]=l,l.widget&&((n=void 0!==b&&b.hasOwnProperty("labelValue")&&""!==b.labelValue)?l.widget.setValue(b.labelValue):l.widget.setValue(a.value),
l.widget.render(p)))}return l};h.realizeOccurrence=function(f,c,a){if(0<a&&f.hasNoPlaceholders)return null;var b=!1,e=c.ro;e&&e.entity===f||(e=f.instance.getNewOccurrence(f,c,a),b=!0);e.moveTo(f,a);e.realize(c,b);return e};h.realizeEntity=function(f,c,a,b){var e=f.getChild(c),l;if(!e){var d=findPlaceholder(UENTITY_PREFIX,a,f),e=new h.entity(f,c,a);e.fieldId=d.el?d.el.id:d.id;d.el&&a.widget&&(l=d.el,d.contOcc&&f!=d.contOcc?f.entity.fosterChildren[c]=e:f.children[c]=e,e.widget=UNIFACE.widgetFactory.create(a.widget),
e.widget.callBack=e.createCallBack(),e.createEvents([]),a.declaredProps||(a.declaredProps=new m.Props(a.properties,{}),a.declaredProps.overlayWith(m.getPropsFromDomNode(d.el))))}e.allProperties(a,b);l&&e.widget.render(l);e.realize(b)};f.on("formtitle",function(f){var c,a;for(c in f)f.hasOwnProperty(c)&&(a=g.InstanceManager.makeInstance(c))&&a.setTitle(f[c])});f.on("instance",function(f){var c,a,b;for(c in f)f.hasOwnProperty(c)&&"object"===typeof f[c]&&(a=f[c],b="string"===typeof a.componentname?a.componentname:
c,b=g.InstanceManager.makeInstance(c,b),b.define(a))});f.on("weboperation",function(f){var c;if(c=g.InstanceManager.getInstance(f.instancename))return c=[c,f.operationName.toLowerCase(),f.params?f.params:{}],f.args&&(c=c.concat(f.args)),UNIFACE.dl.postOperation.apply(UNIFACE.dl,c);UNIFACE.extension.popupWindow.showMessage("Instance "+f.instancename+':\n"'+f.operationName+'" is not callable.',"OK","UNIFACE RIA Exception",0,0,"error");return Promise.reject(new uniface.NotCallable(f.operationName,"o",
f.instancename))});f.on("layout",function(f){var c,a,b;if(f.hasOwnProperty("instanceName"))g.InstanceManager.makeInstance(f.instanceName,f.componentName).setLayout(f.layout,f.bindingPoint);else for(c in f)if(f.hasOwnProperty(c)&&c.match(/_I[0-9a-zA_Z]+/)){var e=g.data;c=e.getOcc(e.getOccChild(f[c],"#2"),0);a=e.getOccChild(c,"#3").value;b=e.getOccChild(c,"#4").value;f=e.getOccChild(c,"#5").value;c=e.getOccChild(c,"#6").value;a=g.InstanceManager.makeInstance(a,b);a.setLayout(f,c);break}})})(UNIFACE.luv,
_uf,_uf.commands,_uf.ui);(function(h,g,f,m){var k=function(a,b){this.name=a;this.structure=b;this.spareOccurrences=[];this.occCounter=1};k.prototype={moveToOccPool:function(a){a.visitNodes(function(a){a.parentNode.removeChild(a)},!0);this.spareOccurrences.push(a)},createOcc:function(a){return new h.occurrence(a,this.structure.occs,h.constants.UOCCIND_SEPARATOR+this.occCounter++)},getNewOccurrence:function(a,b,e){b=null;var c=!1;if(a.placeHolders)if(1!==a.occs.length||a.occs[0].realized){var d=a.occs;for(e=0;e<d.length;e++)if(d[e].realized&&
(!d[e].data||!g.data.isOccValid(d[e].data)||"del"===g.data.getOccStatus(d[e].data))){b=d[e];break}if(!b)if(0<this.spareOccurrences.length)b=this.spareOccurrences.pop();else{b=this.createOcc(a);for(e=0;e<a.placeHolders.length;e++)c=a.placeHolders[e].cloneNode(!0),c!==h.parkingPlace&&g.DOMNodeManager.parse(c,a.instance.instanceName),b.nodes.push(c);c=!0}}else b=a.occs[0];else!0===a.hasNoPlaceholders?(UNIFACE.assert(0===e,"Trying to get a second (or higher) occurrence without repetition"),0<a.occs.length&&
(b=a.occs[0])):(b=this.createOcc(a),"function"===typeof a.findPlaceHolders&&(b.nodes=a.findPlaceHolders(b.postfix)),c=!0);null!==b&&(c&&(b.nodes[0]&&(b.nodes[0].id+=b.postfix),1<b.nodes.length&&(b.nodes[b.nodes.length-1].id+=b.postfix)),b.entity=a);return b}};var c=function(){this.entityHandlers={}};c.prototype={addEntityHandlers:function(a){for(var b in a)if(a.hasOwnProperty(b)){var e=a[b];"object"===typeof e&&"entity"===e.type&&this.addEntityHandler(e,b)}},addEntityHandler:function(a,b){b=b||"";
this.entityHandlers[b]=new k(b,a);this.addEntityHandlers(a.occs)},getNewOccurrence:function(a,b,e){var c=null,d=this.entityHandlers[a.name||""];d&&(c=d.getNewOccurrence(a,b,e));return c},removeOccurrence:function(a){var b=a.entity.occs;if(1<b.length){var e=a.getIndex(),c=this.entityHandlers[a.entity.name];c&&c.moveToOccPool(a);b.splice(e,1)}}};g.Instance=function(a,b){function e(a){function b(a,d,e){var c,l,f,g,k=["onsyntaxerror"];for(c in d)if(d.hasOwnProperty(c)&&(l=d[c],l.nm)){l.id=c;for(g=0;g<
k.length;g++)f=k[g],l.triggers&&l.triggers.hasOwnProperty(f)&&(l.triggers[f].input={},l.triggers[f].output={});if("entity"!==l.type)!0===l.syntax.NED&&void 0===l.hash&&(a.hasNEDFields=!0,a.ownsNEDFields=!0);else{g=e;if(l.properties&&l.properties.selection&&g)if(f=l.properties.selection.toUpperCase(),"M"===f||"MULTI"===f)l.multiSelect=!0,g=!1;else if("S"===f||"SINGLE"===f)l.singleSelect=!0,g=!1;l.properties&&l.properties.datascrolling&&(f=l.properties.datascrolling.toUpperCase(),l.useDataScrolling=
"0"!==f[0]&&"F"!==f[0],f=l.properties.pagesize,l.pagesize=parseInt(f,10),isNaN(f)&&(l.pagesize=32));l.triggers&&l.triggers.nextpage&&(f={},f[l.id]={">":!0},l.triggers.nextpage.input={entities:[f]},f={},f[l.id]={">":!0},l.triggers.nextpage.output={entities:[f]});b(l,l.occs,g);l.hasNEDFields&&(a.hasNEDFields=!0)}}}b(a,a,!0)}var l=[];this.addOnUpdateListener=function(a){l.push(a)};this.fireOnUpdate=function(){var a;for(a=0;a<l.length;a++)l[a](this)};c.apply(this,arguments);this.componentName=b;this.instance=
this;this.occs=[];this.operations=[];this.postfix="";this.instanceName=a;this.data=null;this.title="";this.setLayout=function(a,b){this.layout=a;"body"==b&&(g.ui.layout.init(),g.vp.mainInstance=this,this.targetNode=document.body);void 0===this.targetNode&&(this.createTargetNode(),this.targetNode.innerHTML=a);this.targetNode!==h.parkingPlace&&g.DOMNodeManager.parse(this.targetNode,this.instanceName);null!=this.widget&&void 0!=this.widget.setLayout&&this.widget.setLayout(this);this.render()};this._pendingCreate=
!1;this.define=function(a){this.definition=a;"string"===typeof this.definition.componentname&&(this.componentName=this.definition.componentname);this.definition&&(this._pendingCreate=!1);this.addEntityHandler({type:"entity",occs:this.definition});this.createOperations();e(this.definition);this.render()};this.addOperation=function(a,b){this.definition&&(this.definition.operations||(this.definition.operations={}),this.definition.operations[a]={requesttype:"clientside"});window._uf_clientside||(window._uf_clientside=
{});var e=window._uf_clientside[this.componentName];e||(e={},window._uf_clientside[this.componentName]=e);e[a]=b};this.render=function(a){a&&(this.data=a);this.data&&this.definition&&(g.data.postProcess(this),this.targetNode&&void 0!==this.layout&&(h.realizeOccurrence(this,this.data,0),this.fireOnUpdate()))}};g.Instance.prototype=new c;g.Instance.prototype.typeName="instance";g.Instance.prototype.createOperations=function(){var a;this.definition.operations=this.definition.operations||{};for(a in this.definition.operations)this.definition.operations.hasOwnProperty(a)&&
g.transp.is_callable(this.definition.operations[a].requesttype)&&(this.operations[a]=UNIFACE.bind(UNIFACE.dl.postOperation,UNIFACE.dl,this,a,{}))};g.Instance.prototype.createTargetNode=function(){this.targetNode=document.createElement("span");this.targetNode.className="udsp_default";this.hideTargetNode()};g.Instance.prototype.showTargetNode=function(a){this.targetNode.parentNode!==a&&a.appendChild(this.targetNode)};g.Instance.prototype.hideTargetNode=function(){void 0===h.parkingPlace&&(h.parkingPlace=
document.createElement("div"),h.parkingPlace.style.display="none",document.body.appendChild(h.parkingPlace));this.targetNode&&h.parkingPlace.appendChild(this.targetNode)};g.Instance.prototype.getStructureMap=function(){return this.occs};g.Instance.prototype.setTitle=function(a){this.title=a;var b=g.DOMNodeManager.fetch("uf:ftitle:"+this.instanceName,this.instanceName);b||(b=g.DOMNodeManager.fetch("uf:ftitle",this.instanceName));b&&(b.innerHTML="",this.element.appendChild(document.createTextNode(a)))};
g.Instance.prototype.getName=function(){return this.definition.componentname};g.Instance.prototype.disposeWidgets=function(){if(this.data){var a=this.data.ro;a&&a.removeWidget()}};g.Instance.prototype.isActivatable=function(){return!this._pendingDelete&&!this.isInvalid&&(this.definition||this._pendingCreate)};g.Instance.prototype.remove=function(){this.disposeWidgets();this.targetNode&&h.parkingPlace.removeChild(this.targetNode);this.isInvalid=!0;g.InstanceManager.remove(this.instanceName)}})(UNIFACE.luv,
_uf,_uf.commands,_uf.ui);(function(){var h={};_uf.InstanceManager={getInstance:function(g){return h[g.toUpperCase()]},makeInstance:function(g,f){g=g.toUpperCase();"object"!==typeof h[g]&&(h[g]=new _uf.Instance(g,f));return h[g]},remove:function(g){delete h[g.toUpperCase()]},some:function(g,f){for(var m in h)if(h.hasOwnProperty(m)&&"object"===typeof h[m]&&g.call(f,h[m],m,this))return!0;return!1}}})();(function(h,g,f,m){function k(a,b,e,c){var d=!1;if(a)for(a=a.occs,0>b&&(b=0),e>=a.length&&(e=a.length-1);b<=e;b++)if(c||a[b][1].isSelected)d=g.data.setOccSelection(a[b],c)||d;return d}var c=["ondragstart","ondrop","ondragend"];g.vp={};g.vp.Node=function(){};g.vp.Node.prototype={getAPIObject:function(){this.data.a_o||(this.data.a_o=this.createApiObject());return this.data.a_o},showBlock:function(){this.widget&&(this.data.blockedStyle=this.widget.getBlockedProperties(),this.mergedProperties.overlayWith(this.data.blockedStyle),
this.widget.setProperties(),this.widget.setBlocked(!0))},showUnblock:function(){this.data&&this.data.blockedStyle&&(delete this.data.blockedStyle,this.setProperties());this.widget&&this.widget.setBlocked(!1)},calcProperties:function(a,b){this.mergedProperties=new m.Props;this.mergedProperties.overlayWith(a.declaredProps);b&&(this.mergedProperties.overlayWith(g.data[this.typeName].getNormalizedProps(b)),b.blockedStyle&&this.mergedProperties.overlayWith(b.blockedStyle))},link:function(a){this.data&&
a!=this.data&&(UNIFACE.assert(this.data.ro===this,"data object visible in 2 different realized objects ?"),this.data.ro=void 0);this.data=a;a.ro=this},unlink:function(){this.data&&(UNIFACE.assert(this.data.ro===this,"data object visible in 2 different realized objects ?"),this.data.ro=void 0);this.data=null},allProperties:function(a,b){this.calcProperties(a,b);this.link(b)},doEvent:function(a,b){return this.events[a].post?this.postEvent(a,b,Array.prototype.slice.call(arguments,2)):this.callEvent(a,
b,Array.prototype.slice.call(arguments,2))},postEvent:function(a,b,e){UNIFACE.dl.postTrigger(this,a,e);g.commands.run()},callEvent:function(a,b,e){return g.commands.isProcessing()?Promise.reject(Error("Trigger "+a+" not called .. was already processing.")):UNIFACE.dl.callTrigger(this,a,b,e)},canCall:function(a){var b=this.definition.triggers;return b&&b[a]&&g.transp.is_callable(b[a].requesttype)},bindEvent:function(a,b){var e=this.canCall(a),l;if(l=!e)if(l="occurrence"===this.typeName)if(l=this.entity!==
this.instance)a:{for(l=0;l<c.length;l++)if(c[l]===a){l=!0;break a}l=!1}l&&(e=this.entity.canCall(a));if(b)this.events[a]=this.bindOnModified(e,a);else if(e)this.events[a]=UNIFACE.bind(this.doEvent,this,a);else return;UNIFACE.eventMapper.register(this.fieldId,a,this.events[a])},createEvents:function(a){var b,e={};for(b=0;b<a.length;++b)e[a[b]]=!0,this.bindEvent(a[b],!0);var l;a=this.definition.triggers;for(l in a)!e.hasOwnProperty(l)&&a.hasOwnProperty(l)&&(e[l]=!0,this.bindEvent(l,!1));for(b=0;b<c.length;b++)l=
c[b],e.hasOwnProperty(l)||this.bindEvent(l,!1)},setProperties:function(){this.setLUVProperties();this.setWidgetProperties()},setLUVProperties:function(){this.calcProperties(this.definition,this.data)},setWidgetProperties:function(){this.widget&&this.widget.setProperties()},getName:function(){return this.definition.nm},removeWidget:function(){this.widget&&(this.widget.dispose(),this.widget=null)}};h.field=function(a,b,e,c){c&&c.valrep&&(c.valrep=UNIFACE.luv.util.normalizeValrep(c.valrep));this.occ=
b;this.instance=b.instance;this.definition=c;this.fieldId=a;this.valueExt="";this.valrep=this.data=null;this.plainFieldName=e;this.events={};this.widget=null};h.field.prototype=new g.vp.Node;UNIFACE.extend.call(h.field.prototype,{typeName:"field",checkedValue:function(a){var b=g.data.getFldValue(this.data),b=new UNIFACE.syn.ExtensiveValue(b,b,this.plainFieldName,this.mergedProperties.syntax,this.valrep);if(this.widget){void 0===a&&(a=this.widget.getValue());null==a&&(a="");this.data&&g.data[this.typeName].getNormalizedProps(this.data);
var e=this.widget.validate();if(e)return b.error=e,b;(e=this.mergedProperties.syntax)||(e={});b=UNIFACE.syn.checkField(e,a,b.originalValue,this.valrep,this.plainFieldName)}return b},setValue:function(a){this.valueExt=UNIFACE.syn.int2ext(this.mergedProperties.syntax,a);this.widget&&this.widget.setValue(this.valueExt)},setNotModified:function(){this.modValue=this.widgetValue=this.widget.getValue();this.widgetRepresentation=this.widget.getRepresentation()},setValrep:function(a,b){a&&(this.valrep=h.util.assureValrep(a),
this.widget.setValrep(this.valrep));void 0!==b&&this.setValue(b)},allProperties:function(a,b){g.vp.Node.prototype.allProperties.call(this,a,b);b&&g.data.getFldValrep(this.data)&&g.data.setFldValrep(this.data,h.util.normalizeValrep(g.data.getFldValrep(this.data)));var e=g.data.getFldValrep(this.data);e||(e=this.definition.valrep);this.setValrep(e,g.data.getFldValue(this.data));this.widget&&void 0!==g.data.getFldResource(this.data)&&null!==g.data.getFldResource(this.data)&&this.widget.setResource(g.data.getFldResource(this.data))},
showError:function(a,b){b||"function"===typeof this.widget.showError&&this.widget.showError(a);g.view.errorFeedback.show(this,a)},hideError:function(a){a||"function"===typeof this.widget.hideError&&this.widget.hideError();g.view.errorFeedback.hide(this)},handleError:function(a,b,e){var c=this;if(this.syntaxCheckEnabled())if(a.error)if(this.events.onsyntaxerror&&!b)this.events.onsyntaxerror().then(function(d){!1!==d.returnValue&&c.showError(a.error,e)})["catch"](function(a){});else this.showError(a.error,
e);else this.hideError(e)},unrealize:function(){this.widget&&this.widget.unrender();this.unlink()},isModified:function(){return this.widget?this.widget.getValue()!==this.widgetValue||this.widget.getRepresentation()!==this.widgetRepresentation:!1},createCallBack:function(){var a=this;return{getName:function(){return a.definition.nm},getType:function(){return"F"},checkValue:function(b,e){if("undefined"==typeof a.modValue||a.modValue===b||"empty"===g.data.getOccServerStatus(a.occ.data)&&b==a.widgetValue)return a.hideError(!0),
{newValue:b};var c=a.checkedValue(b);c.error||(a.modValue=c.normalizedValue);a.handleError(c,e,!0);return c},getCalculatedProperties:function(){return a.mergedProperties},getDefProperty:function(b){return a.definition.properties[b]},bind:function(b,e){var c=UNIFACE.bind(e,a.widget);UNIFACE.eventMapper.register(a.fieldId,b,c);return c},getEvents:function(){return a.events},getValue:function(){return a.valueExt},getValrep:function(){return a.valrep},getId:function(){return a.fieldId},markAsModified:function(){a.markAsModified()},
getInstance:function(){return a.occ.instance},getErrorLabel:function(){return a.getErrorLabel()},getSyntaxCheckEnabled:function(){return a.syntaxCheckEnabled()}}},getErrorLabel:function(){return this.errorLabel},shouldMarkAsModified:function(a,b){var e=a?a.target||a.srcElement:null;return!e||!e.id||e.id===b},markAsModified:function(){if(!g.commands.isProcessingServerResponse()&&!h.busyRealizing){g.data.setFldMod(this.data);var a=this.occ;for(g.data.setOccMod(a.data,"direct");a.entity&&a.entity.occ&&
!g.data.isOccMod(a.entity.occ.data);)a=a.entity.occ,g.data.setOccMod(a.data,"indirect")}},doOnModified:function(a,b,e,c,d){!h.busyRealizing&&this.shouldMarkAsModified(e,c)&&(this.markAsModified(),this.widget&&g.data.setFldValue(this.data,this.widget.getValue()));a&&this.doEvent(b,e,d)},bindOnModified:function(a,b){var e=UNIFACE.bind(this.doOnModified,this,a,b);return function(a){return e(a,this.id,Array.prototype.slice.call(arguments,1))}},syntaxCheckEnabled:function(){return"string"!==typeof this.mergedProperties.uniface.clientsyntaxcheck||
this.mergedProperties.uniface.clientsyntaxcheck.match(/^(on|yes|y|true|t|1)$/i)?!0:!1},postRealize:function(){this.widget.setProperties();this.mergedProperties.uniface&&this.mergedProperties.uniface.errormsg?this.showError(this.mergedProperties.uniface.errormsg):this.hideError();this.setNotModified()},getCurrency:function(){return this.occ.getCurrency()},createApiObject:function(){return this.occ.getAPIObject().getField(this.definition.nm)}});h.label=function(a,b,e,c){this.labelId=a;this.definition=
e;e.widget&&(this.widget=UNIFACE.widgetFactory.create(e.widget),this.widget.callBack=this.createCallBack())};h.label.prototype={typeName:"label",unrealize:function(){this.widget&&this.widget.unrender()},createCallBack:function(){var a=this;return{checkedValue:g.nop,getCalculatedProperties:g.nop,getDefProperty:g.nop,bind:g.nop,getEvents:g.nop,getValue:function(){return a.definition.value},getValrep:g.nop,getId:function(){return a.labelId},markAsModified:g.nop}},removeWidget:function(){this.widget&&
(this.widget.dispose(),this.widget=null)},setValue:function(a){this.widget&&this.widget.setValue(a)}};h.occurrence=function(a,b,e){this.instance=a.instance;this.children={};this.definition=b;this.realized=!1;this.nodes=[];this.events={};a.instance===a?(this.entity=null,this.postfix=""):(this.entity=a,this.postfix=e)};h.occurrence.prototype=new g.vp.Node;UNIFACE.extend.call(h.occurrence.prototype,{typeName:"occurrence",postRealize:function(){this.widget.setProperties()},createCallBack:function(){var a=
this;return{getName:function(){return a.entity.definition.nm},getType:function(){return"O"},getCalculatedProperties:function(){return a.mergedProperties},getDefProperty:function(b){return a.entity.definition.properties[b]},getEvents:function(){return a.events}}},createEvents:function(a){g.vp.Node.prototype.createEvents.call(this,a);var b=this;this.events.onselect=function(a){if(a&&(!a.target||"LABEL"!==a.target.nodeName||!a.target.control)){var c=!1;0===a.button?c=a.ctrlKey?b.ctrlSelect():a.shiftKey?
b.shiftSelect():b.select():2==a.button&&(c=b.contextSelect());g.data.setOccCurrent(b.data);a._uniface=a._uniface||{};c&&(a._uniface.selectionChanged=b)}};this.entity!==this.instance&&this.entity.canCall("onselectionchange")&&(this.events.onselectionchange=function(a){a&&(a.target&&"LABEL"===a.target.nodeName&&a.target.control||a._uniface&&a._uniface.selectionChanged==b&&UNIFACE.dl.callTrigger(b.entity,"onselectionchange"))});this.events.ondraginit=function(a){if(a&&(!a.target||"LABEL"!==a.target.nodeName||
!a.target.control)){var c=b.contextSelect();g.data.setOccCurrent(b.data);a._uniface=a._uniface||{};c&&(a._uniface.selectionChanged=b)}};this.events.ondropinit=this.events.ondraginit},getChild:function(a){var b=this.children[a];b||!this.entity||h.util.isEmptyObject(this.entity.fosterChildren)||this!==this.entity.occs[0]||(b=this.entity.fosterChildren[a]);b||(b=null);return b},getCurrency:function(){var a,b=[];for(a=this;a&&a.entity&&a.entity!==a.entity.instance;a=a.entity.occ)b.unshift(a);return b},
getPathForNewPage:function(){var a=this.getCurrency(),b="",e="";if(a)for(var c=0;c<a.length;c++)"empty"!==g.data.getOccStatus(a[c].data)&&(e+=b+a[c].entity.definition.nm,b=";",e+=b+g.data.getOccId(a[c].data));return e},getName:function(){return this.entity.definition.nm},calcProperties:function(a,b){g.vp.Node.prototype.calcProperties.call(this,a,b);if(b&&this.widget){var e=this.widget.stateProps;e&&(this.mergedProperties.overlayWith(e.plain),g.data.isOccEmpty(b)&&this.mergedProperties.overlayWith(e.empty),
g.data.isOccSelected(b)&&this.mergedProperties.overlayWith(e.selected),g.data.isOccCurrent(b)&&this.mergedProperties.overlayWith(e.current))}},getIndex:function(){var a,b=this.entity.occs;for(a=0;a<b.length;a++)if(this===b[a])return a;return-1},moveTo:function(a,b){var e=this.getIndex();if(e!==b){if(0<this.nodes.length&&0<a.occs.length){var c;c=0===b?a.occs[0].nodes[0]:a.occs[b-1].nodes[this.nodes.length-1].nextSibling;this.nodes[0]!==c&&this.visitNodes(function(d){a.parentNode.insertBefore(d,c)},
!0)}0<=e&&this.entity.occs.splice(e,1);a.occs.splice(b,0,this)}},visitNodes:function(a,b){var e;for(e=0;e<this.nodes.length;e++){var c=this.nodes[e];UNIFACE.assert(null!==c);(b||3!==c.nodeType)&&a(c)}},visitAllChildren:function(a){this.visitOwnChildren(a);this.visitFosterChildren(a)},visitFosterChildren:function(a){if(this.entity&&this===this.entity.occs[0]&&!h.util.isEmptyObject(this.entity.fosterChildren)){var b,e=this.entity.fosterChildren;for(b in e)e.hasOwnProperty(b)&&a(e[b],b)}},visitOwnChildren:function(a){for(var b in this.children)this.children.hasOwnProperty(b)&&
a(this.children[b],b)},makeVisible:function(){this.realized||(this.visitNodes(function(a){null!=a.getAttribute("U_display")&&(a.style.display=a.getAttribute("U_display"),a.removeAttribute("U_display"))}),this.realized=!0)},makeInvisible:function(){this.realized&&(this.visitNodes(function(a){a.setAttribute("U_display",a.style.display);a.style.display="none"}),this.realized=!1)},showBlock:g.nop,showUnblock:g.nop,unrealize:function(){this.unlink();this.realized&&(this.visitOwnChildren(function(a){a.unrealize()}),
this.makeInvisible())},removeWidget:function(){this.visitAllChildren(function(a){a.removeWidget()});g.vp.Node.prototype.removeWidget.call(this)},adoptFosterChildren:function(){var a=this;this.visitFosterChildren(function(b){b.occ=a})},realize:function(a,b){var e=!1;this.link(a);1===this.nodes.length&&(!this.widget&&this.definition.widget&&(this.widget=UNIFACE.widgetFactory.create(this.definition.widget),this.widget.callBack=this.createCallBack(),e=!0,this.definition.declaredProps||(this.definition.declaredProps=
new m.Props(this.definition.properties,{}),this.definition.declaredProps.overlayWith(m.getPropsFromDomNode(this.nodes[0])))),this.allProperties(this.definition,a));this.entity.occs[0]!==this||h.util.isEmptyObject(this.entity.fosterChildren)||(this.adoptFosterChildren(),b=!0);this.realizeContent(a,b);this.createEvents([]);this.makeVisible();this.widget&&(e&&this.widget.render(this.nodes[0]),this.postRealize())},realizeContent:function(a,b){var e=b||a&&!!g.data.isOccDirty(a),c,d,n=this.definition;for(d in n)if(n.hasOwnProperty(d)){var f=
n[d];if(f&&"string"===typeof f.type){var k=g.data.getOccChild(a,d);void 0!==k&&("entity"===f.type?h.realizeEntity(this,d,f,k,b):e&&("field"===f.type?h.realizeField(this,n,d,f,k,b):"label"===f.type&&((c=n[d].nm)||(c=d),k.label_r_o=h.realizeLabel(this,c,f))))}}g.data.setOccDirty(a,!1)},remove:function(){this.visitOwnChildren(function(a){var b;if(a.hasOwnProperty("occs"))for(b=a.occs.length-1;0<=b;--b)a.occs[b].remove();else a.hasOwnProperty("fieldId")&&a.showUnblock()});this.unrealize();this.instance.removeOccurrence(this)},
containsNode:function(a){var b;for(b=0;b<this.nodes.length;b++)if(this.nodes[b]===a||this.nodes[b].contains(a))return!0;return!1},createApiObject:function(){var a=this.entity.getAPIObject();return new uniface.Occurrence(this.data,a)},getHeight:function(){if(1==this.nodes.length)return this.nodes[0].getBoundingClientRect().height},select:function(){var a=this.data,b=this.entity,e=a.container,c=!1;b.definition.multiSelect?(b=g.data.isOccSelected(a),g.data.setOccSelection(a,!1),c=k(e,0,e.occs.length-
1,!1),g.data.setOccSelection(a,!0),c=c||!b):b.definition.singleSelect&&e.selectedOcc!==a&&(e.selectedOcc&&(c=g.data.setOccSelection(e.selectedOcc,!1)),c=g.data.setOccSelection(a,!0)||c,e.selectedOcc=a);return c},ctrlSelect:function(){var a=this.data,b=this.entity,e=a.container,c=!1;b.definition.multiSelect?c=g.data.setOccSelection(a,!a[1].isSelected):b.definition.singleSelect&&(e.selectedOcc&&e.selectedOcc!==a&&(c=g.data.setOccSelection(e.selectedOcc,!1)),c=g.data.setOccSelection(a,!a[1].isSelected)||
c,e.selectedOcc=a[1].isSelected?a:null);return c},shiftSelect:function(){var a=this.data,b=this.entity,e=a.container,c=!1;if(b.definition.multiSelect){var d,b=a.container.occs,e=b.indexOf(e.curocc);d=b.indexOf(a);e>d&&(c=e,e=d,d=c);c=k(a.container,0,e-1,!1);c=k(a.container,e,d,!0)||c;c=k(a.container,d+1,b.length-1,!1)||c}else b.definition.singleSelect&&(c=this.select());return c},contextSelect:function(){var a=this.data,b=this.entity,e=!1;if(b.definition.multiSelect||b.definition.singleSelect)a[1].isSelected||
(e=this.select());return e},isSelected:function(){return this.data[1].isSelected}});h.entity=function(a,b,e){a.children[b]=this;this.occ=a;this.occs=[];this.name=b;this.instance=a.instance;this.definition=e;this.parentNode=this.placeHolders=null;this.maxOccurs="unbounded";this.fosterChildren={};this.postfix=a?a.postfix:"";void 0!==e.maxOccurs&&(this.maxOccurs=e.maxOccurs);this.events={};this.widget=null};h.entity.prototype=new g.vp.Node;UNIFACE.extend.call(h.entity.prototype,{typeName:"entity",postRealize:function(){this.widget.setProperties()},
createCallBack:function(){var a=this;return{getName:function(){return a.definition.nm},getType:function(){return"E"},getCalculatedProperties:function(){return a.mergedProperties},getDefProperty:function(b){return a.definition.properties[b]},getEvents:function(){return a.events},useDataScrolling:function(){return a.definition.useDataScrolling},getPageSize:function(){return a.definition.pagesize},getRowHeight:function(){void 0===a.definition.rowHeight&&(a.definition.rowHeight=a.occs[0].getHeight());
void 0===a.definition.rowHeight&&(a.definition.rowHeight=31);return a.definition.rowHeight},getPageStart:function(){return g.data.getEntPgStart(a.data)},nextPage:function(){a.events.nextpage()},getValue:function(){return a.data.complete?"complete":0}}},findPlaceHolders:function(){var a=[];if(this.hasNoPlaceholders)return[];if(!this.placeHolders){var b=this.definition.nm,e=g.DOMNodeManager.fetch("uocc:"+b,this.instance.instanceName),c=e;e||(e=g.DOMNodeManager.fetch("uocs:"+b,this.instance.instanceName),
c=g.DOMNodeManager.fetch("uoce:"+b,this.instance.instanceName));!e||c&&e.parentNode===c.parentNode||(c=e);if(e)for(this.parentNode=e.parentNode,b=e,this.placeHolders=[];b!==c.nextSibling;)e=b.cloneNode(!0),3!==e.nodeType&&(e.setAttribute("U_display",e.style.display),e.style.display="none"),this.placeHolders.push(e),a.push(b),b=b.nextSibling;else this.hasNoPlaceholders=!0}return a},unrealize:function(){var a;this.unlink();for(a=0;a<this.occs.length;a++)this.occs[a].remove()},removeWidget:function(){var a;
for(a=0;a<this.occs.length;a++)this.occs[a].removeWidget();g.vp.Node.prototype.removeWidget.call(this)},refresh:function(a){h.busyRealizing=!0;this.realize(a);this.instance.fireOnUpdate();h.busyRealizing=!1},realize:function(a){this.link(a);var b=this.occs,e=g.data.getOccCnt(a),c=parseInt(this.maxOccurs,10),d,f=0,p=0;if(isNaN(c)||!c)c=e;for(;f<c&&a&&p<e;){if("del"!==g.data.getOccStatus(g.data.getOcc(a,p))){d=a.occs[p];if(d=h.realizeOccurrence(this,d,f))d.dataIdx=p;f++}p++}for(UNIFACE.assert(0!==f,
"No occurrence realized");f<b.length;)b[f].remove();this.allProperties(this.definition,a);this.widget&&(this.widget.setValue(),this.postRealize())},getCurrency:function(){return this.occ.getCurrency()},createApiObject:function(){return(this.occ.entity===this.occ.entity.instance?uniface.getDSPInstance(this.occ.entity.instanceName):this.occ.getAPIObject()).getEntity(this.definition.nm)},createEvents:function(a){g.vp.Node.prototype.createEvents.call(this,a)},calcProperties:function(a,b){g.vp.Node.prototype.calcProperties.call(this,
a,b);if(b&&this.widget){var e=this.widget.stateProps;e&&(this.mergedProperties.overlayWith(e.plain),g.data.isEntEmpty(b)&&this.mergedProperties.overlayWith(e.empty))}}})})(UNIFACE.luv,_uf,_uf.commands,_uf.ui);(function(h){function g(){}function f(){this.submitForm=document.createElement("form");this.submitForm.style.display="none";this.submitForm.method="POST";this.submitForm.acceptCharset="UTF-8";this.paramElements={};document.body.appendChild(this.submitForm)}function m(){this.manageable=!0;this.id=void 0;var a;a="undefined"!=typeof window.ActiveXObject?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest;this.xmlDoc=a;this.paramString="";this.method="POST";this.requestType="dynamic";this.responseType=
"update"}var k=function(){var a=1,b=0,e=!1,c={};return{getReq:function(a){return c[a]},registerReq:function(a){a.manageable&&(void 0===a.id&&(a.id=this.generateId()),"object"!==typeof c[a.id]&&(b++,e=!0),c[a.id]=a)},unregisterReq:function(a){"object"===typeof c[a]&&(0<b&&b--,delete c[a])},abortReq:function(a){var b=c[a];b&&(this.unregisterReq(a),b.scope&&(b.scope.unBlock(),b.setIndicated(!1)))},abortAllReqs:function(){for(var a in c)c.hasOwnProperty(a)&&this.abortReq(a);this.clearRequestNum()},onStateChange:function(a,
b,e){if("undefined"!==typeof c[a])c[a].onStateChange(b,e)},clearRequestNum:function(){b=0;e=!1;c={}},hadAsyncRequest:function(){return e},shouldIdle:function(){return 0===b},generateId:function(){var d=a;a++;return d},getUpcomingRequestId:function(){return a}}}();g.prototype.setOperation=function(a){this.operation=a};f.prototype=new g;f.prototype.addParam=function(a,b){void 0==this.paramElements[a]&&(this.paramElements[a]=document.createElement("textarea"),this.paramElements[a].name=a,this.submitForm.appendChild(this.paramElements[a]));
this.paramElements[a].value=b};f.prototype.addBodyPart=f.prototype.addParam;f.prototype.setURL=function(a){this.submitForm.action=a};f.prototype.send=function(){"string"===typeof this.operation&&""!==this.operation&&(this.submitForm.action+=".",this.submitForm.action+=this.operation);this.addParam("u:requestType","dynamic");this.addParam("u:responseType","fullpage");this.submitForm.submit()};m.prototype=new g;m.prototype.addParam=function(a,b){0!==this.paramString.length&&(this.paramString+="&");
this.paramString+=encodeURIComponent(a)+"="+encodeURIComponent(b)};m.prototype.addBodyPart=m.prototype.addParam;m.prototype.setURL=function(a){this.url=a};m.prototype.setIndicated=function(a){this.indicated=a;UNIFACE.extension.busyIndicator.setBusyAsync(a)};m.prototype.onStateChange=function(a,b){var e=[];if(4==this.xmlDoc.readyState){this.xmlDoc.onreadystatechange=_uf.nop;try{this.setIndicated(!1);k.unregisterReq(this.id);if(200==this.xmlDoc.status&&null!==this.xmlDoc.responseText){var c=null;if("<"===
this.xmlDoc.responseText.substr(0,1)){/URD [0-9]+ Error/i.test(this.xmlDoc.responseText)?b(new uniface.ServerError):b(new uniface.UnifaceError);UNIFACE.extension.popupWindow.showFailure("UNIFACE","Runtime error","Application error",this.xmlDoc.responseText);return}try{c=JSON.parse(this.xmlDoc.responseText)}catch(d){b(d)}if(c){e.push(h.add({beforeResponse:null},this));e.push(h.add(c,this));return}}var f="Server returned error code "+this.xmlDoc.status;!this.xmlDoc.status||999<this.xmlDoc.status?b(new uniface.TransportError("Network error"+
this.xmlDoc.responseText+this.xmlDoc.statusText,this.url)):b(new uniface.HTTPError(this.xmlDoc.status,this.xmlDoc.statusText,this.url));doh&&utest?doh.debug(f):alert(f);return!0}finally{void 0!==this.scope&&e.push(h.add({unblock:this.instance},this)),"function"===typeof this.callBack&&e.push(h.add({callback:this.callBack},this)),e.push(h.add({afterResponse:null},this)),a(Promise.all(e)),h.run()}}};m.prototype.send=function(a){var b=this,e=this.id;this.resolutionValue={};this.callBack=a;return(new Promise(function(a,
d){b.xmlDoc.onreadystatechange=function(){if(b.manageable)k.onStateChange(e,a,d);else b.onStateChange(a,d)};var c=b.url;"string"===typeof b.operation&&""!==b.operation&&(c+="."+b.operation);"GET"===b.method&&(c+="?"+b.paramString);b.xmlDoc.open(b.method,c,!0);b.xmlDoc.setRequestHeader("Content-Type","application/x-www-form-urlencoded;charset=UTF-8");"POST"===b.method&&(b.addParam("u:requestType",b.requestType),b.addParam("u:responseType",b.responseType));b.setIndicated(!0);b.xmlDoc.send(b.paramString);
k.registerReq(b)})).then(function(){return b.resolutionValue})};var c={update:{callable:!0,remote:!0},fullpage:{callable:!1,remote:!0},indirect:{callable:!1,remote:!1},clientside:{callable:!0,remote:!1},delayed:{callable:!0,remote:!0}};_uf.transp={is_callable:function(a){return c[a]&&c[a].callable},is_remote:function(a){return c[a]&&c[a].remote},createRequest:function(a){return"FULLPAGE"==a?new f:new m},requestManager:k}})(_uf.commands);(function(h){function g(a){a.normalizedProps=a.normalizedProps||new h.Props(a.properties,a.syntax?a.syntax:{});return a.normalizedProps}function f(a,b,e,c,d){var n={},g,h=[k.gen(a),n];n.status=void 0===d?"new":d;h.container=b;for(var m in e)e.hasOwnProperty(m)&&(g=e[m],d={nm:g.nm,def:g,container:h},"field"===g.type?(d.value=void 0!==g.initval?g.initval:"",void 0!==g.hash&&(d.hash=g.hash),d.value||d.hash||(d.isUntouched=!0)):"entity"===g.type&&(d.type="entity",d.occs=[],f(a,d,g.occs,0,"empty")),n[m]=
d);a=_uf.data.findIndexOfEmptyOcc(b);0<=a&&(_uf.data.isReallyEmpty(b.occs[a],e)?(b.occs.splice(a,1),a<c&&c--):b.occs[a][1].status="new");b.occs.splice(c,0,h);return h}function m(a,b,e,l){var d=!1,f,g,k=!1;void 0===l&&(l=b.occs);if(0!==l.length&&null!==l[0]){b.curocc=null;for(f=0;f<l.length;f++)g=l[f],_uf.data.syncOccCurrency(g),g[1].isCurrent&&(b.curocc=g),d=c(a,g,e)||d,g.container=b,_uf.data.syncOccSelection(g),g[1].isSelected&&(b.def&&b.def.singleSelect?(b.selectedOcc&&b.selectedOcc!==g&&(b.selectedOcc[1].isSelected=
!1,d=!0),b.selectedOcc=g,k=!0):b.def&&b.def.multiSelect||(g[1].isSelected=!1,d=!0));b.def&&b.def.singleSelect&&!k&&(b.selectedOcc=null);b!==a&&b.ro&&b.ro.setProperties();return d}}var k=function(){var a=1;return{gen:function(b){return b.definition.vuid+a++}}}(),c;c=function(a,b,e){var c=!1,d;for(d in b[1])if(b[1].hasOwnProperty(d)){var f=b[1][d],g=e[d];g&&"object"===typeof f&&(f.def=g,f.container=b,f.occs&&g.occs&&(c=m(a,f,e[d].occs)||c))}return c};_uf.data={postProcess:function(a){return m(a,a,a.definition,
[a.data])},getOccCnt:function(a){return a.occs.length},getOcc:function(a,b){return a.occs[b]},getCurOcc:function(a){return a.curocc},creOcc:function(a,b,e,c,d){return 0>c||c>b.occs.length?null:f(a,b,e.occs,c,d)},invalidateEnt:function(a,b){b.isInvalid=!0;for(var e=0;e<b.occs.length;e++)_uf.data.invalidateOcc(a,b.occs[e])},findIndexOfEmptyOcc:function(a){for(var b=a.occs.length-1;0<=b;b--)if("empty"===_uf.data.getOccStatus(a.occs[b]))return b;return-1},getInstance:function(a){for(a=a.container;a&&
a.container;)a=a.container;return a},clearEnt:function(a){for(var b,e=a.occs.length-1;0<=e;e--)b=a.occs[e],_uf.data.invalidateOcc(a.def,b);a.occs=[];_uf.data.creOcc(_uf.data.getInstance(a),a,a.def,0,"empty")},getEntPgStart:function(a){return a.pagestart},getEntUpdateMode:function(a){return a.updateMode},getOccChild:function(a,b){return _uf.data.getOccChildren(a)[b]},getOccChildren:function(a){return a[1]},getOccId:function(a){return"empty"===_uf.data.getOccStatus(a)?"---empty":a[0]},realOccId:function(a){return a[0]},
isOccMod:function(a){return void 0!==a.modFlag},clearOccMod:function(a){a[1].status=this.getOccStatus(a);delete a.modFlag},setOccMod:function(a,b){var e=!_uf.data.isOccMod(a);void 0===b&&(b="default");a.modFlag=b;e&&a.ro&&(a.ro.setProperties(),a.container.container&&a.container.ro.setProperties())},getOccCRC:function(a){return a[1].crc},getOccStatus:function(a){if(a.modFlag)switch(a[1].status){case "est":return"mod";case "empty":return"new"}return a[1].status},getOccServerStatus:function(a){return a[1].status},
isOccDirty:function(a){return a.dirty},setOccDirty:function(a,b){a.dirty=b},isOccValid:function(a){return!a.isInvalid},incOccBlock:function(a){a.block=a.block?a.block+1:1},decOccBlock:function(a){a.block=a.block?a.block-1:0},isOccBlocked:function(a){return a.block},getOccValErr:function(a){return a[1].valerr},copyOccAttributes:function(a,b){void 0!==b[0]&&(a[0]=b[0]);void 0!==b[1].crc&&(a[1].crc=b[1].crc);void 0!==b[1].valerr&&(a[1].valerr=b[1].valerr);void 0!==b[1].status&&(a[1].status=b[1].status);
b.hasOwnProperty("modFlag")?a.modFlag=b.modFlag:a.hasOwnProperty("modFlag")&&delete a.modFlag;void 0!==b[1].isCurrent&&(a[1].isCurrent=b[1].isCurrent);void 0!==b[1].isSelected&&(a[1].isSelected=b[1].isSelected)},serializeOccAttributes:function(a,b){var e=_uf.data.getOccCRC(a),c=_uf.data.getOccValErr(a);void 0!==e&&(b.crc=e);void 0!==c&&(b.valerr=c);_uf.data.mustSaveOccCurrency(a)&&(b.isCurrent=_uf.data.isOccCurrent(a),_uf.data.syncOccCurrency(a));_uf.data.mustSaveOccSelection(a)&&(b.isSelected=_uf.data.isOccSelected(a),
_uf.data.syncOccSelection(a));return!0},serializeOccStatus:function(a,b){void 0!==_uf.data.getOccStatus(a)&&(b.status=_uf.data.getOccStatus(a),_uf.data.clearOccMod(a))},setOccSelection:function(a,b){return a[1].isSelected!==b?(a[1].isSelected=b,a.ro&&a.ro.setProperties(),!0):!1},isReallyEmpty:function(a,b){var e;if("empty"!=_uf.data.getOccStatus(a))return!1;for(var c in b)if(b.hasOwnProperty(c)&&(e=b[c],"field"===e.type)){var d=_uf.data.getOccChild(a,c);if(void 0!==e.initval||""!==d.value)return!1}return!0},
remOcc:function(a,b,e,c,d){var f;if(d){var g,k,h=_uf.data.getOccChildren(c),m;for(m in h)if(h.hasOwnProperty(m)&&(g=h[m],(k=b.occs[m])&&"entity"===k.type))for(f=g.occs.length-1;0<=f;f--)_uf.data.remOcc(a,k,g,g.occs[f],d)}f=_uf.data.getOccStatus(c);if("empty"!==f&&"new"!==f)c[1].status="del";else for(_uf.data.invalidateOcc(b,c),f=0;f<e.occs.length;f++)e.occs[f]===c&&e.occs.splice(f,1);c=!1;for(f=e.occs.length-1;0<=f&&!c;)c="del"!==_uf.data.getOccStatus(e.occs[f--]);c||_uf.data.creOcc(a,e,b,0,"empty")},
discardOcc:function(a,b,e,c){_uf.data.invalidateOcc(b,c);var d;for(d=0;d<e.occs.length;d++)e.occs[d]===c&&e.occs.splice(d,1);c=!1;for(d=e.occs.length-1;0<=d&&!c;)c="del"!==_uf.data.getOccStatus(e.occs[d--]);c||_uf.data.creOcc(a,e,b,0,"empty")},isInstanceOcc:function(a){return!a.container.container},invalidateOcc:function(a,b){b.isInvalid=!0;var e,c,d,f,g=_uf.data.getOccChildren(b);for(e in a)g.hasOwnProperty(e)&&(c=a[e],f=c.type,"string"==typeof f&&(d=g[e])&&("field"===f?_uf.data.invalidateFld(c,
d):_uf.data.invalidateEnt(c,d)))},setLabelValue:function(a,b){a.labelValue=b},getFldValue:function(a){return a.value},setFldValue:function(a,b){a.value=b;delete a.isUntouched},getFldValrep:function(a){return a.valrep},setFldValrep:function(a,b){a.valrep=b},getFldResource:function(a){return a.resource},occurrence:{getNormalizedProps:function(a){a.normalizedProps=a.normalizedProps||new h.Props(a[1].properties,{});return a.normalizedProps}},entity:{getNormalizedProps:g},field:{getNormalizedProps:g},
invalidateFld:function(a,b){b.isInvalid=!0},isFldMod:function(a){return void 0!==a.modFlag},clearFldMod:function(a){delete a.modFlag},setFldMod:function(a){a.modFlag=!0},isEntEmpty:function(a){return void 0!==a.occs&&1===a.occs.length?_uf.data.isOccEmpty(a.occs[0]):!1},isOccEmpty:function(a){return"empty"===_uf.data.getOccStatus(a)},isOccCurrent:function(a){return a[1].isCurrent},setOccCurrent:function(a){var b=a.container,e=!1;if(b){var c=b.curocc;c!=a&&(c&&(c[1].isCurrent=!1,c.ro&&c.ro.setProperties()),
a[1].isCurrent=!0,b.curocc=a,e=!0)}b.container&&_uf.data.setOccCurrent(b.container);a.ro&&a.ro.setProperties();return e},isOccSelected:function(a){return a[1].isSelected},syncOccSelection:function(a){a[1].wasSelected=a[1].isSelected},syncOccCurrency:function(a){a[1].wasCurrent=a[1].isCurrent},mustSaveOccSelection:function(a){return a[1].isSelected},mustSaveOccCurrency:function(a){return a[1].isCurrent}}})(_uf.ui);var Scope={NONE:"0",ALL:"*",CURRENT:".",FIRST:"1",LAST:"n",MOD:"mod",NEW:"new",SPECIFIC:"id",NEXTPAGE:">",PREVPAGE:"<"},initialRequestScope={requesttype:"update",input:[]},ONETIME_PROPS={uniface:{errormsg:!0,subclass:!0}};
function mergeScope(h,g){if(void 0!==g&&void 0!==h){if("object"==typeof h||"object"==typeof g){var f;if(h.constructor==Array){if(0===h.length)return g;if(0===g.length)return h;var m=[];for(f=0;f<h.length;f++)m.push(h[f]);for(f=0;f<g.length;f++)m.push(g[f]);return m}m={};for(f in h)"selector"!=f&&h.hasOwnProperty(f)&&(m[f]=h[f]);for(f in g)"selector"!=f&&g.hasOwnProperty(f)&&(m[f]=mergeScope(g[f],m[f]));return m}return h||g}}
function isEmptyScope(h){if(void 0===h)return!1;var g=!1;if(void 0!==h.entities){if(0!==h.entities.length)return!1;g=!0}void 0!==h.fields&&(g=0===h.fields.length);return g}
(function(h,g,f,m,k){function c(){}function a(a,d,b,e){a={match:!1,scope:void 0};if(void 0===e)a.match=!0;else{var c;a.scope=[];"field"==d.type?c="fields":"entity"==d.type&&(c="entities");void 0===e[c]&&(e[c]=[]);for(b=0;b<e[c].length;b++)d.id in e[c][b]&&(a.match=!0,a.scope=mergeScope(a.scope,e[c][b][d.id]))}return a}function b(a,d,b,e){function c(a,d){a.scp=mergeScope(d,a.scp);a.inc||(a.inc=!0,k.push(a))}var g=[],k=[],h;for(h=0;h<f.getOccCnt(d);h++)g.push({stoc:null,daoc:f.getOcc(d,h),inc:!1,scp:null});
if(a)for(h=0;h<a.occs.length&&a.occs[h].realized;h++)g[a.occs[h].dataIdx].stoc=a.occs[h];if(void 0===b)for(h=0;h<g.length;h++)c(g[h],void 0);else for(var m in b)if(b.hasOwnProperty(m)){d=b[m];var w;switch(m){case Scope.ALL:for(h=0;h<g.length;h++)c(g[h],d);break;case Scope.CURRENT:null!==e&&e[0]&&e[0].entity===a&&c(g[e[0].dataIdx],d);break;case Scope.FIRST:0<g.length&&c(g[0],d);break;case Scope.LAST:0<g.length&&c(g[g.length-1],d);break;case Scope.MOD:for(h=0;h<g.length;h++)(w=g[h].daoc)&&"mod"===f.getOccStatus(w)&&
c(g[h],d);break;case Scope.NEW:for(h=0;h<g.length;h++)(w=g[h].daoc)&&"new"===f.getOccStatus(w)&&c(g[h],d)}}return k}_uf.scope.mergeProps=function(a,d,b){"object"!==typeof d.properties&&(d.properties={});void 0===b&&(b=new h.Props(a.properties));for(var e in ONETIME_PROPS)if(void 0!==b[e])for(var c in ONETIME_PROPS[e])void 0!==b[e][c]&&delete b[e][c];void 0!==d.syntax&&(a.syntax=d.syntax);b.merge(d.properties,a.syntax);return b};var e={errors:[],entity:{serialize:function(a,d,c,g,h,k,m,s){var v;a=
b(a,c,g,h);g&&g.hasOwnProperty(Scope.NEXTPAGE)&&(v={},v.pagestart=f.getOccCnt(c)+1,v.pagesize=d.pagesize);if(0<a.length)for(v=v||{},v.occs=[],c=0;c<a.length;c++)if(s||"empty"!==f.getOccStatus(a[c].daoc))g=null,m||null==h||a[c].stoc!==h[0]||(g=h.slice(1),k.push(h[0])),g=e.occurrence.serialize(a[c].stoc,d.occs,a[c].daoc,a[c].scp,g,k,m,s),void 0!==g&&v.occs.push([f.getOccId(a[c].daoc),g]);if(!m)return v},blockScope:function(a,d,c,g,h){var k={rel:a,def:d,dat:c,occs:{},b:!1},m=b(a,c,g,h);void 0===g?(k.b=
!0,c.block=c.block?c.block+1:1):g.hasOwnProperty(Scope.NEXTPAGE)&&(k.b=!0,k.insertionPoint=Scope.NEXTPAGE,c.block=c.block?c.block+1:1);1==c.block&&a&&a.showBlock();if(0<m.length)for(a=0;a<m.length;a++)c=null,null!=h&&m[a].stoc===h[0]&&(c=h.slice(1)),k.occs[f.realOccId(m[a].daoc)]=e.occurrence.blockScope(m[a].stoc,d.occs,m[a].daoc,m[a].scp,c);return k},checkScope:function(a,d,c,f,g){if(c.block)return!0;a=b(a,c,f,g);if(0<a.length)for(c=0;c<a.length;c++)if(f=null,null!=g&&a[c].stoc===g[0]&&(f=g.slice(1)),
e.occurrence.checkScope(a[c].stoc,d.occs,a[c].daoc,a[c].scp,f))return!0;return!1},unblockScope:function(a){var d;a.dat.block=a.dat.block?a.dat.block-1:0;null!=a.rel&&0===a.dat.block&&a.rel.showUnblock();for(d in a.occs)a.occs.hasOwnProperty(d)&&e.occurrence.unblockScope(a.occs[d])},merge:function(a,d,b,c){d.normalizedProps=_uf.scope.mergeProps(d,b,d.normalizedProps);b.occs&&this.mergeOccs(a,d,b,c)},mergeOccs:function(a,d,b,c){void 0===c&&(c={b:!0});var g,h={},k;k=d.occs;if(c.b){var m=!1,v=!1,w=!1;
switch(f.getEntUpdateMode(b)){case "incremental":m=!0;break;case "suffix":v=!0;break;default:w=!0}c.insertionPoint===Scope.NEXTPAGE&&(v=!0,m=w=!1);for(g=0;g<k.length;g++)c=k[g],h[f.getOccId(c)]=c,f.setOccDirty(c,!1);w&&(d.occs=b.occs);if(w||m)for(g=0;g<b.occs.length;g++)k=f.getOccId(b.occs[g]),c=h[k],void 0!==c&&(delete h[k],f.setOccDirty(c,!0),e.occurrence.merge(a.occs,c,b.occs[g]),w&&(b.occs[g]=c),"mod"!==f.getOccStatus(c)&&"new"!==f.getOccStatus(c)||f.setOccMod(c,"server"));if(v)for(g=0;g<b.occs.length;g++)c=
b.occs[g],"empty"===f.getOccStatus(c)?d.complete=!0:(f.setOccDirty(c,!0),d.occs.push(c));if(w)for(g in h)h.hasOwnProperty(g)&&f.invalidateOcc(a.occs,h[g])}else{v=null;void 0===c&&(c={});void 0===c.occs&&(c.occs={});for(g=0;g<d.occs.length;g++)h[f.getOccId(d.occs[g])]=d.occs[g],k[g].inScope=!1,f.setOccDirty(d.occs[g],!1);for(g in c.occs)c.occs.hasOwnProperty(g)&&h[g]&&(h[g].inScope=c.occs[g].b);for(g=0;g<b.occs.length;g++)k=f.realOccId(b.occs[g]),void 0===h[k]?"empty"===f.getOccStatus(b.occs[g])?v=
b.occs[g]:(d.occs.push(b.occs[g]),f.setOccDirty(b.occs[g],!0)):(f.setOccDirty(h[k],!0),e.occurrence.merge(a.occs,h[k],b.occs[g],c.occs[k]));b=!0;for(g=d.occs.length-1;0<=g;g--)d.occs[g].inScope?(f.invalidateOcc(a.occs,d.occs[g]),d.occs.splice(g,1)):"del"!==f.getOccStatus(d.occs[g])?b=!1:f.invalidateOcc(a.occs,d.occs[g]);b&&null!==v&&d.occs.push(v)}}},occurrence:{serialize:function(b,d,c,g,h,k,m,s){var v={},w,C,B=!1;for(w in d)if(d.hasOwnProperty(w)&&"string"===typeof d[w].type){var y=d[w],x=null;
if(c&&void 0!==f.getOccChild(c,w)){var x=f.getOccChild(c,w),E=null;b&&(E=b.getChild(w));var t=a(E,d[w],x,g);t.match&&(y=e[y.type].serialize(E,y,x,t.scope,h,k,m,s),void 0!==y&&(v[w]=y,B=!0))}}if(!m&&(c&&(C=f.serializeOccAttributes(c,v)),f.serializeOccStatus(c,v),C||B))return v},blockScope:function(b,d,c,g,h){var k={},m,s=void 0===g||void 0!==g.fields&&0<g.fields.length;s&&f.incOccBlock(c);for(m in d)if(d.hasOwnProperty(m)&&"string"===typeof d[m].type){var v=d[m],w=null;if(c&&"undefined"!=typeof f.getOccChild(c,
m)){var w=f.getOccChild(c,m),C=null;b&&(C=b.getChild(m));var B=a(C,d[m],w,g);B.match&&(v=e[v.type].blockScope(C,v,w,B.scope,h),void 0!==v&&(k[m]=v))}}return{occ:c,vocc:b,c:k,b:s}},checkScope:function(b,d,c,g,h){var k,m=void 0===g||void 0!==g.fields&&0<g.fields.length;if(m&&f.isOccBlocked(c))return!0;for(k in d)if(d.hasOwnProperty(k)&&"string"===typeof d[k].type){var s=d[k],v=null;if(c&&void 0!==f.getOccChild(c,k)){var v=f.getOccChild(c,k),w=null;b&&(w=b.getChild(k));var C=a(w,d[k],v,m?void 0:g);if(C.match&&
e[s.type].checkScope(w,s,v,C.scope,h))return!0}}return!1},unblockScope:function(a){a.b&&f.decOccBlock(a.occ);for(var d in a.c)a.c.hasOwnProperty(d)&&e[a.c[d].def.type].unblockScope(a.c[d])},merge:function(a,d,b,c){d.normalizedProps=_uf.scope.mergeProps(d[1],b[1],d.normalizedProps);void 0===c&&(c={});var g;f.copyOccAttributes(d,b);for(g in a)if(a.hasOwnProperty(g)&&"string"===typeof a[g].type){var h=a[g],k=f.getOccChild(b,g),m=f.getOccChild(d,g);void 0===k?void 0!==m&&(m.dirty=!1):(e[h.type].merge(h,
m,k,void 0===c.c?void 0:c.c[g]),void 0!==m&&(m.dirty=!0))}}},field:{serialize:function(a,d,b,c,e,g,h){b&&(d=b);b=null;a&&a.isModified()?(b=a.checkedValue(),b.error&&a.syntaxCheckEnabled()&&_uf.scope.nodes.errors.push(b.error),a.handleError(b,!0,!1),b=b.normalizedValue):b=d.value;if(!h&&!d.isUntouched)return delete d.isUntouched,a={value:b},d.hash&&(a.hash=d.hash),f.clearFldMod(d),a},blockScope:function(a,d,b,c,e){null==a||b.block||a.showBlock();b.block=b.block?b.block+1:1;return{rel:a,def:d,dat:b,
b:!0}},checkScope:function(a,d,b,c,e){},unblockScope:function(a){a.dat.block=a.dat.block?a.dat.block-1:0;null!=a.rel&&0===a.dat.block&&a.rel.showUnblock()},merge:function(a,d,b,c){d.normalizedProps=_uf.scope.mergeProps(d,b,d.normalizedProps);void 0!==b.valrep&&(d.valrep=b.valrep);void 0!==b.value&&(d.value=b.value,d.hash=b.hash);d.resource=b.resource}},label:{serialize:c,blockScope:c,checkScope:c,unblockScope:c},instance:{serialize:function(a,d,b,c,f,g,h,k){if(d&&b){var m={};d=[null,e.occurrence.serialize(a.getStructureMap()[0],
d,b,c.input,f,g,h,k)||{}];m[a.instanceName]=d;m[a.instanceName].scope=c.scopeName;if(!h)return{newdata:m}}},blockScope:function(a,d,b,c,f){if(a.getStructureMap()[0])return{b:!1,inst:a,occ:e.occurrence.blockScope(a.getStructureMap()[0],d,b,c.output,f)};a.block=a.block?a.block+1:1;return{b:!0,inst:a,occ:void 0}},checkScope:function(a,d,b,c,f){return 0<a.block?!0:a.definition&&a.data?e.occurrence.checkScope(a.getStructureMap()[0],d,b,mergeScope(c.input,c.output),f):!isEmptyScope(c.input)},unblockScope:function(a){void 0!==
a?(void 0!==a.occ&&e.occurrence.unblockScope(a.occ),a.b&&(a.inst.block=a.inst.block?a.inst.block-1:0)):UNIFACE.trace("Unblocking Undefined")}}};_uf.scope.nodes=e})(_uf.ui,_uf.transp,_uf.data,_uf.commands,_uf.InstanceManager);(function(h,g,f,m,k){function c(a,b,d){b=b.toLowerCase();return("string"===typeof d&&""!==d?d+"@":"")+a+"."+b}function a(a,b,d){"string"===typeof a?a=[a]:a instanceof Array||(a=[]);b.result=a;var c,f;for(c in b.targets)if(b.targets.hasOwnProperty(c)){var g=b.targets[c];if(g){var h=d[c].include;for(f=0;f<a.length;f++)h.push({inst:a[f],oper:g});b.targets[c]=!1}}}function b(a,b,d,c,f,g){this.args=f;this.moduleName=b.toLowerCase();this.moduleType=d.toLowerCase();this.moduleArgs=c;this.instance=a.instance?
a.instance:a;this.realizedObject=a;this.data=a.data;this.outscope=this.scope=void 0;this.id=g;this.dynScopeMap={length:0};this.initByDef();var h=this;this.promise=(new Promise(function(a,d){h.resolve=a;h.reject=d})).then(function(a){return"clientside"==h.requestType?{returnValue:a}:a})}b.prototype={_getUserFunction:function(a,b,d){var c,f,g,h;a&&a[b.componentName]&&("t"===this.moduleType&&this.defName&&a[b.componentName][this.defName]?(f=a[b.componentName][this.defName][this.moduleName],g=this.realizedObject.getAPIObject()):
"o"===this.moduleType&&(f=a[b.componentName][this.moduleName],g=d.getInstance(b.instanceName)));"function"===typeof f&&(h=this.moduleArgs,c=function(a,b){try{var c=f.apply(g,h);a(c);return c}catch(e){b(e),e instanceof d.DataAddressingException?UNIFACE.extension.popupWindow.showMessage(e,"OK","UNIFACE DataAddressingException",400,0,"error"):UNIFACE.extension.popupWindow.showMessage(e,"OK","Exception",400,0,"error")}},this.requestType="clientside");return c},initByDef:function(){this.definition=this.realizedObject.definition;
var a={exec:initialRequestScope};this.definition?a="t"==this.moduleType?this.definition.triggers:this.definition.operations:"embed"===this.args["u:dspmode"]?(a[this.moduleName]=initialRequestScope,this.instance._pendingCreate=!0):"string"===typeof this.moduleName&&this.instance&&this.instance._pendingCreate&&(a[this.moduleName]={requesttype:"delayed",input:[]},this.instance.delayedScope=this);void 0!==a&&(this.scope=a[this.moduleName]);this.args.scope&&(this.scope=this.args.scope);this.defName="";
this.definition&&this.definition.nm&&(this.defName=this.definition.nm);this.requestType="update";this.scope&&void 0!==this.scope.requesttype&&(this.requestType=this.scope.requesttype);this.args["u:dynRequest"]&&(this.dynRequest=this.args["u:dynRequest"]);this.callbackMap=null},isCallable:function(){return void 0!==this.scope&&g.is_callable(this.requestType)},unBlock:function(){var a;this.callbackMap&&(b.inDynamicBlock=!1);"delayed"===this.requestType&&this.instance.definition&&(this.initByDef(),this.instance.delayedScope=
void 0);for(a in this.outScope)this.outScope.hasOwnProperty(a)&&void 0!==this.outScope[a]&&_uf.scope.nodes.instance.unblockScope(this.outScope[a])},visitScopeInstances:function(a,b){for(var d in this.compScopes)if(this.compScopes.hasOwnProperty(d)){var c=k.getInstance(d);void 0===c&&UNIFACE.throwException("Component instance "+d+" does not exist!");var f=void 0,g=void 0;d==this.instance.instanceName&&(f=this.currency,g=b);if(!a(c,c.definition,c.data,this.compScopes[d],f,g))break}},serialize:function(a,
b){var d=[];this.visitScopeInstances(function(d,c,f,g,h,k){a[d.instanceName]=_uf.scope.nodes.instance.serialize.call(this,d,c,f,g,h,k,b);return!0},d);return d},traverseScopes:function(){function a(s,v,w,C,B,y){w=c(s,w,y);g[w]&&(v=g[w]);void 0===b[s]&&(b[s]={input:{entities:[]},output:{entities:[]}});if(void 0===v)b[s].input=mergeScope(b[s].input,void 0),b[s].output=mergeScope(b[s].output,void 0);else{b[s].input=mergeScope(b[s].input,v.input);b[s].output=mergeScope(b[s].output,v.output);var x=null==
v.include?[]:v.include,x=x.concat([]);C||(C=k.makeInstance(s),B="o");var E=[],t;for(t=0;t<x.length;t++)if(x[t].callback){g[w]||(g[w]=JSON.parse(JSON.stringify(v)),v=g[w],v.include=E);var D=c(s,x[t].callback,y);f||(f={});f[D]||(f[D]={result:null,object:C,name:x[t].callback,type:B,targets:{}},A.callbackChanged=!0);h=f[D];if(h.result){for(m=0;m<h.result.length;m++)D={inst:h.result[m],oper:x[t].oper},x.push(D),E.push(D);h.targets[w]&&(h.targets[w]=!1)}else h.targets[w]||(h.targets[w]=x[t].oper,A.callbackChanged=
!0)}else if(E.push(x[t]),D=x[t].inst+"."+x[t].oper,void 0===d[D]){var U=b[x[t].inst];d[D]=!0;var I=k.getInstance(x[t].inst),G;void 0!==I&&void 0!==I.definition?(void 0!==I.definition.operations&&(G=I.definition.operations[x[t].oper]),void 0===G&&UNIFACE.throwException('Error: instance "'+x[t].inst+'" does not have an operation "'+x[t].oper+'"'),G.scopeName="operation "+D,void 0!==U&&(isEmptyScope(U.input)||isEmptyScope(G.input)||UNIFACE.throwException("Error: instance "+x[t].inst+" is included multiple times with different input scope."),
isEmptyScope(U.output)||isEmptyScope(G.output)||UNIFACE.throwException("Error: instance "+x[t].inst+" is included multiple times with different output scope."))):G=initialRequestScope;a(x[t].inst,G,x[t].oper)}}}var b={},d={},f=this.callbackMap,g=this.dynScopeMap,h,m,A=this;A.callbackChanged=!1;a(this.instance.instanceName,this.scope,this.moduleName,this.realizedObject,this.moduleType,this.defName);f&&(this.callbackMap=f);return b},isBlockedByCallback:function(a){if(b.inDynamicBlock&&!this.dynRequest&&
a)return!0;a=this.callbackMap;var c;if(a)for(c in a)if(a.hasOwnProperty(c)&&!a[c].result)return!0;return!1},checkAndBlock:function(){var a=!1,c=this;if(this.scope)if("delayed"===this.scope.requesttype)a=!0;else{var d=this.traverseScopes();if(this.isBlockedByCallback(this.callbackChanged)){if(this.callbackMap)return b.inDynamicBlock||(b.inDynamicBlock=!0),!0;for(var f in d)if(d.hasOwnProperty(f))return!0}this.compScopes=d;this.compScopes[this.instance.instanceName].scopeName=this.moduleType+" "+this.moduleName+
this.componentName?"."+this.componentName:"";this.currency=null;this.realizedObject.getCurrency&&(this.currency=this.realizedObject.getCurrency());(a=this.realizedObject.instance===this.realizedObject?this.realizedObject.block:this.realizedObject.data&&this.realizedObject.data.block)||this.visitScopeInstances(function(){a=a||_uf.scope.nodes.instance.checkScope.apply(this,arguments);return!a});this.outScope={};this.visitScopeInstances(function(a){c.outScope[a.instanceName]=_uf.scope.nodes.instance.blockScope.apply(this,
arguments);return!0})}return a},checkInstance:function(){return this.realizedObject&&this.realizedObject.instance===this.realizedObject&&!this.realizedObject.isInvalid||this.data===this.realizedObject.data},execute:function(){var b,h,d,n;if(void 0!==this.scope){b=window;h=this.instance;var p;p=h.views&&h.views.length?h:k.getInstance(this.instance.instanceName);p.views&&p.views.length&&(b=p.views[0].global,h=p.views[0].remoteInstance);"embed"!==this.args["u:dspmode"]&&((d=this._getUserFunction(b.uf_clientside,
h,b.uniface))||(d=this._getUserFunction(b._uf_clientside,h,b.uniface)));b=uniface&&uniface.wrdurl;b||(b=document.location.pathname,b=b.substring(0,b.lastIndexOf("/")+1),"/"!==b.charAt(0)&&(b="/"+b));/\/$/.test(b)||(b+="/");b+=this.instance.componentName;h={};p=!1;var r=[];_uf.scope.nodes.errors=[];try{n=this.serialize(h,!!d),0<_uf.scope.nodes.errors.length&&(p=!0,r=_uf.scope.nodes.errors)}catch(z){UNIFACE.trace(z),p=!0,r[r.length]=z}if(p)this.unBlock(),this.reject(r),m.run();else{var A;if(g.is_remote(this.requestType)){d=
g.createRequest(this.requestType);d.instance=this.instance;d.scope=this;d.id=this.id;for(var s in h)h.hasOwnProperty(s)&&void 0!==h[s]&&d.addBodyPart("data:"+s.toUpperCase(),JSON.stringify(h[s]));d.setURL(b);"exec"!==this.moduleName&&(d.setOperation(this.moduleName,!0),d.addParam("u:moduletype",this.moduleType));this.defName&&d.addParam("u:fieldname",this.defName);for(s=0;s<n.length;s++)"empty"!==f.getOccStatus(n[s].data)&&(d.addParam("u:entity."+this.instance.instanceName+"."+s,n[s].entity.definition.nm),
d.addParam("u:occid."+this.instance.instanceName+"."+s,f.getOccId(n[s].data)));for(var v in this.args)this.args.hasOwnProperty(v)&&d.addParam(v,this.args[v]);this.instance.componentName&&this.instance.instanceName!=this.instance.componentName&&d.addParam("u:insname",this.instance.instanceName);"embed"===this.args["u:dspmode"]&&(d.requestType="static",d.responseType="update",d._pendingCreate=!0);for(s=0;s<this.moduleArgs.length;s++){n=this.moduleArgs[s];if(void 0===n||null===n)n="";d.addParam("u:arg."+
(s+1),""+n)}var w="";k.some(function(a){void 0!==a.definition&&(w+=a.instanceName.replace(";","_")+";")});d.addParam("u:definedInstances",w);this.resolve(d.send())}else{try{if(d?A=d(this.resolve,this.reject):this.reject(new uniface.ModuleNotFound(this.moduleName,this.moduleType,this.defName,this.instance.componentName)),this.dynRequest&&this.dynRequest.callbackMap){var C=c(this.instance.instanceName,this.moduleName,this.defName),B=this.dynRequest.callbackMap[C];B&&a(A,B,this.dynRequest.dynScopeMap)}}finally{this.unBlock()}m.run()}}}}};
_uf.scope.RequestScope=b})(_uf.ui,_uf.transp,_uf.data,_uf.commands,_uf.InstanceManager);(function(h,g,f,m,k){function c(a,b,c){a&&(null===a.data?(UNIFACE.trace("newdata to render"),a.render(b)):(c=c&&c.scope?c.scope.outScope:void 0,_uf.scope.nodes.occurrence.merge(a.definition,a.data,b,c&&c[a.instanceName]?c[a.instanceName].occ:void 0),UNIFACE.trace("newdata to render"),a.render()))}m.on("newdata",function(a,b){var e,f,d;for(e in a)if(a.hasOwnProperty(e)&&"object"===typeof a[e]){d=a[e];for(var g in d)if(d.hasOwnProperty(g)){f=k.makeInstance(e);c(f,d,b);if(f.views)for(var h=0;h<f.views.length;++h)c(f.views[h].remoteInstance,
d,b);break}}})})(_uf.ui,_uf.transp,_uf.data,_uf.commands,_uf.InstanceManager);(function(h,g,f,m){function k(){for(var a=!0;a;){a=!1;try{n++;var b;for(b=0;b<l.length;b++)l[b].unBlock();for(b=0;b<l.length;){var c=l[b];if(c.checkInstance())if(c.checkAndBlock())if(c.callbackMap){var e=[],h=c.callbackMap,k;for(k in h)if(h.hasOwnProperty(k)&&(k=h[k],!k.result&&!k.requested)){var m=new f.RequestScope(k.object,k.name,k.type,[],{"u:dynRequest":c},g.generateId());k.requested=!0;e.push(m)}0<e.length?l=l.slice(0,b).concat(e,l.slice(b)):b++}else b++;else l.splice(b,1),c.execute();else l.splice(b,
1)}}finally{n--}if(0===n&&0<d.length){for(b=0;b<d.length;b++)l.push(d[b]);d=[];a=!0}}}function c(a){Error.call(this,a)}function a(){return 0===l.length&&0===d.length&&g.shouldIdle()}function b(a,b,d,c){var e;if(e="occurrence"===a.typeName?a.entity.definition.triggers:a.definition.triggers){var f=b.toLowerCase();if(void 0!==e[b])return void 0===c&&(c=[]),a=UNIFACE.dl.Notify(a,f,"t",c,{}),d&&"dragstart"!==d.type&&"function"===typeof d.preventDefault&&d.preventDefault(),a}}function e(a,d,c,e){void 0!==
p&&p.delayedCall();return b(a,d,c,e)}var l=[],d=[],n=0,p;c.prototype=Error();c.prototype.toString=function(){return this.message};var r=new m;UNIFACE.namespace("dl").extend({version:"%version: 6 %",postTrigger:function(a,b,d){h.add({trigger:{field:a,triggerName:b,params:d}})},Notify:function(a,b,c,e,h){a=new f.RequestScope(a,b,c,e,h,g.generateId());if(!a.isCallable())return UNIFACE.extension.popupWindow.showMessage("Instance "+a.instance.instanceName+(a.instance.componentName?" of component "+a.instance.componentName:
"")+':\n"'+b+'" is not callable.',"OK","UNIFACE RIA Exception",0,0,"error"),Promise.reject(new uniface.NotCallable(b,c,a.instance.instanceName,a.instance.componentName));if(a.checkAndBlock()){b=null;if(a.callbackMap){c=a.callbackMap;for(var k in c)c.hasOwnProperty(k)&&(k=c[k],k.result||k.requested||(e=new f.RequestScope(k.object,k.name,k.type,[],{"u:dynRequest":a},g.generateId()),k.requested=!0,e.checkAndBlock()||b?0<n?d.push(e):l.push(e):b=e))}0<n?d.push(a):l.push(a);b&&b.execute()}else a.execute();
return a.promise},loadDSP:function(a,b){return h.add({loaddsp:{instance:a,args:{"u:dspmode":b}}})},postOperation:function(a,b,d){void 0!==p&&p.delayedCall();var c=UNIFACE.dl.Notify(a,b,"o",Array.prototype.slice.call(arguments,3),d);h.run();return c},idleEvent:r,isIdle:a,forceIdle:function(){var a;try{for(a=0;a<l.length;a++)l[a].unBlock()}catch(b){return!1}finally{g.abortAllReqs(),l=[],d=[]}return!0},callTrigger:e,callTriggerWithDelay:function(a,d,c,e,h){if(void 0!==p){if(p.realizedObject===a){window.clearTimeout(p.timer);
p.timer=window.setTimeout(p.delayedCall,c);return}p.delayedCall()}var k=function(c){window.clearTimeout(p.timer);p.checkInstance()&&b(a,d,e,h);p=void 0};c=window.setTimeout(k,c);p=new f.RequestScope(a,d,"t",[],{},g.generateId());p.timer=c;p.delayedCall=k}});h.on("queueEmpty",k);h.on("idle",function(){a()&&(g.clearRequestNum(),r.fire())});h.on("unblock",function(a,b){b.scope.unBlock();k()});h.on("outparams",function(a,b){b.resolutionValue.args=a.args;b.resolutionValue.returnValue=a.returnValue});h.on("loaddsp",
function(a){if(a.instance.definition&&a.instance.data)a.instance.widget&&a.instance.widget.doAttach(a.instance);else return UNIFACE.dl.Notify(a.instance,"exec","o",[],a.args).then(function(){a.instance&&a.instance._pendingCreate&&(a.instance._pendingCreate=!1)})});h.on("trigger",function(a){e(a.field,a.triggerName,void 0,[])})})(_uf.commands,_uf.transp.requestManager,_uf.scope,_uf.Event);UNIFACE.namespace("syn").extend(function(){function h(a,b){var d,c="";for(d in a)a.hasOwnProperty(d)&&(c="string"==typeof a[d][b]?c+a[d][b]:c+a[d][b].source);return c}function g(a,b){"string"!==typeof a&&(a=a.toString());a=a.replace(/\\/g,"\\\\");b&&(a=a.replace(C,"\\"));for(var d in A)A.hasOwnProperty(d)&&(a=a.replace(A[d].INTRE,b?"":"\\"+A[d].EXT));return a}function f(a,b){if("string"!==typeof a)return[{val:a,profile:""}];null==b&&(b=s);var d=[],c=UNIFACE.splitString(a,b),e;for(e=0;e<c.length;e+=
4)d.push(void 0===c[e+1]?{val:c[e],profile:""}:{val:c[e]+c[e+1]+c[e+2],profile:c[e+3]});return d}function m(a,b){var d=a.newValue;if(!d.match(B)){var c=".";void 0!=a.syntax.DIS&&"N"===a.syntax.DIS.charAt(0)&&","===a.syntax.DIS.charAt(1)&&(d=d.replace(/\./g,"").replace(/,/g,"."),c=",");var d=d.replace(/,/g,""),e=d.match(/^\s*(\+|-)?([0-9]*)(\.)?([0-9]*)?((e|E)?(\+|-)?([0-9]*)?)?(\+|-)?\s*$/);if(!e)throw new UNIFACE.syn.SyntaxError("0123",a.fieldName);var d=e[1]?e[1]:"",f=e[2]?e[2]:"0",g=e[3]?e[3]:
"",h=e[4]?e[4].replace(/(^0)?0*$/,"$1"):"",k=e[7]?e[7]:"",l=e[8]?e[8]:"",n=parseInt(e[7]+"0"+e[8],10);if(void 0!=b&&(e=parseInt(b,10),n=h.length-n,n>e)){var f=f+h,m="",p=f.length-n+e;if(0<=p){var r;if("5"<=f.charAt(p))for(;0<=p;){if(0===p)m="1"+m;else if(r=f.charAt(p-1),"9"===r)m="0"+m;else{m=(parseInt(r,10)+1).toString()+m;p--;break}p--}0<=p&&(m=f.slice(0,p)+m);for(p=f.length-n+e;p<f.length;p++)m+="0";f=m.substr(0,m.length-h.length);h=m.substr(m.length-h.length)}else{a.newValue=0;return}}a.newValue=
"-"===d?"-":"";a.newValue+=f;if(h||g===c)a.newValue+=c+h;l&&(a.newValue+="e"+("-"===k?"-":"+")+l)}}var k={INT:"\u0010",INTRE:/\u0010/g,EXT:"*",RE:/\*/g,ERE:/\\\*/g},c={INT:"\u0011",INTRE:/\u0011/g,EXT:"?",RE:/\?/g,ERE:/\\\?/g},a={INT:"\u0012",INTRE:/\u0012/g,EXT:"=",RE:/\=/g,ERE:/\\=/g},b={INT:"\u0013",INTRE:/\u0013/g,EXT:">",RE:/>/g,ERE:/\\>/g},e={INT:"\u0014",INTRE:/\u0014/g,EXT:"<",RE:/</g,ERE:/\\</g},l={INT:"\u0015",INTRE:/\u0015/g,EXT:"!",RE:/!/g,ERE:/\\!/g},d={INT:"\u0016",INTRE:/\u0016/g,EXT:"&",
RE:/&/g,ERE:/\\&/g},n={INT:"\u0017",INTRE:/\u0017/g,EXT:"|",RE:/\|/g,ERE:/\\\|/g},p={INT:"\u001b",INTRE:/\u001b/g,EXT:";",RE:/;/g,ERE:/\\;/g},r=[a,b,e,l,d,n,p],p=[p],z=[k,c],A=[a,b,e,l,d,n,k,c],s=RegExp("()()(["+h(r,"INT")+"])");h(r,"RE");var v=RegExp("()()(["+h(p,"INT")+"])");h(p,"RE");var w=RegExp("\\\\(?=["+h(A,"RE")+"])","g"),C=RegExp("(?=["+h(A,"RE")+"])","g");h(r,"RE");h(p,"RE");var B=RegExp("["+h(z,"INT")+"]"),y={N:function(a){return m(a,a.syntax.SCALE)},S:function(a,b){if(!b&&a.newValue.match(/[\u0100-\u058f\u0600-\uFF64\uFF9F-\uFFFF]/))throw new UNIFACE.syn.SyntaxError("0131",
a.fieldName);},F:m},x={DATTYP:function(a,b){var d=(""+a).toUpperCase(),c=!1;2==d.length&&(d=d.charAt(1),c=!0);0<b.newValue.length&&(d=y[d],void 0!==d&&d(b,c))},WIDTYP:function(a,b){var d=b.newValue;if(0<d.length&&!d.match(B)&&void 0!==b.valrep&&b.valrep.constructor===Array&&void 0===b.valrep[0][d])throw new UNIFACE.syn.SyntaxError("0119",b.fieldName);},ENT:function(a,b){var d=b.newValue,c=b.syntax.DATTYP;2==c.length&&(c=c.charAt(1));if("S"===c){if(void 0===b.syntax.ENT_regex){var c=b.syntax,e,f="";
for(e=0;e<a.length;e++)switch(a.charAt(e)){case "~":switch(a.charAt(e+1)){case "&":f+="[A-Za-z\\u0080-\\uFFFF]";e++;break;case "@":f+="[\\w\\u0080-\\uFFFF]",e++}continue;case "%":switch(a.charAt(e+1)){case "%":"^"===a.charAt(e+1)?(f+="(\\n|\\r|\\r\\n)",e+=2):(f+=a.charAt(e+1),e++);break;case "(":case ")":case "*":case "?":f+="\\";case "@":case "&":case "#":f+=a.charAt(e+1),e++}break;case "(":f+="(";continue;case ")":f+=")?";continue;case "#":f+="[0-9]";continue;case "&":f+="[A-Za-z]";continue;case "@":f+=
"\\w";continue;case "*":switch(a.charAt(e-1)){case "&":case "#":case "?":case "@":f+="*";break;default:f+=".*"}continue;case "?":f+=".";continue;case "[":case "]":case ".":case "\\":case "^":case "$":case "+":case "|":case "{":case "}":f+="\\";default:f+=a.charAt(e)}c.ENT_regex=RegExp("^"+f+"$")}if((c=b.syntax.ENT_regex)&&!d.match(c))throw new UNIFACE.syn.SyntaxError("0126",b.fieldName);}},LEN:function(a,b){var d=0,c=b.newValue,d=c.length;if(!c.match(B)&&0<d&&d<a.min)throw new UNIFACE.syn.SyntaxError("0121",
b.fieldName);if(d>a.max&&a.max>a.min)throw new UNIFACE.syn.SyntaxError("0120",b.fieldName);},BRM:function(a,b){if(!0===a){var d=b.newValue.match(/[\[\{\(]/g);null!==d&&(d=d.length);var c=b.newValue.match(/[\]\}\)]/g);null!==c&&(c=c.length);if(d!==c)throw new UNIFACE.syn.SyntaxError("0137",b.fieldName);}},DIG:function(a,b){if(!0===a&&b.newValue.match(RegExp("[^"+h(z,"RE")+"0-9 ]")))throw new UNIFACE.syn.SyntaxError("0123",b.fieldName);},NUM:function(a,b){if(!0===a&&b.newValue.match(RegExp("[^,"+h(z,
"RE")+"0-9\\.\\-+ e|E]")))throw new UNIFACE.syn.SyntaxError("0123",b.fieldName);},ASC:function(a,b){if(!0===a){var d=b.newValue,c;for(c=0;c<d.length;c++)if(127<d.charCodeAt(c))throw new UNIFACE.syn.SyntaxError("0131",b.fieldName);}},MUL:function(a,b){if(!0===a){var d=b.newValue,c;for(c=0;c<d.length;c++)if("\u00ff"<d.charAt(c))throw new UNIFACE.syn.SyntaxError("0131",b.fieldName);}},MINVAL:function(a,b){if(!0===a){var d=parseFloat(b.newValue),c=parseFloat(a.min);if(!isNaN(c)&&!isNaN(d)&&d<c)throw new UNIFACE.syn.SyntaxError("0121",
b.fieldName);}},MAXVAL:function(a,b){var d=parseFloat(b.newValue),c=parseFloat(a.min);if(!isNaN(c)&&!isNaN(d)&&c<d)throw new UNIFACE.syn.SyntaxError("0120",b.fieldName);},LOW:function(a,b){!0===a&&(b.newValue=b.newValue.replace(/[A-Z]/g,function(a){return a.toLowerCase()}))},UPC:function(a,b){!0===a&&(b.newValue=b.newValue.replace(/[a-z]/g,function(a){return a.toUpperCase()}))},RCS:function(a,b){!0===a&&(b.newValue=b.newValue.replace(/([ \t])[ \t]+/g,"$1"))},DLS:function(a,b){!0===a&&(b.newValue=
b.newValue.replace(/^[ \t]*/,""))},DLZ:function(a,b){!0===a&&(b.newValue=b.newValue.replace(/^0*/,""))}},E={NED:function(a,b){if(!0===a&&b.fieldValue!==b.originalValue)throw new UNIFACE.syn.SyntaxError("0104",b.fieldName);},NEDKEY:function(a,b){if(!0===a&&b.fieldValue!==b.originalValue)throw new UNIFACE.syn.SyntaxError("0105",b.fieldName);},DIM:function(a,b){if(!0===a&&b.fieldValue!==b.originalValue)throw new UNIFACE.syn.SyntaxError("0104",b.fieldName);},MAN:function(a,b){if(!0===a){var d;for(d=0;d<
b.subfields.length;d++)if(0<b.subfields[d].val.length)return;throw new UNIFACE.syn.SyntaxError("0129",b.fieldName);}}};return{vsn:"9.7/1",ExtensiveValue:function(a,b,d,c,e){var f,g="ERE";void 0!=c.SWAPGP&&c.SWAPGP&&(g="RE");if(c.NGLD)f=a;else if("string"!==typeof a)f=a;else{void 0==g&&(g="ERE");var h=a.split(/\\\\/),k,l="";for(k=0;k<h.length;k++){var n=h[k];for(f in A)A.hasOwnProperty(f)&&(n=n.replace(A[f][g],A[f].INT));"RE"===g&&(n=n.replace(w,""));l&&(l+="\\");l+=n}f=l}this.originalValue=b;this.fieldValue=
a;this.normalizedValue=this.newValue=f;this.syntax=c;this.valrep=e;this.fieldName=d;this.error=null},int2ext:function(a,b){return a.NGLD?b:g(b,void 0!=a.SWAPGP&&a.SWAPGP)},checkField:function(a,b,d,c,e){var h;b=new UNIFACE.syn.ExtensiveValue(b,d,e,a,c);try{var k;k=a.NGLD?f(b.newValue,v):f(b.newValue);b.subfields=k;for(h in a)if(void 0!==a[h]&&void 0!=E[h])E[h](a[h],b);c={syntax:a,valrep:c,originalValue:"",fieldName:e,error:null};var l;for(l=0;l<k.length;l++)if("string"===typeof k[l].val){c.fieldValue=
k[l].val;c.newValue=c.fieldValue;for(h in a)if(void 0!==a[h]&&void 0!=x[h])x[h](a[h],c);k[l].val=c.newValue}var n;var m;h="";if(1==k.length&&typeof("string"!==k[0].val))n=k[0].val;else{for(m=0;m<k.length;m++)h+=k[m].val+k[m].profile;n=h}b.normalizedValue=n;b.newValue=a.NGLD?b.normalizedValue:g(b.normalizedValue,void 0!=a.SWAPGP&&a.SWAPGP)}catch(p){p instanceof UNIFACE.syn.SyntaxError?b.error=p:UNIFACE.throwException(p)}return b},SyntaxError:function(a){this.exceptionCode=a},isValidProp:function(a){a=
a.toUpperCase();return x[a]||E[a]}}}());
(function(){var h={"0104":"0104 - Field is display only.","0105":"0105 - Not allowed to change primary key field.","0119":"0119 - Illegal ValRep value.","0120":"0120 - Subfield too large.","0121":"0121 - Subfield too small.","0123":"0123 - Illegal format for Numeric field.","0124":"0124 - Illegal format for Date field.","0125":"0125 - Illegal format for Time field.","0126":"0126 - Illegal syntax format.","0127":"0127 - Illegal entry format.","0129":"0129 - Subfield(s) are required.","0130":"0130 - Too many subfields specified.",
"0131":"0131 - One or more characters not found in character set.","0132":"0132 - Illegal numeric.","0137":"0137 - Open/close brackets do not match.","0138":"0138 - Illegal format for floating field."};UNIFACE.syn.SyntaxError.prototype.toString=function(){return h[this.exceptionCode]}})();(function(){UNIFACE.widgetFactory=function(){function g(f,c){var a=function(){f.apply(this,arguments)};if(!f)throw Error("Unable to find constructor "+c);a.prototype=new f;UNIFACE.extend.call(a.prototype,{className:c,getValrep:_uf.nstr,getRepresentation:_uf.nstr,isValrepSupported:"function"===typeof a.prototype.getValrep,validate:_uf.nop,setLayout:_uf.nop,setRepresentation:_uf.nop,setResource:_uf.nop,setValrep:_uf.nop,getBlockedProperties:_uf.nop,unrender:_uf.nop,dispose:_uf.nop},function(b){return"undefined"===
typeof a.prototype[b]});return a}function f(f){var c=[],a={},b={},e=f.setProperties;UNIFACE.extend.call(f,{nodesChanged:function(){c=f.getAllStyleNodes();for(var a=0,b=c.length;a<b;a++)void 0===c[a]._U_backupCssText&&(c[a]._U_backupCssText=c[a].style.cssText);var e,a=f.callBack.getEvents();f.mapEvents&&f.mapEvents();if(f.mapEvent)for(e in a)a.hasOwnProperty(e)&&f.mapEvent(e,a[e]);f.registerForSelectionEvents()},render:function(a){this.preRender(a);this.doRender(a);this.postRender(a);this.nodesChanged()},
setProperties:function(){var g=a,d,h;for(d in g)g.hasOwnProperty(d)&&(h=this["setHtml_"+d],"function"===typeof h?h.call(this,g[d]):this.setHtmlProp(d,g[d]));for(var m in b)b.hasOwnProperty(m)&&(g=f["setHtml_"+m],"function"===typeof g?g.call(f,b[m]):f.setAttributeProp(m,b[m]));m=c;g=0;for(d=m.length;g<d;g++)void 0!==m[g]._U_backupCssText&&(m[g].style.cssText=m[g]._U_backupCssText);m=this.callBack.getCalculatedProperties();var g=a={},r;for(r in m.html)m.html.hasOwnProperty(r)&&(d=this["setHtml_"+r],
d="function"===typeof d?d.call(this,m.html[r]):this.setHtmlProp(r,m.html[r]),g[r]=d);for(var z in m.att)m.att.hasOwnProperty(z)&&(r=f["setHtml_"+z],r="function"===typeof r?r.call(f,m.att[z]):f.setAttributeProp(z,m.att[z]),b[z]=r);if((z=this.getElement())&&void 0!=z.style){for(var A in m.preStyle)m.preStyle.hasOwnProperty(A)&&(r=this["setStyle_"+A],"function"===typeof r?r.call(this,m.preStyle[A]):this.setStyleProp(A,m.preStyle[A]));void 0!=m.preStyle.display&&(z.U_display=m.preStyle.display)}if("function"===
typeof this.setUnifaceProp)for(var s in m.uniface)m.uniface.hasOwnProperty(s)&&this.setUnifaceProp(s,m.uniface[s]);this.setSyntax&&this.setSyntax();this.setClasses&&this.setClasses();"function"===typeof e&&e.call(this)}});return f}var h={};return{addCreator:function(f,c){},create:function(k){var c=h[k];void 0===c&&(c=g(eval(k),k),h[k]=c);void 0==c&&UNIFACE.throwException("No widget creator found for "+k+". Are you missing a Javascript include?");(c=new c)||UNIFACE.throwException('Creation of "'+k+
'" widget for  failed.');return f(c)}}}();UNIFACE.widget=function(){};UNIFACE.widget.AbstractWidget=function(){this.hasMousedown=this.blocked=!1};UNIFACE.widget.AbstractWidget.prototype={setValue:function(g){},getValue:function(){return""},mapEvents:function(){},getElement:function(){return null},preRender:function(){},doRender:function(){},registerForSelectionEvents:function(){}};UNIFACE.widget.AbstractWidget.prototype.setCssProperty=function(g,f,h,k){g[f]!==h&&(null!=k?"function"===typeof g.setProperty?
g.setProperty(f,h,k):g.cssText+=";"+f+":"+h+"! "+k+";":g[f]=h)};UNIFACE.widget.AbstractWidget.prototype.setClasses=function(){var g=this.getElement(),f;g&&(f=this.callBack.getCalculatedProperties(),g.className=f.mergeClasses(g.className,this._prevClasses||{}),this._prevClasses=f.classes)};UNIFACE.widget.AbstractWidget.prototype.setAttributeProp=_uf.nop;UNIFACE.widget.AbstractWidget.prototype.setHtmlProp=function(g,f){var h;try{var k=this.getElement();k&&(h=k[g],k[g]=f)}catch(c){}return h};UNIFACE.widget.AbstractWidget.prototype.getStyleNode=
function(g){return this.getElement()};UNIFACE.widget.AbstractWidget.prototype.setStyleProp=function(g,f){try{var h=this.getStyleNode(g);this.setCssProperty(h.style,g,f)}catch(k){}};UNIFACE.widget.AbstractWidget.prototype.postRender=function(g){this.setValue(this.callBack.getValue())};UNIFACE.widget.AbstractWidget.prototype.getAllStyleNodes=function(){return[this.getElement()]};UNIFACE.widget.AbstractWidget.prototype.isBlocked=function(){return this.blocked&&!this.hasMousedown};UNIFACE.widget.AbstractWidget.prototype.setBlocked=
function(g){this.blocked=g;g||(this.hasMousedown=!1)};UNIFACE.widget.AbstractWidget.prototype.addListener=function(g,f,h,k){if(h){var c=this;g.widgetCallback||(g.widgetCallback=this.callBack);UNIFACE.addListener(g,f,"onChange"===f?h:"onClick"===f?function(){c.isBlocked()||(c.hasMousedown&&(c.hasMousedown=!1),h.apply(this,arguments))}:function(){c.isBlocked()||h.apply(this,arguments)},k)}};var h;UNIFACE.widget.AbstractWidget.prototype.accesskey=function(g,f,m){f=null;m?(void 0===h&&(h=document.createElement("div"),
h.style.display="none",document.body.appendChild(h)),g=document.createTextNode(g),h.innerHTML="",h.appendChild(g),f=h.innerHTML):f=g;this.ackey=0;var k=this;return f.replace(/%(.)/g,function(c,a){return 0===k.ackey&&/[a-zA-Z]/.test(a)&&(k.ackey=a,m)?"<u>"+a+"</u>":a})};UNIFACE.widget.Props=_uf.ui?_uf.ui.Props:_uf.nop;UNIFACE.widget.AbstractWidget.prototype.blockedProperties=new UNIFACE.widget.Props({"style:cursor":"progress","html:disabled":"true"});UNIFACE.widget.AbstractWidget.prototype.getBlockedProperties=
function(){return this.blockedProperties};"function"===typeof UNIFACE.widgetOverrides&&UNIFACE.widgetOverrides()})();(function(){function h(){this.x=-this.el.scrollLeft;this.y=-this.el.scrollTop;this.el==document.documentElement?(this.x=this.x||-window.scrollX,this.y=this.y||-window.scrollY,this.maxScrollY=_uf.ui.bodyHeight()-this.el.scrollHeight):this.maxScrollY=this.el.clientHeight-this.el.scrollHeight;0<=this.maxScrollY&&(this.maxScrollY=0);this.maxScrollX=this.el.clientWidth-this.el.scrollWidth;0<=this.maxScrollX&&(this.maxScrollX=0)}function g(){h.call(this);this._sto&&clearTimeout(this.sto);this._scrollF&&
(this._sto=setTimeout(this._scrollF,300))}function f(a,b){this.el=a;UNIFACE.addListener(a===document.documentElement?window:a,"onscroll",UNIFACE.bind(g,this))}function m(){UNIFACE.widget.element.apply(this,arguments)}function k(){return m.apply(this,arguments)}function c(){"text"!=this.controlType&&"multiline"!=this.controlType||this.getValue()===this.currentValue||(this.currentValue=this.getValue(),this.callBack.getEvents().onedit());return!0}function a(){var a,b;a=this.callBack.checkValue(this.getValue(),
!1);b=a.originalValue!==a.newValue;!a.error&&b&&this.setElementValue(a.newValue);if(!a.error||a.error&&!this.callBack.getSyntaxCheckEnabled())this.callBack.getEvents().onchange();this.handleChangeEvent();return!0}function b(a,b,c,e,f){var g=document.createElement("TD");g.className="unifaceRadioInput";c.appendChild(g);var h=document.createElement("INPUT");h.type="radio";h.value=b;h.name=a.callBack.getId();h.id=h.name+".l"+f;g.appendChild(h);f=h;f.domNode=h;f.focusNode=h;f.domNode.style.cssText+=";display:-moz-inline-block";
a.controls[b]=f;var k=document.createElement("TD");k.className="unifaceRadioLabel";c.appendChild(k);h=document.createElement("LABEL");h.setAttribute("for",f.id);var l=a.callBack.getValrep();b=a.accesskey(l[0][b],!0,!0);0!==this.ackey&&(h.accessKey=a.ackey);h.innerHTML=b;k.appendChild(h);f.labelNode=h;e&&"LEFT"===e?c.insertBefore(k,g):c.appendChild(k)}function e(){this.valueBeforeChange!==this.getValue()&&(this.callBack.getEvents().onchange(),this.valueBeforeChange=this.getValue())}var l=function(a){for(var b=
document.createElement("input"),c={},e=document.documentElement,f=0,g,h,k=a.length;f<k;f++){b.setAttribute("type",h=a[f]);if(g="text"!==b.type)b.value=":)",b.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(h)&&void 0!==b.style.WebkitAppearance?(e.appendChild(b),g=document.defaultView,g=g.getComputedStyle&&"textfield"!==g.getComputedStyle(b,null).WebkitAppearance&&0!==b.offsetHeight,e.removeChild(b)):/^(search|tel)$/.test(h)||(g=/^(url|email)$/.test(h)?b.checkValidity&&!1===b.checkValidity():
":)"!=b.value);c[a[f]]=!!g}return c}("search tel url email datetime date month week time datetime-local number range color".split(" "));UNIFACE.widget.element=function(){UNIFACE.widget.AbstractWidget.apply(this,arguments);this.ackey=0;this.controlType="text";this.parent=this.element=null;this.tagName="span"};UNIFACE.widget.element.vsn="9.7/1";UNIFACE.widget.element.prototype=new UNIFACE.widget.AbstractWidget;UNIFACE.widget.element.prototype.getElement=function(){return this.element};UNIFACE.widget.element.prototype.doRender=
function(a){this.parent=a.parentNode;this.element=this.createElement(a);this.fillAttributes();this.element.id=this.callBack.getId();this.setElementValue(this.callBack.getValue());this.element.style.cssText=a.style.cssText;this.parent.replaceChild(this.element,a);this.fillStyles()};UNIFACE.widget.element.prototype.setElementValue=function(a){this.element.value=a};UNIFACE.widget.element.prototype.setValue=function(a){this.element&&this.setElementValue(a)};UNIFACE.widget.element.prototype.getValue=function(){return this.element?
this.element.value:this.callBack.getValue()};UNIFACE.widget.element.prototype.fillAttributes=function(){};UNIFACE.widget.element.prototype.fillStyles=function(){};UNIFACE.widget.element.prototype.createElement=function(a){return a.tagName.toLowerCase()==this.tagName?a.cloneNode(!0):document.createElement(this.tagName)};UNIFACE.widget.element.prototype.setAttributeProp=function(a,b){var c,e=this.getElement();if(e){c=(c=e.getAttributeNode(a))&&c.specified?c.value:void 0;try{void 0===b?_uf.is_safari()&&
"name"==a&&"IMG"==e.tagName||e.removeAttribute(a):e.setAttribute(a,b)}catch(f){}}return c};UNIFACE.widget.genericHTML=function(){UNIFACE.widget.element.apply(this,arguments);this._value=null};UNIFACE.widget.genericHTML.prototype=new UNIFACE.widget.element;UNIFACE.widget.genericHTML.prototype.blockedProperties=new UNIFACE.widget.Props({"style:cursor":"progress"});UNIFACE.widget.genericHTML.prototype.setValue=function(a){this._value=a};UNIFACE.widget.genericHTML.prototype.getValue=function(){return this._value};
UNIFACE.widget.genericHTML.prototype.doRender=function(a){this.element=a};UNIFACE.widget.genericHTML.prototype.postRender=function(){};UNIFACE.widget.genericHTML.prototype.mapEvents=function(){UNIFACE.widget.element.prototype.mapEvents.apply(this,arguments);var a=this.callBack.getEvents();this.addListener(this.element,"ondblclick",a.ondblclick);this.addListener(this.element,"onclick",a.onclick);this.addListener(this.element,"oncontextmenu",a.oncontextmenu);this.addListener(this.element,"oncontextmenu",
a.onclick);this.addListener(this.element,"onfocus",a.onfocus);this.addListener(this.element,"onblur",a.onblur);this.addListener(this.element,"onkeypress",a.onkeypress);this.addListener(this.element,"onchange",a.onchange)};UNIFACE.widgetFactory.addCreator("UNIFACE.widget.genericHTML",UNIFACE.widget.genericHTML);UNIFACE.widget.occurrence=function(){UNIFACE.widget.genericHTML.apply(this,arguments);this._value=null};UNIFACE.widget.occurrence.prototype=new UNIFACE.widget.genericHTML;UNIFACE.widget.occurrence.prototype.mapEvents=
function(){var a=this.callBack.getEvents();this.addListener(this.element,"onclick",a.onselect,UNIFACE.eventPhase.PRE_CLUSTERING);this.addListener(this.element,"onclick",a.onselectionchange,UNIFACE.eventPhase.CAPTURING);this.addListener(this.element,"oncontextmenu",a.onselect,UNIFACE.eventPhase.PRE_CLUSTERING);this.addListener(this.element,"oncontextmenu",a.onselectionchange,UNIFACE.eventPhase.CAPTURING);this.callBack.getDefProperty("occdragtype")&&(this.addListener(this.element,"ondragstart",a.ondraginit,
UNIFACE.eventPhase.PRE_CLUSTERING),this.addListener(this.element,"ondragstart",a.onselectionchange,UNIFACE.eventPhase.CAPTURING),this.addListener(this.element,"ondragstart",a.ondragstart),this.addListener(this.element,"ondragend",a.ondragend));this.callBack.getDefProperty("occdroptype")&&(this.addListener(this.element,"ondragover",function(){}),this.addListener(this.element,"ondrop",a.onselectionchange,UNIFACE.eventPhase.CAPTURING),this.addListener(this.element,"ondrop",a.ondropinit,UNIFACE.eventPhase.PRE_CLUSTERING),
this.addListener(this.element,"ondrop",a.ondrop))};UNIFACE.widget.occurrence.prototype.postRender=function(){this.callBack.getDefProperty("occdragtype")&&(this.element.draggable=!0)};UNIFACE.widget.occurrence.prototype.stateProps={plain:new UNIFACE.widget.Props({"class:-uocc-":"true"}),empty:new UNIFACE.widget.Props({"class:-uocc-empty-":"true"}),current:new UNIFACE.widget.Props({"class:-uocc-cur-":"true"}),selected:new UNIFACE.widget.Props({"class:-uocc-sel-":"true"})};UNIFACE.widgetFactory.addCreator("UNIFACE.widget.occurrence",
UNIFACE.widget.occurrence);UNIFACE.widget.entity=function(){UNIFACE.widget.genericHTML.apply(this,arguments);this._value=null};UNIFACE.widget.entity.prototype=new UNIFACE.widget.genericHTML;f.prototype={on:function(a,b){"scrollEnd"===a&&(this._scrollF=b)},useScrollTop:!0,refresh:h,y:0,x:0,maxScrollX:0,maxScrollY:0};UNIFACE.widget.entity.prototype.doRender=function(a){if(this.callBack&&this.callBack.useDataScrolling()){if(this.bodyscroll="body"===a.getAttribute("data-uniface-scroll"))a.style.display=
"block";var b=a.parentNode;this.element=document.createElement("div");this.vp=a;this.vp.style.position="relative";this.vp.style.top="0px";this.vp.style.left="0px";this.vp.style.width="";this.vp.style.height="";this.orEl=a;this.pel=document.createElement("div");this.pel.style.height="0px";this.pel.style.visibility="hidden";this.tophglass=document.createElement("div");this.tophglass.style.height="32px";this.tophglass.style.display="none";this.tophglass.style.background="url('../common/images/ubusyindicator/ajax-loader.gif') no-repeat center center";
this.bottomhglass=document.createElement("div");this.bottomhglass.style.height="32px";this.bottomhglass.style.display="block";this.bottomhglass.style.background="url('../common/images/ubusyindicator/ajax-loader.gif') no-repeat center center";this.sstart=this.soffset=0;this.send=100;b.replaceChild(this.element,a);this.element.appendChild(this.vp);this.vp.insertBefore(this.pel,this.vp.firstChild);this.vp.appendChild(this.bottomhglass);this.element.style.height=this.orEl.style.height;this.orEl.style.height=
"";this.bodyscroll?_uf.ui.body_scroller.style&&_uf.ui.body_scroller.style.setProperty&&_uf.ui.body_scroller.style.setProperty("-webkit-overflow-scrolling","touch",""):(this.element.style.position="absolute",this.element.style.top=this.element.style.left=this.element.style.bottom=this.element.style.right=0,this.element.style.setProperty&&this.element.style.setProperty("-webkit-overflow-scrolling","touch"));(this.scroller=new f(this.bodyscroll?_uf.ui.body_scroller:this.element,{mouseWheel:!0,scrollbars:!0,
click:!0}))&&this.scroller.useScrollTop&&(this.element.style.overflowY="auto")}else UNIFACE.widget.genericHTML.prototype.doRender.apply(this,arguments)};UNIFACE.widget.entity.prototype.setValue=function(a){"complete"===this.callBack.getValue()&&(this.complete=!0,this.bottomhglass.style.display="none");this.body_onresize()};UNIFACE.widget.entity.prototype.onScroll=function(a){h.call(this.scroller);!this.isBlocked()&&!this.complete&&this.scroller.y<this.scroller.maxScrollY+1+this.bottomhglass.clientHeight&&
(this.callBack.nextPage(),this.scroller.refresh())};UNIFACE.widget.entity.prototype.body_onresize=function(){if(this.callBack.useDataScrolling()){this.scroller&&this.scroller.refresh&&this.scroller.refresh();var a=this;setImmediate(function(){a.onScroll()})}};UNIFACE.widget.entity.prototype.mapEvents=function(){UNIFACE.widget.genericHTML.prototype.mapEvents.apply(this,arguments);UNIFACE.addListener(window,"onresize",UNIFACE.bind(this.body_onresize,this));if(this.scroller)this.scroller.on("scrollEnd",
UNIFACE.bind(this.onScroll,this));var a=this.callBack.getEvents();this.callBack.getDefProperty("entdragtype")&&(this.addListener(this.element,"ondragstart",a.ondragstart),this.addListener(this.element,"ondragend",a.ondragend));this.callBack.getDefProperty("entdroptype")&&(this.addListener(this.element,"ondragover",function(){}),this.addListener(this.element,"ondrop",a.ondrop))};UNIFACE.widget.entity.prototype.postRender=function(){this.callBack.getDefProperty("entdragtype")&&(this.element.draggable=
!0)};UNIFACE.widget.entity.prototype.stateProps={plain:new UNIFACE.widget.Props({"class:-uent-":"true"}),empty:new UNIFACE.widget.Props({"class:-uent-empty-":"true"})};UNIFACE.widgetFactory.addCreator("UNIFACE.widget.entity",UNIFACE.widget.entity);UNIFACE.widget.label=function(){UNIFACE.widget.element.apply(this,arguments);this.tagName="label"};UNIFACE.widget.label.prototype=new UNIFACE.widget.element;UNIFACE.widget.label.prototype.setElementValue=function(a){this.element.value=a;this.element.innerHTML=
a};UNIFACE.widget.label.prototype.setValue=function(a){this._value=a;this.element&&this.setElementValue(this.accesskey(a,!0,!0))};UNIFACE.widget.label.prototype.getValue=function(){return this._value};UNIFACE.widget.label.prototype.postRender=function(){};UNIFACE.widget.label.prototype.doRender=function(a){this.associatedId="ufld:"+this.callBack.getId().replace(/^ulbl:/,"");this.parent=a.parentNode;"label"==a.tagName.toLowerCase()?this.element=a:(this.element=document.createElement("label"),this.parent.replaceChild(this.element,
a));void 0!=this.associatedId&&(this.element.htmlFor=this.associatedId);0!==this.ackey&&(this.element.accessKey=this.ackey);this.setElementValue(this.accesskey(this.callBack.getValue(),!0,!0))};UNIFACE.widget.label.prototype.mapEvents=function(){};UNIFACE.widgetFactory.addCreator("UNIFACE.widget.label",UNIFACE.widget.label);m.prototype=new UNIFACE.widget.element;m.prototype.mapEvents=function(){UNIFACE.widget.element.prototype.mapEvents.apply(this,arguments)};m.prototype.handleChangeEvent=function(){};
m.prototype.setHtml_value=_uf.nop;m.prototype.setHtml_type=_uf.nop;k.prototype=new m;k.prototype.mapEvents=function(){m.prototype.mapEvents.call(this);var b=this.callBack.getEvents();this.addListener(this.element,"ondblclick",b.detail);"oninput"in this.element?this.addListener(this.element,"oninput",b.onedit):this.addListener(this.element,"onkeyup",UNIFACE.bind(c,this));this.addListener(this.element,"onchange",UNIFACE.bind(a,this))};UNIFACE.widget.input=function(){this.formatter=_uf.format.nullFormatter;
this.valueAtt="value";k.apply(this,arguments);this.controlType="text";this.tagName="input"};UNIFACE.widget.input.prototype=new k;UNIFACE.widget.input.prototype.canChangeTypeWhenInDOM=function(a,b){var c=document.createElement("input");c.style.visibility="hidden";c.type=a;var e=document.createElement("div");e.style.visibility="hidden";e.appendChild(c);document.documentElement.appendChild(e);try{return c.type=b,document.documentElement.removeChild(e),!0}catch(f){return document.documentElement.removeChild(e),
!1}};UNIFACE.widget.input.prototype.setElementValue=function(a){this.element[this.valueAtt]=this.formatter.format(a)};UNIFACE.widget.input.prototype.getValue=function(){return this.element?this.formatter.deformat(this.element[this.valueAtt]):this.callBack.getValue()};UNIFACE.widget.input.prototype.createElement=function(a){this.callBack.getCalculatedProperties().att.type&&(this.controlType=this.callBack.getCalculatedProperties().att.type.toLowerCase());return a.tagName.toLowerCase()==this.tagName&&
a.type==this.controlType?a.cloneNode(!0):document.createElement(this.tagName)};UNIFACE.widget.input.prototype.setHtml_disabled=function(a){this.element.disabled="string"==typeof a&&"true"===a.toLowerCase()};UNIFACE.widget.input.prototype.setHtml_type=function(a){var b=this.element.type,c=null===this.element.parentElement;!a&&this.controlType&&(a=this.controlType);a=a||"";if(!1===l[a.toLowerCase()]){if(c||this.canChangeTypeWhenInDOM(b,"text"))c=this.callBack.getCalculatedProperties().syntax,this.formatter&&
this.displayFormat===c.DIS||(this.formatter=_uf.format.createFormatter(c.DIS,a),this.displayFormat=c.DIS),this.element.type=this.controlType="text"}else if(c||this.canChangeTypeWhenInDOM(b,a.toLowerCase()))a=a||"text",this.element.type=this.controlType=a.toLowerCase(),"checkbox"===a.toLowerCase()?this.formatter=_uf.format.createFormatter("",a):this.formatter=_uf.format.nullFormatter,this.displayFormat=void 0;this.valueAtt="checkbox"==this.controlType||"radio"==this.controlType?"checked":"value";return b};
UNIFACE.widget.input.prototype.setHtml_placeholder=function(a){this.setHtml_type(this.callBack.getCalculatedProperties().att.type);this.element.placeholder=this.formatter.format(a)};UNIFACE.widget.input.prototype.fillAttributes=function(){this.setHtml_type(this.controlType)};UNIFACE.widget.input.prototype.mapEvents=function(){k.prototype.mapEvents.call(this);var a=this.callBack.getEvents();"button"===this.controlType&&this.addListener(this.element,"onclick",a.detail)};UNIFACE.widgetFactory.addCreator("UNIFACE.widget.input",
UNIFACE.widget.input);UNIFACE.widget.multilinebox=function(){k.apply(this,arguments);this.tagName="textarea"};UNIFACE.widget.multilinebox.prototype=new k;UNIFACE.widgetFactory.addCreator("UNIFACE.widget.multilinebox",UNIFACE.widget.multilinebox);UNIFACE.widget.editbox=UNIFACE.widget.input;UNIFACE.widgetFactory.addCreator("UNIFACE.widget.editbox",UNIFACE.widget.editbox);UNIFACE.widget.img=function(){UNIFACE.widget.element.apply(this,arguments);this.tagName="img"};UNIFACE.widget.img.prototype=new UNIFACE.widget.element;
UNIFACE.widget.img.prototype.createElement=function(a){var b=this.callBack.getCalculatedProperties().syntax;this.tagName=b.YPR||!b.NPR?"input":"img";a=a.tagName.toLowerCase()==this.tagName?a.cloneNode(!0):document.createElement(this.tagName);"input"==this.tagName&&(a.type="image");a.removeAttribute("height");a.removeAttribute("width");return a};UNIFACE.widget.img.prototype.setHtml_type=_uf.nop;UNIFACE.widget.img.prototype.setHtml_src=_uf.nop;UNIFACE.widget.img.prototype.mapEvents=function(){var a=
this.callBack.getEvents();this.addListener(this.element,"onclick",a.detail);a.detail&&"input"!==this.tagName&&!this.element.style.cursor&&(this.element.style.cursor="pointer")};UNIFACE.widget.img.prototype.setElementValue=function(a){var b=this.getValue();void 0!==b&&a!=b&&this.setElementResource("broken://");UNIFACE.widget.element.prototype.setElementValue.apply(this,arguments)};UNIFACE.widget.img.prototype.setElementResource=function(a){if(this.element)if(a){var b=a.indexOf("_GET_RESOURCE_?RESOURCENAME="),
c=0>b?-1:this.element.src.indexOf("_GET_RESOURCE_?RESOURCENAME=");if(0>b||0>c||a.substring(b+28)!=this.element.src.substring(c+28))this.element.src=a}else this.element.src="broken://"};UNIFACE.widget.img.prototype.postRender=function(){this.setElementResource(this.resource);UNIFACE.widget.element.prototype.postRender.apply(this,arguments);this.getElement().style.verticalAlign="middle"};UNIFACE.widget.img.prototype.setResource=function(a){this.resource=a;this.setElementResource(a)};UNIFACE.widget.img.prototype.setValue=
function(a){UNIFACE.widget.element.prototype.setValue.apply(this,arguments);if("string"===typeof a&&0<a.length){var b=a.charAt(0);"&"!==b&&"#"!==b&&"@"!==b&&"^"!==b&&((b=this.callBack.getValrep())&&b[0]&&(a=b[0][a])&&"&"===a.charAt(0)&&(a=a.substring(1)),this.setResource(a))}};UNIFACE.widgetFactory.addCreator("UNIFACE.widget.img",UNIFACE.widget.img);UNIFACE.widget.plain=function(){UNIFACE.widget.element.apply(this,arguments)};UNIFACE.widget.plain.prototype=new UNIFACE.widget.element;UNIFACE.widget.plain.prototype.setUnifaceProp=
function(a,b){"rawhtml"===a&&(b="true"==b.toLowerCase(),this.isRawHTML!=b&&(this.isRawHTML=b,this.setElementValue(this.element.value)))};UNIFACE.widget.plain.prototype.setHtml_href=_uf.nop;UNIFACE.widget.plain.prototype.createElement=function(a){var b=this.callBack.getCalculatedProperties().syntax;this.tagName=b.YPR||!b.NPR?"a":"span";a=a.tagName.toLowerCase()==this.tagName?a.cloneNode(!0):document.createElement(this.tagName);"a"==this.tagName&&(a.href="javascript://");return a};UNIFACE.widget.plain.prototype.setElementValue=
function(a){this.element.value=a;if(this.isRawHTML)this.element.innerHTML=a;else{this.element.innerHTML="";"string"!==typeof a&&(a=a.toString());a=a.split("\n");0<a.length&&this.element.appendChild(document.createTextNode(a[0]));for(var b=1;b<a.length;b++)this.element.appendChild(document.createElement("br")),a[b]&&this.element.appendChild(document.createTextNode(a[b]))}};UNIFACE.widget.plain.prototype.mapEvents=function(){var a=this.callBack.getEvents();this.addListener(this.element,"onclick",a.detail);
a.detail&&"a"!==this.tagName&&!this.element.style.cursor&&(this.element.style.cursor="pointer");this.callBack.getDefProperty("flddragtype")&&(this.addListener(this.element,"ondragstart",a.ondragstart),this.addListener(this.element,"ondragend",a.ondragend));this.callBack.getDefProperty("flddroptype")&&(this.addListener(this.element,"ondragover",function(){}),this.addListener(this.element,"ondrop",a.ondrop))};UNIFACE.widget.plain.prototype.postRender=function(){this.callBack.getDefProperty("flddragtype")&&
(this.element.draggable=!0)};UNIFACE.widgetFactory.addCreator("UNIFACE.widget.plain",UNIFACE.widget.plain);UNIFACE.widget.select=function(){m.apply(this,arguments);this.tagName="select"};UNIFACE.widget.select.prototype=new m;UNIFACE.widget.select.prototype.setHtml_size=function(a){var b=this.getValue();this.element.size=a;this.setValue(b)};UNIFACE.widget.select.prototype.setValrep=function(a){if(this.element){for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);if(a){var b;
if(a.constructor===Array)for(b=0;b<a[1].length;b++){var c=document.createElement("option");c.value=a[1][b];c.appendChild(document.createTextNode(a[0][c.value]));this.element.appendChild(c)}}}};UNIFACE.widget.select.prototype.fillAttributes=function(){this.setValrep(this.callBack.getValrep())};UNIFACE.widget.select.prototype.mapEvents=function(){var a=this.callBack.getEvents();this.addListener(this.element,"onchange",function(){setTimeout(a.onchange,0)})};UNIFACE.widget.select.prototype.setValue=function(a){var b;
if(this.element){"true"==this.callBack.getCalculatedProperties().html.multiple&&this.setHtmlProp("multiple",!0);a=UNIFACE.luv.util.uListToArray(a);this.setElementValue(a[0]);for(var c=this.element.options,e=0;e<c.length;e++){b=!1;for(var f=0;f<a.length&&!(b=c[e].value==a[f]);f++);c[e].selected=b;if(!this.element.multiple&&b)break}}};UNIFACE.widget.select.prototype.getValue=function(){if(!this.element)return this.callBack.getValue();for(var a=this.element.options,b=[],c=0;c<a.length;c++)if(a[c].selected){if(!this.element.multiple)return a[c].value;
b.push(a[c].value)}return UNIFACE.luv.util.arrayToUList(b)};UNIFACE.widget.radiogroup=function(){m.apply(this,arguments);this.tagName="span";this.initialAttributes={};this.layout={cols:0,rows:0,verticalOrdering:!1};this.control={};this.controls=null;this.valueList=[]};UNIFACE.widget.radiogroup.prototype=new m;UNIFACE.widget.radiogroup.prototype.getAllStyleNodes=function(){var a,b=[this.getElement()],c;for(c in this.controls)this.controls.hasOwnProperty(c)&&(b.push(this.controls[c]),(a=this.controls[c].labelNode)&&
b.push(a));return b};UNIFACE.widget.radiogroup.prototype.isEmpty=function(){for(var a in this.controls)if(this.controls.hasOwnProperty(a))return!1;return!0};UNIFACE.widget.radiogroup.prototype.getStyleNode=function(a){return"textIndent"!==a||this.isEmpty()?this.getElement():this.control.labelNode.parentNode};UNIFACE.widget.radiogroup.prototype.setStyle_textIndent=function(a){var b;if(!this.isEmpty())for(b in this.controls)this.controls.hasOwnProperty(b)&&this.setCssProperty(this.controls[b].labelNode.parentNode.style,
"textIndent",a)};UNIFACE.widget.radiogroup.prototype.setStyle_cursor=function(a){for(var b in this.controls)this.controls.hasOwnProperty(b)&&(this.setCssProperty(this.controls[b].focusNode.style,"cursor",a),this.setCssProperty(this.controls[b].labelNode.style,"cursor",a));this.setCssProperty(this.element.style,"cursor",a)};UNIFACE.widget.radiogroup.prototype.setHtmlProp=function(a,b){var c;if(null===this.controls)return c;var e,f,g=a;if("readOnly"===a||"disabled"==a)f=this.callBack.getCalculatedProperties(),
f="true"===f.html.disabled||"true"===f.html.readOnly,g="disabled";for(e in this.controls)if(this.controls.hasOwnProperty(e))if("disabled"===g)c=this.controls[e][g],this.controls[e].disabled=f;else{var h=this.controls[e].focusNode;c=h[a];h[a]=b}c&&(c=c.toString());return c};UNIFACE.widget.radiogroup.prototype.doRender=function(){m.prototype.doRender.apply(this,arguments);this.wrapperNode=this.element;this.initialAttributes.name=this.callBack.getId();this.setValrep(this.callBack.getValrep())};UNIFACE.widget.radiogroup.prototype.setValrep=
function(a){if(this.wrapperNode){this.wrapperNode.innerHTML="";this.controls={};"object"!==typeof a&&(a=[{},[]]);this.valueList=a=a[1];var c=0,e=0,f=!1,g=this.callBack.getCalculatedProperties();g&&(g=g.uniface);if(g){if(g.columns)try{c=parseInt(g.columns,10)}catch(h){c=0}if(g.rows)try{e=parseInt(g.rows,10)}catch(k){e=0}0<c?0<e?e*c<a.length&&(e=Math.ceil(a.length/c)):e=Math.ceil(a.length/c):0<e?c=Math.ceil(a.length/e):(c=1,e=a.length);"true"===g.verticalorder&&(f=!0)}this.layout.cols=c;this.layout.rows=
e;this.layout.verticalOrdering=f;this.control={};var l=document.createElement("TABLE");l.className="unifaceRadioGroup";this.control.domNode=l;l.style.cssText="display:inline-table;";this.wrapperNode.appendChild(l);l=document.createElement("TBODY");this.control.domNode.appendChild(l);var m=[],C=0,B,y;if(f){var x=a.length%c;0===x&&(x=c);for(B=0;B<c;B++)for(y=e,B>=x&&y--,f=0;f<y;f++)m[f*c+B]=C++}else for(x=a.length%e,0===x&&(x=e),f=0;f<e;f++)for(y=c,f>=x&&y--,B=0;B<y;B++)m[f*c+B]=C++;y=e*c;for(var E,
f=0;f<y;f++)0===f%c&&(E=document.createElement("TR"),l.appendChild(E)),e=m[f],null!=e&&e<a.length&&b(this,a[e],E,g.align,e);0<a.length?(this.control.focusNode=this.controls[a[0]].focusNode,this.control.labelNode=this.controls[a[0]].labelNode):(this.control.focusNode=this.control.domNode,this.control.labelNode=this.control.domNode);this.nodesChanged()}};UNIFACE.widget.radiogroup.prototype.getValrep=function(){var a=[{},[]],b;for(b=0;b<this.valueList.length;b++){var c=this.valueList[b],e=this.controls[c].labelNode;
a[0][c]=e.textContent?e.textContent:e.innerHTML?e.innerHTML:e.firstChild.nodeValue;a[1][b]=c}return a};UNIFACE.widget.radiogroup.prototype.setValue=function(a){this.value=a;this.controls&&this.applyValue()};UNIFACE.widget.radiogroup.prototype.applyValue=function(){if("undefined"!=typeof this.controls[this.value])this.controls[this.value].checked=!0;else for(var a in this.controls)this.controls.hasOwnProperty(a)&&(this.controls[a].checked=!1)};UNIFACE.widget.radiogroup.prototype.getValue=function(){var a,
b=this.value;for(a in this.controls)if(this.controls[a].checked){b=a;break}return b};UNIFACE.widget.radiogroup.prototype.mapEvents=function(){this.callBack.getEvents();for(var a in this.controls)this.controls.hasOwnProperty(a)&&this.addListener(this.controls[a],"onclick",this.callBack.bind("onchange",e))}})();(function(h,g,f,m){h.uniface=h.uniface||{};var k=h.uniface;k.vsn="9.7/1";k.TYPE_INSTANCE="Instance";k.TYPE_DSPINSTANCE=k.TYPE_INSTANCE;k.TYPE_ENTITY="Entity";k.TYPE_OCCURRENCE="Occurrence";k.TYPE_FIELD="Field";k.TYPE_LABEL="Label";k._getAPIObject=function(a,c){if(!c)return null;c.api_o||(c.api_o=new a(c));return c.api_o};k._updateProps=function(a,c,f){var d=a._getIDO();d.normalizedProps&&(d.normalizedProps.merge(c,f||d.normalizedProps.syntax),(a=a._getLUVObject())&&a.setProperties())};k._creocc=function(a,
c){if(a.def.hasNEDFields){if(a.def.ownsNEDFields)throw new k.OccurrenceCreationException(this,"Entity has non-editable fields.");throw new k.OccurrenceCreationException(this,"Entity contains an inner entity that has non-editable fields.");}var g=k._getAPIObject(k.Occurrence,f.creOcc(f.getInstance(a),a,a.def,c));if(g&&a.ro){var d=a.container,h=a.container.container;f.isInstanceOcc(d)?a.ro.refresh(a):(_uf.data.setOccMod(d.ro.data,"indirect"),h.ro.refresh(h))}return g};k._isOccMod=function(a){return f.isInstanceOcc(a)?
!1:f.isOccMod(a)};k._markAsModified_ent=function(a,c){k._isOccMod(c.container)||k._markAsModified_occ("indirect",c.container)};k._markAsModified_occ=function(a,c){f.isInstanceOcc(c)||(f.setOccMod(c,a),k._markAsModified_ent("indirect",c.container))};k.getInstance=function(a){var c,f=null;void 0===a?(c=_uf.vp.mainInstance)&&(f=k._getAPIObject(k.Instance,c)):"string"===typeof a&&(a=a.toUpperCase(),c=m.getInstance(a));c&&(c.definition||c._pendingCreate)&&(f=k._getAPIObject(k.Instance,c));return f};k.getDSPInstance=
function(a){return void 0===a?null:k.getInstance(a)};k.getInstances=function(){var a=[];m.some(function(c,f){!c.definition&&!c._pendingCreate||c._pendingDelete||a.push(k.getInstance(f))});return a};k.getDSPInstances=function(){return k.getInstances()};k.getInstanceNames=function(){var a=[];m.some(function(c,f){!c.definition&&!c._pendingCreate||c._pendingDelete||a.push(c.instanceName)});a.sort();return a};k.getDSPInstanceNames=function(){return k.getInstanceNames()};k.createInstance=function(a,c,f){var d;
a=a.toUpperCase();c=c?c.toUpperCase():a;var g=m.makeInstance(c,a);if(g.isActivatable())throw d=k.getInstance(c),new k.DuplicateDSPInstanceNameException(d);d={};g.definition||g._pendingCreate?d=Promise.resolve({}):(d={"u:dspmode":"embed"},null==f&&(f="exec"),d=[g,f.toLowerCase(),d],3<arguments.length&&(d=d.concat(Array.prototype.slice.call(arguments,3))),d=UNIFACE.dl.postOperation.apply(UNIFACE.dl,d));return d.then(function(a){if(g._pendingCreate)throw new k.NotCreated;a.instance=k.getInstance(c);
return a})["catch"](function(a){g._pendingCreate=!1;g.remove();throw a;})};k.createDSPInstance=function(a,c,f){k.createInstance.apply(this,arguments);return k.getInstance(c?c:a)};var c,a=["activate","getComponentName","getEntity","getEntities"];for(c=0;c<a.length;c++)(function(){var b=a[c];k[b]=function(){var a=k.getInstance();return a[b].apply(a,arguments)}})()})(this,this._uf.ui,this._uf.data,this._uf.InstanceManager);(function(h,g,f){var m=uniface._updateProps,k=uniface._getAPIObject;uniface.DataObject=function(c){this._ido=c};uniface.DataObject.prototype={getEvents:function(){var c=this._getLUVObject();if(c)return c.events||{}},_def:function(){return this._getIDO().def},getProperties:function(){var c=this._getIDO().normalizedProps;return c?c.getRawProps():{}},setProperties:function(c){m(this,c)},setProperty:function(c,a){var b={};b[c]=a;this.setProperties(b)},_isValid:function(){return this._ido&&!this._ido.isInvalid},
getProperty:function(c){if(this._getIDO().normalizedProps)return this._getIDO().normalizedProps.get(c)},clearProperty:function(c){var a={};a["!"+c]="";m(this,a)},clearProperties:function(){m(this,{"!":""})},_getIDO:function(){if(!this._isValid())throw new uniface.InvalidDataObjectException(this);return this._ido},getName:function(){return this._ido.def.nm},getShortName:function(){var c=this.getName(),a=c.indexOf(".");0<=a&&(c=c.substring(0,a));return c},getType:function(){return this._type},isEqualTo:function(c){var a=
this._getIDO(),b;if(c)try{b=c._getIDO()}catch(e){b=void 0}return a===b},getInstance:function(){var c=f.getInstance(this._getIDO());return c?k(uniface.Instance,c):null},_getLUVObject:function(){return this._getIDO().ro||null},toString:function(){var c=this.getType()+" "+this.getName();this._isValid()||(c+=" (invalid)");return c}};uniface.DataObject.prototype.getDSPInstance=uniface.DataObject.prototype.getInstance})(this,this._uf.ui,this._uf.data);(function(h,g,f){var m=uniface._getAPIObject;uniface.Instance=function(f){uniface.DataObject.call(this,f)};uniface.DSPInstance=uniface.Instance;uniface.Instance.prototype=new uniface.DataObject;uniface.Instance.prototype._isValid=function(){return this._ido&&!this._ido.isInvalid&&this._ido.definition};uniface.Instance.prototype._type=uniface.TYPE_INSTANCE;uniface.Instance.prototype._isActivatable=function(){return this._ido&&this._ido.isActivatable()};uniface.Instance.prototype._hasOperation=function(f){return this._isValid()&&
this._ido&&this._ido.definition&&this._ido.definition.operations&&this._ido.definition.operations[f]};uniface.Instance.prototype._isOccMod=function(){return!1};uniface.Instance.prototype.getParent=function(){this._getIDO();return null};uniface.Instance.prototype.activate=function(f){var c=this;if(!(this._isActivatable()||this._ido&&this._ido._pendingDetach&&"detach"===f))throw new uniface.InvalidDSPInstanceException(this);this._ido._pendingDetach=!1;var a=[this._ido,f.toLowerCase(),{_syncMode:!0}];
1<arguments.length&&(a=a.concat(Array.prototype.slice.call(arguments,1)));return UNIFACE.dl.postOperation.apply(UNIFACE.dl,a).then(function(a){a.instance=c;return a})};uniface.Instance.prototype.remove=function(){var f=this._ido;if(!this._isActivatable())throw new uniface.InvalidDSPInstanceException(this);f._pendingDelete=!0;f._pendingDetach=!0;f.addOperation("_i_delete",function(){null!=f.widget&&f.widget.setValue("");if(f.children)for(var c in f.children)f.children.hasOwnProperty(c)&&f.children[c].widget.setValue("");
f.addOperation("_i_cleanup",function(){f.remove()});return UNIFACE.dl.postOperation(f,"_i_cleanup",{scope:{requesttype:"clientside"}})});return UNIFACE.dl.postOperation(f,"_i_delete",{scope:{requesttype:"clientside"}})};uniface.Instance.prototype.getName=function(){return this._ido.instanceName};uniface.Instance.prototype.getComponentName=function(){if(!this._isValid())throw new uniface.InvalidDSPInstanceException(this);return this._getIDO().componentName};uniface.Instance.prototype.getEntities=function(){if(!this._isValid())throw new uniface.InvalidDSPInstanceException(this);
var g=this._getIDO(),c=[],a,b;for(a in g.definition)g.definition.hasOwnProperty(a)&&(b=f.getOccChild(g.data,a),"entity"===g.definition[a].type&&b&&c.push(m(uniface.Entity,b)));c.sort(function(a,b){return a.getName()>b.getName()?1:-1});return c};uniface.Instance.prototype.getEntity=function(g){if(!this._isValid())throw new uniface.InvalidDSPInstanceException(this);var c=this._getIDO();if("string"===typeof g){var a,b;g=g.toUpperCase();for(a in c.definition)if(c.definition.hasOwnProperty(a)&&(b=c.definition[a],
b.nm===g))return m(uniface.Entity,f.getOccChild(c.data,a))}return null};uniface.Instance.prototype._getLUVObject=function(){if(!this._isValid())throw new uniface.InvalidDSPInstanceException(this);return this._getIDO().occs[0]};uniface.Instance.prototype.render=function(f){this._getIDO().setLayout(this._getIDO().layout,f)}})(this,this._uf.ui,this._uf.data);(function(h,g,f){var m=uniface._getAPIObject,k=uniface._creocc;uniface.Entity=function(c){uniface.DataObject.call(this,c)};uniface.Entity.prototype=new uniface.DataObject;uniface.Entity.prototype._type=uniface.TYPE_ENTITY;uniface.Entity.prototype.getParent=function(){var c=this._getIDO();return f.isInstanceOcc(c.container)?m(uniface.Instance,f.getInstance(c)):m(uniface.Occurrence,c.container)};uniface.Entity.prototype.getOccurrenceCount=function(){for(var c=this._getIDO(),a=f.getOccCnt(c),b=0,e=0;e<
a;)"del"!==f.getOccStatus(f.getOcc(c,e++))&&b++;return b};uniface.Entity.prototype.getOccurrence=function(c){var a=this._getIDO(),b=null;c=parseInt(c,10);if(!isNaN(c)&&0<=c){for(var e=0,g=f.getOccCnt(a);e<g&&"del"===f.getOccStatus(f.getOcc(a,e));)e++;for(;e<g&&0<c;)for(e++,c--;e<g&&"del"===f.getOccStatus(f.getOcc(a,e));)e++;e<g&&(b=m(uniface.Occurrence,f.getOcc(a,e)))}return b};uniface.Entity.prototype.getCurrentOccurrence=function(){return m(uniface.Occurrence,f.getCurOcc(this._getIDO()))};uniface.Entity.prototype.getOccurrences=
function(){for(var c=this._getIDO(),a=f.getOccCnt(c),b,e=[],g=0;g<a;)b=f.getOcc(c,g++),"del"!==f.getOccStatus(b)&&e.push(m(uniface.Occurrence,b));return e};uniface.Entity.prototype.createOccurrence=function(c){var a=this._getIDO(),b,e=f.getOccCnt(a);if(0>c)b=e;else{for(b=0;b<e&&0<c;){for(;b<e&&"del"===f.getOccStatus(f.getOcc(a,b));)b++;b++;c--}if(0<c)return null}return k(a,b)};uniface.Entity.prototype.clear=function(){f.clearEnt(this._getIDO());var c=this._getLUVObject();c&&c.refresh(this._getIDO())}})(this,
this._uf.ui,this._uf.data);(function(h,g,f){var m=uniface._getAPIObject,k=uniface._creocc;uniface.Occurrence=function(c){uniface.DataObject.call(this,c)};uniface.Occurrence.prototype=new uniface.DataObject;uniface.Occurrence.prototype._isValid=function(){return this._ido&&f.isOccValid(this._ido)};uniface.Occurrence.prototype._def=function(){return this._getIDO().container.def};uniface.Occurrence.prototype.getName=function(){return this._ido.container.def.nm};uniface.Occurrence.prototype._isOccMod=function(){return f.isOccMod(this._getIDO())};
uniface.Occurrence.prototype._type=uniface.TYPE_OCCURRENCE;uniface.Occurrence.prototype._getIDO=function(){if(!this._isValid()||"del"===f.getOccStatus(this._ido))throw new uniface.InvalidDataObjectException(this);return this._ido};uniface.Occurrence.prototype.getParent=function(){return m(uniface.Entity,this._getIDO().container)};uniface.Occurrence.prototype.getIndex=function(){var c=this._getIDO(),a=c.container,b=f.getOccCnt(a),e=0,g;for(g=0;g<b;g++){if(c===f.getOcc(a,g))return e;"del"!==f.getOccStatus(f.getOcc(a,
g))&&e++}return null};uniface.Occurrence.prototype._getInternalIndex=function(){for(var c=this._getIDO(),a=c.container,b=0;f.getOcc(a,b)!==c;)b++;return b};uniface.Occurrence.STATUS_EMPTY="empty";uniface.Occurrence.STATUS_NEW="new";uniface.Occurrence.STATUS_UNMODIFIED="est";uniface.Occurrence.STATUS_MODIFIED="mod";uniface.Occurrence.prototype.getStatus=function(){return f.getOccStatus(this._getIDO())};uniface.Occurrence.prototype._createChild=function(c,a,b){var e=this._getIDO();if("string"===typeof a){0>
a.indexOf(".")&&(a=a+"."+this._def().nm);a=a.toUpperCase();var g=this._def().occs,d,h;for(d in g)if(g.hasOwnProperty(d)&&(h=g[d],h.type===c&&h.nm===a))return m(b,f.getOccChild(e,d))}return null};uniface.Occurrence.prototype._createChildren=function(c,a){var b=this._getIDO(),e=[],g=this._def().occs,d,h;for(d in g)g.hasOwnProperty(d)&&(h=g[d],h.type===c&&void 0!==f.getOccChild(b,d)&&e.push(m(a,f.getOccChild(b,d))));e.sort(function(a,b){return a.getName()>b.getName()?1:-1});return e};uniface.Occurrence.prototype.insertNewBefore=
function(){k(this._getIDO().container,this._getInternalIndex())};uniface.Occurrence.prototype.insertNewAfter=function(){k(this._getIDO().container,this._getInternalIndex()+1)};uniface.Occurrence.prototype.discard=function(){var c=this._getIDO();f.discardOcc(f.getInstance(c),c.container.def,c.container,c);c.container&&c.container.ro&&c.container.ro.refresh(c.container)};uniface.Occurrence.prototype.remove=function(c){var a=this._getIDO();f.remOcc(f.getInstance(a),a.container.def,a.container,a,c);a.container&&
a.container.ro&&a.container.ro.refresh(a.container)};uniface.Occurrence.prototype.getEntity=function(c){return this._createChild("entity",c,uniface.Entity)};uniface.Occurrence.prototype.getField=function(c){return this._createChild("field",c,uniface.Field)};uniface.Occurrence.prototype.getEntities=function(){return this._createChildren("entity",uniface.Entity)};uniface.Occurrence.prototype.getFields=function(){return this._createChildren("field",uniface.Field)};uniface.Occurrence.prototype.isCurrent=
function(){var c=this._getIDO();return f.isOccCurrent(c)};uniface.Occurrence.prototype.isSelected=function(){var c=this._getIDO();return f.isOccSelected(c)};uniface.Occurrence.prototype.toString=function(){var c=this.getType()+" "+this.getName();return c=this._isValid()?c+":"+this.getIndex():c+" (invalid)"};uniface.Occurrence.prototype.getLabel=function(c){var a=null;c=this.getField(c);null!==c&&(a=c.getLabel());return a}})(this,this._uf.ui,this._uf.data);(function(h,g,f){var m=uniface._updateProps,k=uniface._getAPIObject;uniface.Field=function(c){uniface.DataObject.call(this,c);this._label=null};uniface.Field.prototype=new uniface.DataObject;uniface.Field.prototype.getParent=function(){return k(uniface.Occurrence,this._getIDO().container)};uniface.Field.prototype._type=uniface.TYPE_FIELD;uniface.Field.prototype.getValue=function(){return f.getFldValue(this._getIDO())};uniface.Field.prototype._markAsModified=function(c){f.setFldMod(this._getIDO(),
c);uniface._markAsModified_occ(c,this._getIDO().container)};uniface.Field.prototype.setValue=function(c){var a=this._getIDO();"string"!=typeof c&&(c=c.toString());var b=this;_uf.commands.executeWithoutEvents(function(){f.setFldValue(a,c);var e=b._getLUVObject();e&&(e.setValue(c),e.setNotModified())});this._markAsModified("direct")};uniface.Field.prototype.getValrep=function(){var c=f.getFldValrep(this._getIDO());c&&(c=UNIFACE.luv.util.normalizeValrep(c));return c?c[0]:c};uniface.Field.prototype.getValrepArray=
function(){var c=f.getFldValrep(this._getIDO());if(c){var c=UNIFACE.luv.util.normalizeValrep(c),a=[],b;for(b=0;b<c[1].length;b++)a.push([c[1][b],c[0][c[1][b]]]);c=a}return c};uniface.Field.prototype.setValrep=function(c){var a=this._getIDO();if(c){if(c.constructor!==Array){var b=[],e;for(e in c)c.hasOwnProperty(e)&&b.push([e,c[e]]);c=b}c=UNIFACE.luv.util.normalizeValrep(c);f.setFldValrep(a,UNIFACE.luv.util.assureValrep(c));c=f.getFldValrep(a)}else f.setFldValrep(a,void 0),c=this._def().valrep;(a=
this._getLUVObject())&&a.setValrep(c,this.getValue())};uniface.Field.prototype.setValrepArray=uniface.Field.prototype.setValrep;uniface.Field.prototype.getSyntaxProperty=function(c){if(this._getIDO().normalizedProps)return this._getIDO().normalizedProps.syntax[c.toUpperCase()]};uniface.Field.prototype.setSyntaxProperty=function(c,a){var b={};b[c]=a;this.setSyntaxProperties(b)};uniface.Field.prototype.clearSyntaxProperty=function(c){var a=this._getIDO().normalizedProps;a&&(c=c.toUpperCase(),a=a.syntax,
a.hasOwnProperty(c)&&delete a[c],m(this,{},a))};uniface.Field.prototype.getSyntaxProperties=function(){var c=this._getIDO().normalizedProps;return c?c.syntax:{}};uniface.Field.prototype.setSyntaxProperties=function(c){var a=this._getIDO().normalizedProps;if(a){var b;(a=a.syntax)||(a={});for(b in c)if(c.hasOwnProperty(b)){if(!UNIFACE.syn.isValidProp(b)||"NED"===b.toUpperCase()||"DIM"===b.toUpperCase())throw new uniface.InvalidSyntaxPropertyException(b);a[b.toUpperCase()]=c[b]}m(this,{},a)}};uniface.Field.prototype.clearSyntaxProperties=
function(){m(this,{},{})};uniface.Field.prototype.getLabel=function(){null===this._label&&(this._label=new uniface.Label(this._getIDO()));return this._label};uniface.Label=function(c){uniface.DataObject.call(this,c);f.setLabelValue(this._getIDO(),c.def.label.value)};uniface.Label.prototype=new uniface.DataObject;uniface.Label.prototype.getParent=function(){return k(uniface.Occurrence,this._getIDO().container)};uniface.Label.prototype._type=uniface.TYPE_LABEL;uniface.Label.prototype.getValue=function(){return this._getIDO().labelValue};
uniface.Label.prototype.setValue=function(c){var a=this._getIDO();"string"!=typeof c&&(c=c.toString());f.setLabelValue(a,c);a.label_r_o&&a.label_r_o.setValue(a.labelValue)};uniface.DataObject.prototype.getDSPInstance=uniface.DataObject.prototype.getInstance})(this,this._uf.ui,this._uf.data);(function(){function h(f){Error.call(this,f);try{this.message=f,this.stack=Error().stack}catch(g){}}function g(f,g,k){k=k||h;g.prototype=new k;g.prototype.constructor=k;f&&(g.prototype.name=f)}g("uniface.Error",h,Error);uniface.UnifaceError=function(f){this.unifaceerror=f;h.call(this,"Uniface script error"+f?" "+f:"")};g("uniface.UnifaceError",uniface.UnifaceError);uniface.ServerError=function(){h.call("Uniface server error")};g("uniface.ServerError",uniface.ServerError);uniface.TransportError=function(f,
g){h.call(this,f+" at "+g)};g("uniface.TransportError",uniface.TransportError);uniface.HTTPError=function(f,g,h){this.statuscode=f;this.statustext=g;uniface.TransportError.call(this,"HTTP status code "+f+", "+g,h)};g("uniface.HTTPError",uniface.HTTPError,uniface.TransportError);uniface.NotCreated=function(){h.call("Instance not created.")};g("uniface.NotCreated",uniface.NotCreated);uniface.ModuleNotFound=function(f,g,k,c){this.moduleName=f;this.moduleType=g;this.objectName=k;this.componentName=c;
h.call("t"==="Could not find the JavaScript implementation of "+this.moduleType?"trigger ":"operation "+this.moduleName+" of "+(k?k+", ":"")+", component "+this.componentName+".")};g("uniface.ModuleNotFound",uniface.ModuleNotFound);uniface.NotCallable=function(f,g,k,c){this.moduleName=f;this.moduleType=g;this.objectName=k;this.componentName=c;h.call("t"===this.moduleType?"Trigger ":"Operation "+this.moduleName+" of "+(k?k+", ":"")+"component "+this.componentName+" is not callable.")};g("uniface.NotCallable",
uniface.NotCallable);uniface.DataAddressingException=function(f){h.call(this,f)};g("uniface.DataAddressingException",uniface.DataAddressingException);uniface.InvalidDataObjectException=function(f){uniface.DataAddressingException.call(this,(f?f.getType()+" "+f.getName():"Object")+" is not valid.")};g("uniface.InvalidDataObjectException",uniface.InvalidDataObjectException,uniface.DataAddressingException);uniface.InvalidSyntaxPropertyException=function(f){uniface.DataAddressingException.call(this,'"'+
f+'" is not a valid syntax property name.')};g("uniface.InvalidSyntaxPropertyException",uniface.InvalidSyntaxPropertyException,uniface.DataAddressingException);uniface.OccurrenceCreationException=function(f,g){};g("uniface.OccurrenceCreationException",uniface.OccurrenceCreationException,uniface.DataAddressingException);uniface.InvalidDSPInstanceException=function(f){uniface.DataAddressingException.call(this,(f?f.getType()+" "+f.getName():"Object")+" is not valid.")};g("uniface.InvalidDSPInstanceException",
uniface.InvalidDSPInstanceException,uniface.DataAddressingException);uniface.DuplicateDSPInstanceNameException=function(f){uniface.DataAddressingException.call(this,"An instance with "+(f?"the name "+f.getName():"this name")+" already exists.")};g("uniface.DuplicateDSPInstanceNameExceptio   n",uniface.DuplicateDSPInstanceNameException,uniface.DataAddressingException)})();(function(){function h(a,b){a.className=a.className.replace(RegExp("(?:^|\\s)"+b+"(?:$|\\s)")," ")}function g(a,b){a.className.match(RegExp("(?:^|\\s)"+b+"(?:$|\\s)"))||(a.className+=" "+b)}function f(a,b){b?(h(a,c),g(a,k)):(h(a,k),g(a,c))}function m(a){a=a.element?a.element:a.control.id?document.getElementById(a.control.id):null;void 0===a&&(a=null);return a}var k="-uflderror-in-error-",c="-uflderror-no-error-";_uf.view=_uf.view||{};_uf.view.errorFeedback={show:function(a,b){if(void 0!==a.getErrorLabel){var c=
a.getErrorLabel();if(c){for(;0<c.childNodes.length;)c.removeChild(c.firstChild);c.appendChild(document.createTextNode(b));f(c,!0)}a.widget&&(c=m(a.widget),null!==c&&b&&g(c,"-ufld-highlight-error-"))}},hide:function(a){if(a.getErrorLabel){var b=a.getErrorLabel();if(b){for(;0<b.childNodes.length;)b.removeChild(b.firstChild);f(b,!1)}a.widget&&(a=m(a.widget),null!==a&&h(a,"-ufld-highlight-error-"))}}}})();UNIFACE.widget.elem2=function(h){UNIFACE.widget.AbstractWidget.apply(this,arguments);this.controlType="text";this.parent=this.element=null;this.tagName="span"};UNIFACE.widget.elem2.prototype=new UNIFACE.widget.AbstractWidget;UNIFACE.widget.elem2.prototype.getElement=function(){return this.element};
UNIFACE.widget.elem2.prototype.doRender=function(h){this.parent=h.parentNode;this.element=this.createElement(h);this.fillAttributes();this.element.id=this.callBack.getId();this.setElementValue(this.callBack.getValue());this.element.style.cssText=h.style.cssText;this.parent.replaceChild(this.element,h);this.fillStyles()};UNIFACE.widget.elem2.prototype.setElementValue=function(h){this.element.value=h};UNIFACE.widget.elem2.prototype.setValue=function(h){this.element&&this.setElementValue(h)};
UNIFACE.widget.elem2.prototype.getValue=function(){return this.element?this.element.value:this.callBack.getValue()};UNIFACE.widget.elem2.prototype.fillAttributes=function(){};UNIFACE.widget.elem2.prototype.fillStyles=function(){};UNIFACE.widget.elem2.prototype.createElement=function(h){return h.tagName.toLowerCase()==this.tagName?h.cloneNode(!0):document.createElement(this.tagName)};UNIFACE.checkIf=function(h){h?h||alert("Boolean error!"):h&&alert("Boolean error!");return h};
(function(){function h(g,f){var h=uniface.getDSPInstance(g);h&&h._hasOperation(f)&&h.activate(f)}UNIFACE.widget.embeddedDSP=function(g){UNIFACE.widget.elem2.apply(this,arguments);this._value=null};UNIFACE.widget.embeddedDSP.prototype=new UNIFACE.widget.elem2;UNIFACE.widget.embeddedDSP.prototype.setValue=function(g){g=g.toUpperCase();if(UNIFACE.checkIf(this._value!==g)){var f=this._value;this._value=g;if(null!=this.element&&(this.unbindingDSP(f),this.bindingDSP(g),"function"===typeof this.onChange&&
!this.callBack.getInstance()._pendingDelete))this.onChange()}};UNIFACE.widget.embeddedDSP.prototype.getValue=function(){return this._value};UNIFACE.widget.embeddedDSP.prototype.getDspName=function(g){var f=this.callBack.getCalculatedProperties(),h="";return h=f.uniface&&f.uniface.componentname?f.uniface.componentname:g};UNIFACE.widget.embeddedDSP.prototype.unbindingDSP=function(g){if("string"===typeof g&&""!==g){var f=_uf.InstanceManager.getInstance(g);if(f){var m=this.callBack.getInstance();f.parent=
null;delete m.children[f.instanceName];f.hideTargetNode();h(g,"detach");this.dsp=void 0;f.widget=void 0}}};UNIFACE.widget.embeddedDSP.prototype.bindingDSP=function(g){var f=null;"string"===typeof g&&""!==g&&(f=_uf.InstanceManager.makeInstance(g,this.getDspName(g)),f.widget&&f.widget.setValue(""),this.loadDSP(f))};UNIFACE.widget.embeddedDSP.prototype.postRender=function(g){this._value&&void 0===this.dsp&&this.bindingDSP(this._value)};UNIFACE.widget.elem2.prototype.createElement=function(g){return document.createElement(this.tagName)};
UNIFACE.widget.embeddedDSP.prototype.unrender=function(){this.setValue("")};UNIFACE.widget.embeddedDSP.prototype.loadDSP=function(g){g.widget=this;this.dsp=g;var f=this.callBack.getInstance();f.children||(f.children={});f.children[g.instanceName]=g;g.parent=f;return g.definition?(this.doAttach(g),Promise.resolve()):UNIFACE.dl.loadDSP(g,"embed")};UNIFACE.widget.embeddedDSP.prototype.setLayout=function(g){g.showTargetNode(this.element)};UNIFACE.widget.embeddedDSP.prototype.doAttach=function(g){this.setLayout(g);
h(this._value,"attach")};UNIFACE.widget.embeddedDSP.prototype.mapEvents=function(){var g=this.callBack.getEvents();g.onchange&&(this.onChange=g.onchange,g.onchange.post=!0);UNIFACE.addListener(this.element,"ondblclick",g.ondblclick);UNIFACE.addListener(this.element,"onclick",g.onclick);UNIFACE.addListener(this.element,"onfocus",g.onfocus);UNIFACE.addListener(this.element,"onblur",g.onblur);UNIFACE.addListener(this.element,"onkeypress",g.onkeypress)};UNIFACE.widgetFactory.addCreator("UNIFACE.widget.embeddedDSP",
function(g,f){return new UNIFACE.widget.embeddedDSP(g)})})();var uwindow=function(){function h(c,a,b){c=document.createElement(c);null!=a&&(c.className=a);null!=b&&b.appendChild(c);return c}function g(c){for(;"div"!==c.tagName.toLowerCase()||"uwindow"!==c.className;)c=c.parentNode;return c}function f(c,a){var b=a.split("\n");0<b.length&&c.appendChild(document.createTextNode(b[0]));for(var e=1;e<b.length;e++)c.appendChild(document.createElement("br")),b[e]&&c.appendChild(document.createTextNode(b[e]));return b.length}var m,k;return{createWindow:function(c,a){var b=
h("div","uwindow"),e=h("div","utitlebar",b);e.appendChild(document.createTextNode(c));var f=h("div","wincontrols",e),f=h("img",null,f);f.src="../common/images/uwindow/close.jpg";f.title="Close";f.onclick=uwindow.closeWindow;f=h("div","clientwindow",b);""!==a&&h("div","statusline",b).appendChild(document.createTextNode(a));b.clientwindow=f;b.utitlebar=e;b.utitlebar.onmousedown=uwindow.wmbuttondown;b.utitlebar.hparent=b;b.style.position="fixed";b.style.zIndex=1;b.windowToFront=function(){var a=this.parentNode;
null!=a&&(a.removeChild(this),a.appendChild(this))};b.buttonFocus=function(){for(var a=this.getElementsByTagName("input"),b=0;b<a.length;b+=1)if("defaultButton"==a[b].name){a[b].focus();break}};b.takeFocus=function(){this.windowToFront();this.buttonFocus()};b.onclick=function(a){"iframe"!=this.clientwindow.contenttype&&this.takeFocus()};null==m&&(m=document.createElement("div"),m.className="usurroundings",m.style.position="fixed",m.style.top="0",m.style.left="0",m.style.width="100%",m.style.height=
"100%",m.style.zIndex=0,m.style.opacity=0.7,m.style.filter="alpha(opacity=70)",k=document.createElement("div"),k.className="uontop",k.appendChild(m),document.body.appendChild(k));k.appendChild(b);k.style.display="block";return b},moreinfo:function(){var c=g(this);uwindow.setClientContent(c,"iframe",c.moreinfo);uwindow.sizePosWindow(c,"center","center",500,250)},showFailure:function(c,a,b,e){var g=h("div");g.style.cssText="text-align: center; height: 100%;";h("br",null,g);var d=h("img",null,g);d.title=
"Close";d.src="../common/images/uwindow/error.gif";d.align="middle";a=f(g,"\n"+a);h("br",null,g);h("br",null,g);d=h("input",null);d.type="button";d.value="OK";d.name="defaultButton";d.onclick=uwindow.closeWindow;d.style.marginRight="3em";g.appendChild(d);d=h("input",null);d.id="moreinfo";d.type="button";d.value="More info...";d.name="more";d.onclick=uwindow.moreinfo;g.appendChild(d);h("br",null,g);c=uwindow.createWindow(c,b);c.moreinfo=e;uwindow.setClientContent(c,"html",g);uwindow.sizePosWindow(c,
"center","center",220,89+16*Math.min(a,8));uwindow.showWindow(c)},showMessage:function(c,a,b,e,g,d){var k=190,m=89,r=h("div");r.style.cssText="text-align:center; height:100%;";h("br",null,r);var z=h("img",null,r);z.title="Close";z.src="../common/images/uwindow/"+d+".gif";z.align="middle";d=f(r,"\n"+a);h("br",null,r);h("br",null,r);z=h("input",null);z.type="button";z.value=b;z.name="defaultButton";z.onclick=uwindow.closeWindow;r.appendChild(z);h("br",null,r);c=uwindow.createWindow(c,"");a.length&&
(k=10*a.length);a=0===e?Math.min(k+50,400):e;0!==g&&(m=g);m+=16*Math.min(d,8);uwindow.setClientContent(c,"html",r);uwindow.sizePosWindow(c,"center","center",a,m);uwindow.showWindow(c)},getviewpoint:function(){var c=document.all&&!window.opera,a=document.documentElement&&parseInt(document.documentElement.clientWidth,10)||1E5;this.standardbody="CSS1Compat"===document.compatMode?document.documentElement:document.body;this.scroll_left=this.scroll_top=0;this.docwidth=c?this.standardbody.clientWidth:/Safari/i.test(navigator.userAgent)?
window.innerWidth:Math.min(a,window.innerWidth-16);this.docheight=c?this.standardbody.clientHeight:window.innerHeight},sizeWindow:function(c,a,b){c.style.width=Math.max(parseInt(a,10),150)+"px";c.clientwindow.style.height=Math.max(parseInt(b,10),75)+"px"},sizePosWindow:function(c,a,b,e,f){this.getviewpoint();var d=0,g=k.childNodes.length+5-2;"center"===a?(d=25*(g%10-Math.floor(g/10)-5),c.style.left=this.scroll_left+(this.docwidth-c.offsetWidth)/2+d+"px"):c.style.left=this.scroll_left+parseInt(a,10)+
"px";"center"===b?(d=25*(g%10-5)+5*Math.floor(g/10),c.style.top=this.scroll_top+(this.docheight-c.offsetHeight)/2+d+"px"):c.style.top=this.scroll_top+parseInt(b,10)+"px";this.sizeWindow(c,e,f)},killChildNode:function(c){c.clientwindow.removeChild(c.clientwindow.childNodes[0]);c.clientwindow.contenttype=""},closeWindow:function(){var c=g(this);""!==c.clientwindow.contenttype&&c.clientwindow.removeChild(c.clientwindow.childNodes[0]);c.clientwindow.contenttype="";c.clientwindow.contenttype="";c.clientwindow.style.overflow=
"";c.clientwindow.innerHTML="";c.parentNode.removeChild(c);c.style.display="none";c=k.childNodes.length-1;0>=c?k.style.display="none":(c=k.childNodes[c],c.takeFocus())},showWindow:function(c){c.style.display="block";c.style.visibility="visible";c.buttonFocus()},setClientContent:function(c,a,b){var e=null,f=c.clientwindow.contenttype;"html"!=f&&"iframe"!=f||uwindow.killChildNode(c);"iframe"==a&&(e=window.document.createElement("iframe"),e.style.cssText="margin:0; padding:0; width:100%; height: 100%",
c.clientwindow.style.overflow="hidden",c.clientwindow.contenttype=a,e.name="wnd_name",c.clientwindow.appendChild(e));"iframe"==a&&null!==e?(c=e.contentWindow||e.contentDocument,c.document&&(c=c.document),c.open(),c.write(b),c.close()):"html"==a&&(c.clientwindow.style.overflow="",c.clientwindow.appendChild(b),c.clientwindow.contenttype=a)},wmbuttondown:function(c){var a=this.hparent,b=uwindow;b.clickedObj=this;c=window.event||c;b.xpos=c.clientX;b.ypos=c.clientY;b.initx=parseInt(a.currentStyle?a.currentStyle.left:
document.defaultView.getComputedStyle(a,null).getPropertyValue("left"),10);b.inity=parseInt(a.currentStyle?a.currentStyle.top:document.defaultView.getComputedStyle(a,null).getPropertyValue("top"),10);b.width=parseInt(a.offsetWidth,10);b.clientwindowheight=parseInt(a.clientwindow.offsetHeight,10);"iframe"===a.clientwindow.contenttype&&(a.clientwindow.style.visibility="hidden");document.onmousemove=b.wmmousemove;document.onmouseup=function(){"iframe"===a.clientwindow.contenttype&&(a.clientwindow.style.backgroundColor=
"white",a.clientwindow.style.visibility="visible");b.clickedObj=null;document.onmousemove=null;document.onmouseup=null};return!1},wmmousemove:function(c){var a=uwindow;c=window.event||c;a.dx=c.clientX-a.xpos;a.dy=c.clientY-a.ypos;"utitlebar"===a.clickedObj.className&&(c=a.clickedObj.hparent,c.style.left=a.dx+a.initx+"px",0>a.inity&&(a.inity=a.ypos),c.style.top=a.dy+a.inity+"px");return!1}}}();UNIFACE.extension.register("popupWindow",uwindow);UNIFACE.busyIndicator=function(){function h(c){var a="UNIFACE."+c,b=document.getElementById(a);if(void 0==b){var b=document.body,e=document.createElement("div");a&&(e.id=a);b.appendChild(e);e.className=c;b=e}return b}function g(){void 0==k&&(k=h("ubusyasync"));k.style.visibility=0<f?"visible":"hidden"}var f=0,m,k;return{setBusySync:function(c){void 0==m&&(m=h("ubusysync"));m.style.visibility=c?"visible":"hidden"},setBusyAsync:function(c){c?1==++f&&window.setTimeout(g,750):0>=--f&&(g(),f=0)}}}();
UNIFACE.extension.register("busyIndicator",UNIFACE.busyIndicator);
